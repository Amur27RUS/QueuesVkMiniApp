(this.webpackJsonpQueues_VKMiniApp_Front=this.webpackJsonpQueues_VKMiniApp_Front||[]).push([[0],{110:function(e,t,n){"use strict";(function(e){var a=n(6),r=n.n(a),u=n(9),o=n(7),c=n(0),s=n.n(c),i=n(13),l=n.n(i),d=(n(271),n(1)),m=n(151),p=n.n(m),f=n(152),h=n.n(f),v=n(119),g=n(123),b=n(124),E=n(135),O=n(136),S=n(139),y=n(141),C=n(143),q=n(145),w=n(147),A=n(149),j=n(25),k=n.n(j),N=n(58),B=n.n(N),D=n(33),T=n.n(D),x=n(153),I=n.n(x);e.queue={name:void 0,idQueue:void 0,avatarQueue:"",descriptionQueue:"",dateQueue:"",timeQueue:"",placeQueue:"",codeQueue:void 0,isFirstPlace:void 0,userPlace:void 0,iSAdmin:void 0,newUser:void 0,isUserAdmin:!1,userID:void 0,pic:void 0,picName:void 0,picURL:void 0,picURLNew:void 0,avatarName:void 0,joinQueueAvatar:void 0,joinQueueName:void 0,joinQueueCode:void 0,createName:"",createTime:"",createDate:"",createDescription:"",createPlace:"",counterForCalendar:0,changedName:void 0,changedDesc:void 0,changedDate:void 0,changedTime:void 0,changedPlace:void 0,changedPic:void 0,changedPicName:void 0,changedPicURL:void 0,changedPicURLNew:void 0,changedAvatarName:void 0,goBackIOS:!1,dataCheck:!1,codeForMsg:void 0};var P=Object(d.O)();t.a=function(t){var n=Object(c.useState)("home"),a=Object(o.a)(n,2),i=a[0],m=a[1],f=Object(c.useState)(["home"]),j=Object(o.a)(f,2),N=j[0],D=j[1],x=Object(c.useState)(["home"]),U=Object(o.a)(x,2),Q=(U[0],U[1],Object(c.useState)({id:6})),M=Object(o.a)(Q,2),_=M[0],L=M[1],z=Object(c.useState)(null),F=Object(o.a)(z,2),R=F[0],V=F[1],K=Object(c.useState)("main"),J=Object(o.a)(K,2),G=J[0],W=J[1],H=Object(c.useState)(null),X=Object(o.a)(H,2),Y=X[0],Z=X[1],$=Object(c.useState)(void 0),ee=Object(o.a)($,2),te=ee[0],ne=ee[1],ae=Object(c.useState)([]),re=Object(o.a)(ae,2),ue=re[0],oe=re[1],ce=Object(c.useState)(""),se=Object(o.a)(ce,2),ie=se[0],le=se[1],de=Object(c.useState)(null),me=Object(o.a)(de,2),pe=me[0],fe=me[1],he=Object(c.useState)("\u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043a\u043e\u0434"),ve=Object(o.a)(he,2),ge=ve[0],be=ve[1],Ee=Object(c.useState)(""),Oe=Object(o.a)(Ee,2),Se=(Oe[0],Oe[1],Object(c.useState)("")),ye=Object(o.a)(Se,2),Ce=ye[0],qe=ye[1],we=Object(c.useState)(""),Ae=Object(o.a)(we,2),je=Ae[0],ke=Ae[1],Ne=Object(c.useState)("defaultSpinner"),Be=Object(o.a)(Ne,2),De=Be[0],Te=Be[1],xe=Object(c.useState)(""),Ie=Object(o.a)(xe,2),Pe=Ie[0],Ue=Ie[1],Qe=Object(c.useState)(""),Me=Object(o.a)(Qe,2),_e=Me[0],Le=Me[1],ze=Object(c.useState)("createQueuePanel"),Fe=Object(o.a)(ze,2),Re=(Fe[0],Fe[1]),Ve=Object(c.useState)(!1),Ke=Object(o.a)(Ve,2),Je=Ke[0],Ge=Ke[1],We=Object(c.useState)("createQueuePanel"),He=Object(o.a)(We,2),Xe=He[0],Ye=He[1],Ze=Object(c.useState)(void 0),$e=Object(o.a)(Ze,2),et=($e[0],$e[1],Object(c.useState)("")),tt=Object(o.a)(et,2),nt=tt[0],at=tt[1];Object(c.useEffect)((function(){window.addEventListener("popstate",(function(){return setTimeout((function(){return rt()}),1)}))}),[e.scheme.goBack]),Object(c.useEffect)((function(){e.scheme.beginning||void 0===e.scheme.beginning||(Ye("turnOff"),W("instructionsView"),m("instruction")),console.log("\u041f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u0434\u0430\u043d\u043d\u044b\u0445 \u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435 \u0447\u0435\u0440\u0435\u0437 VK Bridge");var t=document.createElement("meta");function n(){return(n=Object(u.a)(r.a.mark((function t(){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.send("VKWebAppGetUserInfo");case 2:if(n=t.sent,L(n),e.queue.userID=n.id,V(null),console.log("\u041e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d \u0437\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u043e\u0447\u0435\u0440\u0435\u0434\u0435\u0439..."),fetch("/getQueues",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({url:window.location.search.replace("?","")})}).then((function(e){return e.json()})).then((function(e){a(e),Te("turnOff")})).catch((function(e){fe(s.a.createElement(d.D,{layout:"vertical",onClose:function(){return fe(null)},before:s.a.createElement(d.b,{size:24},s.a.createElement(k.a,{fill:"red",width:14,height:14}))},"\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u044f! \u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442!"))})),""===window.location.hash){t.next=13;break}return e.queue.joinQueueCode=window.location.hash.replace("#","").toUpperCase(),6===e.queue.joinQueueCode.length&&fetch("/getQueueToJoin",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({queueCODE:e.queue.joinQueueCode,url:window.location.search.replace("?","")})}).then((function(e){return e.json()})).then((function(t){"alreadyThere"===t?fe(s.a.createElement(d.D,{layout:"vertical",onClose:function(){return fe(null)},before:s.a.createElement(d.b,{size:24,style:st},s.a.createElement(B.a,{fill:"#fff",width:14,height:14}))},"\u0412\u044b \u0443\u0436\u0435 \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u0435\u0441\u044c \u0432 \u044d\u0442\u043e\u0439 \u043e\u0447\u0435\u0440\u0435\u0434\u0438!")):"noQueue"===t?fe(s.a.createElement(d.D,{layout:"vertical",onClose:function(){return fe(null)},before:s.a.createElement(d.b,{size:24},s.a.createElement(k.a,{fill:"red",width:14,height:14}))},"\u041e\u0447\u0435\u0440\u0435\u0434\u0438 \u0441 \u0432\u0432\u0435\u0434\u0451\u043d\u043d\u044b\u043c \u043a\u043e\u0434\u043e\u043c \u043f\u0440\u0438\u0433\u043b\u0430\u0448\u0435\u043d\u0438\u044f \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442!")):(e.queue.name=t.name,e.queue.avatar=t.avatar,ke(t.avatar),qe(t.name),Z("queue-join"),P!==d.p&&(window.history.pushState({history:"MODAL_CARD_QUEUE_INVITE"},"MODAL_CARD_QUEUE_INVITE"),N.push("MODAL_CARD_QUEUE_INVITE")),console.log("\u0417\u0430\u043f\u0443\u0441\u0442\u0438\u043b\u0441\u044f \u0438\u043d\u0432\u0430\u0439\u0442 \u0438 \u0434\u043e\u0431\u0430\u0432\u0438\u043b\u043e\u0441\u044c "+N))})),t.next=13,l.a.send("VKWebAppSetLocation",{location:""});case 13:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function a(e){return o.apply(this,arguments)}function o(){return(o=Object(u.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:oe(t);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.name="referrer",t.content="no-referrer",document.getElementsByTagName("head")[0].appendChild(t),function(){n.apply(this,arguments)}(),l.a.subscribe((function(t){var n=t.detail,a=n.type,r=n.data;if("VKWebAppUpdateConfig"===a){var u=document.createAttribute("scheme");u.value=r.scheme?r.scheme:"client_light",document.body.attributes.setNamedItem(u),e.scheme.scheme=u.value}else"VKWebAppViewRestore"===a&&(""!==window.location.hash&&(e.queue.joinQueueCode=window.location.hash.replace("#","").toUpperCase(),6===e.queue.joinQueueCode.length&&fetch("/getQueueToJoin",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({queueCODE:e.queue.joinQueueCode,url:window.location.search.replace("?","")})}).then((function(e){return e.json()})).then((function(t){"alreadyThere"===t?fe(s.a.createElement(d.D,{layout:"vertical",onClose:function(){return fe(null)},before:s.a.createElement(d.b,{size:24,style:st},s.a.createElement(B.a,{fill:"#fff",width:14,height:14}))},"\u0412\u044b \u0443\u0436\u0435 \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u0435\u0441\u044c \u0432 \u044d\u0442\u043e\u0439 \u043e\u0447\u0435\u0440\u0435\u0434\u0438!")):"noQueue"===t?fe(s.a.createElement(d.D,{layout:"vertical",onClose:function(){return fe(null)},before:s.a.createElement(d.b,{size:24},s.a.createElement(k.a,{fill:"red",width:14,height:14}))},"\u041e\u0447\u0435\u0440\u0435\u0434\u0438 \u0441 \u0432\u0432\u0435\u0434\u0451\u043d\u043d\u044b\u043c \u043a\u043e\u0434\u043e\u043c \u043f\u0440\u0438\u0433\u043b\u0430\u0448\u0435\u043d\u0438\u044f \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442!")):(e.queue.name=t.name,e.queue.avatar=t.avatar,ke(t.avatar),qe(t.name),Z("queue-join"),P!==d.p&&(window.history.pushState({history:"MODAL_CARD_QUEUE_INVITE"},"MODAL_CARD_QUEUE_INVITE"),N.push("MODAL_CARD_QUEUE_INVITE")))})).catch((function(e){fe(s.a.createElement(d.D,{layout:"vertical",onClose:function(){return fe(null)},before:s.a.createElement(d.b,{size:24},s.a.createElement(k.a,{fill:"red",width:14,height:14}))},"\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u044f! \u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442!"))}))),fe(null),l.a.send("VKWebAppSetLocation",{location:""}))}))}),[e.scheme.beginning]);var rt=function(){var e=Object(u.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Je){e.next=18;break}if(fe(null),Z(null),V(null),1!==N.length){e.next=9;break}return e.next=7,l.a.send("VKWebAppClose",{status:"success"});case 7:e.next=18;break;case 9:if(!(N.length>1)){e.next=18;break}return N.pop(),e.next=13,setTimeout((function(){return m(N[N.length-1])}),400);case 13:return window.scrollTo(0,0),e.next=16,Ge(!0);case 16:return e.next=18,setTimeout((function(){Ge(!1)}),800);case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ut=function(t){m(t.currentTarget.dataset.to),fe(null),window.history.pushState({history:t.currentTarget.dataset.to},t.currentTarget.dataset.to),N.push(t.currentTarget.dataset.to),e.queue.counterForCalendar=0,e.queue.isFirstPlace=void 0,e.queue.changedName=void 0,e.queue.changedDesc=void 0,e.queue.changedDate=void 0,e.queue.changedTime=void 0,e.queue.changedPlace=void 0,e.queue.changedPic=void 0,e.queue.changedPicName=void 0,e.queue.changedPicURL=void 0,e.queue.changedPioURLNew=void 0,e.queue.changedAvatarName=void 0,window.scrollTo(0,0)},ot=function(e){window.scrollTo(0,0),fe(null),W(e.currentTarget.dataset.story)},ct=function(e){void 0!==e&&6===e.trim().length?(Ue(""),Le(""),console.log("\u041e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d \u0437\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0432\u0445\u043e\u0434 \u0432 \u043e\u0447\u0435\u0440\u0435\u0434\u044c..."),fetch("/joinQueue",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({serverCode:e,url:window.location.search.replace("?","")})}).then(function(){var e=Object(u.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:n=e.sent,P!==d.p&&N.pop(),"noQueue"===n?(Z(null),ne(void 0),fe(s.a.createElement(d.D,{layout:"vertical",onClose:function(){return fe(null)},before:s.a.createElement(d.b,{size:24},s.a.createElement(k.a,{fill:"red",width:14,height:14}))},"\u041e\u0447\u0435\u0440\u0435\u0434\u0438 \u0441 \u0432\u0432\u0435\u0434\u0451\u043d\u043d\u044b\u043c \u043a\u043e\u0434\u043e\u043c \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442!"))):"alreadyThere"===n?(Z(null),ne(void 0),fe(s.a.createElement(d.D,{layout:"vertical",onClose:function(){return fe(null)},before:s.a.createElement(d.b,{size:24,style:st},s.a.createElement(B.a,{fill:"#fff",width:14,height:14}))},"\u0412\u044b \u0443\u0436\u0435 \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u0435\u0441\u044c \u0432 \u044d\u0442\u043e\u0439 \u043e\u0447\u0435\u0440\u0435\u0434\u0438!"))):"success"===n&&(Z(null),ne(void 0),fe(s.a.createElement(d.D,{layout:"vertical",onClose:function(){return fe(null)},before:s.a.createElement(d.b,{size:24,style:st},s.a.createElement(T.a,{fill:"#fff",width:14,height:14}))},"\u0412\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043f\u0440\u0438\u0441\u043e\u0435\u0434\u0438\u043d\u0438\u043b\u0438\u0441\u044c \u043a \u043e\u0447\u0435\u0440\u0435\u0434\u0438!")));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then(function(){var e=Object(u.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fetch("/getQueues",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({url:window.location.search.replace("?","")})}).then((function(e){return e.json()})).then((function(e){oe(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){fe(s.a.createElement(d.D,{layout:"vertical",onClose:function(){return fe(null)},before:s.a.createElement(d.b,{size:24},s.a.createElement(k.a,{fill:"red",width:14,height:14}))},"\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u044f! \u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442!"))}))):(Ue("error"),Le("\u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c 6 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432!"))},st={backgroundColor:"var(--accent)"},it=s.a.createElement(d.u,{activeModal:Y},s.a.createElement(d.t,{id:"massage-all",onClose:function(){Z(null),at(""),P!==d.p&&N.pop(),Ue(""),Le("")},header:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043a\u0441\u0442 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f",actions:[{title:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c",mode:"primary",action:function(){""!==nt?(fetch("/sendMessageToAll",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({queueCODE:e.queue.codeForMsg,message:nt,url:window.location.search.replace("?","")})}),Z(null),at(""),Ue(""),Le(""),fe(s.a.createElement(d.D,{layout:"vertical",onClose:function(){return fe(null)},before:s.a.createElement(d.b,{size:24,style:st},s.a.createElement(T.a,{fill:"#fff",width:14,height:14}))},"\u041e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e!"))):(Le("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0447\u0442\u043e-\u043d\u0438\u0431\u0443\u0434\u044c!"),Ue("error"))}}],actionsLayout:"vertical"},s.a.createElement(d.j,null,s.a.createElement(d.L,{bottom:_e,status:Pe,placeholder:"\u0422\u0435\u043a\u0441\u0442 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f...",value:nt,onChange:function(e){at(e.target.value),0===e.target.value.length?(Le("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0447\u0442\u043e-\u043d\u0438\u0431\u0443\u0434\u044c!"),Ue("error")):(Le(""),Ue(""))}}))),s.a.createElement(d.t,{id:"queue-join",onClose:function(){Z(null),P!==d.p&&N.pop()},icon:s.a.createElement(d.b,{src:je,size:72}),header:Ce,caption:"\u041f\u0440\u0438\u0433\u043b\u0430\u0448\u0435\u043d\u0438\u0435 \u0432 \u043e\u0447\u0435\u0440\u0435\u0434\u044c",actions:[{title:"\u041f\u0440\u0438\u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u044c\u0441\u044f",mode:"primary",action:function(){ct(e.queue.joinQueueCode),Z(null)}}],actionsLayout:"vertical"}),s.a.createElement(d.t,{className:"numberInputModal",id:"say-about",onClose:function(){Z(null),Ue(""),Le(""),P!==d.p&&(N.pop(),m(N[N.length-1])),ne(void 0)},header:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0434 \u043e\u0447\u0435\u0440\u0435\u0434\u0438",actions:[{title:"\u041f\u0440\u0438\u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u044c\u0441\u044f",mode:"primary",action:function(){void 0!==te?ct(te.toUpperCase()):(Ue("error"),Le("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0434"))}}]},s.a.createElement(d.j,{className:"inputJoin"},s.a.createElement(d.q,{id:"input",bottom:_e,status:Pe,className:"inputJoin",autoFocus:!1,type:"text",minlength:6,maxlength:6,value:te,onChange:function(e){ne(e.target.value.substring(0,6)),6===e.target.value.length?(Le(""),Ue("valid")):(Le("\u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c 6 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432!"),Ue("error"))}}))),s.a.createElement(d.t,{id:"chat-invite",onClose:function(){Z(null),be("\u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043a\u043e\u0434"),P!==d.p&&N.pop()},icon:s.a.createElement("span",{role:"img","aria-label":"\u0413\u043e\u0442\u043e\u0432\u043e!",className:"emoji"},"\ud83d\ude4c"),header:"\u041e\u0447\u0435\u0440\u0435\u0434\u044c \u0441\u043e\u0437\u0434\u0430\u043d\u0430!",caption:"\u041f\u0435\u0440\u0435\u0439\u0434\u0438\u0442\u0435 \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 \u0441 \u043e\u0447\u0435\u0440\u0435\u0434\u044f\u043c\u0438, \u0447\u0442\u043e\u0431\u044b \u0443\u0432\u0438\u0434\u0435\u0442\u044c \u0435\u0451!",actions:[{title:"\u041d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 \u0441 \u043e\u0447\u0435\u0440\u0435\u0434\u044f\u043c\u0438",mode:"primary",action:function(){P!==d.p&&N.pop(),V(null),Z(null),W("main"),m("home"),be("\u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043a\u043e\u0434")}},{title:"\u041f\u0440\u0438\u0433\u043b\u0430\u0441\u0438\u0442\u044c \u0434\u0440\u0443\u0437\u0435\u0439",mode:"secondary",action:function(){l.a.send("VKWebAppShare",{link:"https://vk.com/app7551421_199833891#".concat(ie)})}},{title:ge,mode:"secondary",action:function(){var e=Object(u.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.send("VKWebAppCopyText",{text:ie});case 2:be("\u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u043e!");case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}],actionsLayout:"vertical"})),lt=function(){var e=Object(u.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.send("VKWebAppAllowMessagesFromGroup",{group_id:198211683});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),dt=function(){var t=Object(u.a)(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.queue.beginning=!0,Ye("createQueuePanel"),W("main"),m("home"),t.next=6,l.a.send("VKWebAppStorageSet",{key:"firstInstruction",value:"true"});case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return s.a.createElement(d.e,null,s.a.createElement(d.g,{activeStory:G,tabbar:s.a.createElement(d.G,{className:Xe},s.a.createElement(d.H,{onClick:ot,selected:"main"===G,"data-story":"main","data-to":"home",text:"\u041e\u0447\u0435\u0440\u0435\u0434\u0438"},s.a.createElement(p.a,null)),s.a.createElement(d.H,{onClick:ot,selected:"createQueue"===G,"data-story":"createQueue","data-to":"createQueuePanel",text:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043e\u0447\u0435\u0440\u0435\u0434\u044c"},s.a.createElement(h.a,null)),s.a.createElement(d.H,{onClick:ot,selected:"settings"===G,"data-story":"settings",text:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"},s.a.createElement(I.a,null)))},s.a.createElement(d.N,{id:"main",activePanel:i,popout:R,modal:it,history:N},s.a.createElement(v.a,{id:"home",cssSpinner:De,history:N,setCssSpinner:Te,snackbar:pe,setSnackbar:fe,setJoinQueueAvatar:ke,setJoinQueueName:qe,queues:ue,fetchedUser:_,go:ut,setActiveModal:Z,setActiveStory:W,setQueues:oe}),s.a.createElement(b.a,{id:"aboutQueue",snackbar:pe,history:N,setHistory:D,setSnackbar:fe,setActiveStory:W,fetchedUser:_,go:ut,queues:ue,setActivePanel:m,setActiveModal:Z,setPopout:V,setQueues:oe}),s.a.createElement(E.a,{id:"changeQueue",setPopout:V,history:N,setSnackbar:fe,snackbar:pe,fetchedUser:_,go:ut,setActivePanel:m,setQueues:oe})),s.a.createElement(d.N,{id:"instructionsView",activePanel:i},s.a.createElement(S.a,{id:"instruction",setActivePanel:m,skip:dt,setTabbarCSS:Ye}),s.a.createElement(y.a,{id:"instruction2",setActivePanel:m,skip:dt}),s.a.createElement(C.a,{id:"instruction3",setActivePanel:m,skip:dt}),s.a.createElement(q.a,{id:"instruction4",setActivePanel:m,skip:dt}),s.a.createElement(w.a,{id:"instruction5",setActivePanel:m,skip:dt}),s.a.createElement(A.a,{id:"instruction6",setActivePanel:m,setActiveStory:W,skip:dt,allowNotifications:lt})),s.a.createElement(d.N,{id:"createQueue",activePanel:"CreateQueue",popout:R,modal:it,history:N},s.a.createElement(g.a,{id:"CreateQueue",setCSSForCreateQueue:Re,history:N,setSnackbar:fe,setPopout:V,snackbar:pe,go:ut,setActiveModal:Z,fetchedUser:_,setQueueCODE:le})),s.a.createElement(d.N,{id:"settings",activePanel:"Settings",popout:R,modal:it},s.a.createElement(O.a,{id:"Settings",go:ut,fetchedUser:_,setSnackbar:fe,snackbar:pe}))))}}).call(this,n(30))},119:function(e,t,n){"use strict";(function(e){var a=n(6),r=n.n(a),u=n(9),o=n(7),c=n(0),s=n.n(c),i=n(120),l=n(122),d=n.n(l),m=n(1),p=n(121),f=n.n(p),h=n(25),v=n.n(h),g=n(13),b=n.n(g),E=Object(m.O)(),O=0;t.a=function(t){var n=t.id,a=t.cssSpinner,l=t.history,p=t.setCssSpinner,h=t.snackbar,g=t.setSnackbar,S=(t.setJoinQueueAvatar,t.setJoinQueueName,t.go),y=t.fetchedUser,C=t.queues,q=(t.setActiveStory,t.setQueues),w=t.setActiveModal,A=Object(c.useState)(void 0),j=Object(o.a)(A,2),k=j[0],N=j[1];Object(c.useEffect)((function(){function t(){return(t=Object(u.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:q(t);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}e.queue.userID=y.id,0!==O&&(p("defaultSpinner"),console.log("\u041e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d \u0437\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u043e\u0447\u0435\u0440\u0435\u0434\u0435\u0439..."),fetch("/getQueues",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({url:window.location.search.replace("?","")})}).then((function(e){return e.json()})).then((function(e){!function(e){t.apply(this,arguments)}(e),p("turnOff")})).catch((function(e){g(s.a.createElement(m.D,{layout:"vertical",onClose:function(){return g(null)},before:s.a.createElement(m.b,{size:24},s.a.createElement(v.a,{fill:"red",width:14,height:14}))},"\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u044f! \u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442!"))}))),O++,b.a.send("VKWebAppGetAds",{}).then((function(e){N(s.a.createElement(m.z,{onClose:function(){N(void 0)},bannerData:e}))})).catch((function(e){return console.log(e)}))}),[]);return s.a.createElement(m.v,{id:n},s.a.createElement(m.w,null,"\u0412\u0430\u0448\u0438 \u043e\u0447\u0435\u0440\u0435\u0434\u0438"),s.a.createElement(m.f,null,s.a.createElement(m.m,null,s.a.createElement(m.r,null,C.map((function(e){return s.a.createElement(i.a,{info:e,go:S})}))))),s.a.createElement(m.E,{className:a,size:"large",style:{marginTop:20}}),0!==C.length&&s.a.createElement(m.f,{className:"EnterDiv"},s.a.createElement(m.c,{className:"joinBTN",size:"l",level:"2",before:s.a.createElement(f.a,null),onClick:function(){w("say-about"),E!==m.p&&(window.history.pushState({history:"MODAL_CARD_ABOUT"},"MODAL_CARD_ABOUT"),l.push("MODAL_CARD_ABOUT"))}},"\u0412\u043e\u0439\u0442\u0438 \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u043a\u043e\u0434\u0430")),0===C.length&&"turnOff"===a&&s.a.createElement(m.f,null,s.a.createElement(m.C,null),s.a.createElement(m.y,{icon:s.a.createElement(d.a,null),action:s.a.createElement(m.c,{size:"l",mode:"tertiary",onClick:function(){w("say-about"),E!==m.p&&(window.history.pushState({history:"MODAL_CARD_ABOUT"},"MODAL_CARD_ABOUT"),l.push("MODAL_CARD_ABOUT"))}},"\u0412\u043e\u0439\u0442\u0438 \u0432 \u043e\u0447\u0435\u0440\u0435\u0434\u044c \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u043a\u043e\u0434\u0430"),stretched:!0},"\u0412\u044b \u043d\u0435 \u0441\u043e\u0441\u0442\u043e\u0438\u0442\u0435 \u0432 \u043e\u0447\u0435\u0440\u0435\u0434\u044f\u0445")),s.a.createElement(m.i,{vertical:"bottom"},k),h)}}).call(this,n(30))},120:function(e,t,n){"use strict";(function(e){var a=n(0),r=n.n(a),u=n(1);t.a=function(t){var n=t.info,a=t.go;return r.a.createElement(u.A,{className:"QueueCellStyle",before:r.a.createElement(u.b,{size:48,src:n.avatar}),text:n.place,caption:n.date.slice(0,10).split("-").reverse().join("."),onClick:function(t){a(t),e.queue.name=n.name,e.queue.idQueue=n.id,e.queue.avatarQueue=n.avatar,e.queue.descriptionQueue=n.description,e.queue.dateQueue=n.date,e.queue.timeQueue=n.time,e.queue.placeQueue=n.place,e.queue.codeQueue=n.code},"data-to":"aboutQueue"},n.name)}}).call(this,n(30))},123:function(e,t,n){"use strict";(function(e){var a,r,u=n(6),o=n.n(u),c=n(9),s=n(7),i=n(0),l=n.n(i),d=n(1),m=n(55),p=n.n(m),f=n(25),h=n.n(f),v=n(56),g=n.n(v),b=n(53),E=n.n(b),O=n(54),S=n.n(O),y=(new Date).toLocaleDateString("en-GB"),C=(y.split(".").reverse().join("-"),y.split("/").reverse().join("-")),q=!0,w=new Date(C),A=Object(d.O)();t.a=function(t){var n=t.snackbar,u=t.id,m=(t.go,t.history),f=t.setActiveModal,v=(t.fetchedUser,t.setQueueCODE),b=t.setPopout,O=t.setSnackbar,y=Object(i.useState)(e.queue.createName),j=Object(s.a)(y,2),k=j[0],N=j[1],B=Object(i.useState)(e.queue.createDate),D=Object(s.a)(B,2),T=D[0],x=D[1],I=Object(i.useState)(e.queue.createTime),P=Object(s.a)(I,2),U=P[0],Q=P[1],M=Object(i.useState)(e.queue.createDescription),_=Object(s.a)(M,2),L=_[0],z=_[1],F=Object(i.useState)(""),R=Object(s.a)(F,2),V=R[0],K=R[1],J=Object(i.useState)(e.queue.createPlace),G=Object(s.a)(J,2),W=G[0],H=G[1],X=Object(i.useState)(""),Y=Object(s.a)(X,2),Z=Y[0],$=Y[1],ee=Object(i.useState)(""),te=Object(s.a)(ee,2),ne=te[0],ae=te[1],re=Object(i.useState)(""),ue=Object(s.a)(re,2),oe=ue[0],ce=ue[1],se=Object(i.useState)(""),ie=Object(s.a)(se,2),le=ie[0],de=ie[1],me=Object(i.useState)(!1),pe=Object(s.a)(me,2),fe=pe[0],he=pe[1],ve=Object(i.useState)(!1),ge=Object(s.a)(ve,2),be=ge[0],Ee=ge[1],Oe=Object(i.useState)(void 0),Se=Object(s.a)(Oe,2),ye=(Se[0],Se[1],Object(i.useState)("turnOff")),Ce=Object(s.a)(ye,2),qe=Ce[0],we=Ce[1],Ae=Object(i.useState)("turnOff"),je=Object(s.a)(Ae,2),ke=je[0],Ne=je[1],Be=Object(i.useState)("turnOff"),De=Object(s.a)(Be,2),Te=De[0],xe=De[1],Ie=Object(i.useState)("turnOff"),Pe=Object(s.a)(Ie,2),Ue=Pe[0],Qe=Pe[1],Me=Object(i.useState)("dateAndTimeInputButton"),_e=Object(s.a)(Me,2),Le=_e[0],ze=_e[1],Fe=Object(i.useState)("timeInputButton"),Re=Object(s.a)(Fe,2),Ve=Re[0],Ke=Re[1];Object(i.useEffect)((function(){K(e.queue.avatarName),void 0!==e.queue.avatarName&&(we("deleteImgButton"),Ne("divForDel"))}));var Je=function(){var t=Object(c.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:b(l.a.createElement(d.B,null)),console.log("\u041e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d \u0437\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043e\u0447\u0435\u0440\u0435\u0434\u0438...");try{fetch("/createQueue",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({queueName:k,queuePlace:W,queueTime:U,queueDate:T,queueAvatarURL:e.queue.picURLNew,queueDescription:L,url:window.location.search.replace("?","")})}).then((function(e){return e.json()})).then(function(){var t=Object(c.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:"LIMIT REACHED"===n?(O(l.a.createElement(d.D,{layout:"vertical",onClose:function(){return O(null)},before:l.a.createElement(d.b,{size:24},l.a.createElement(h.a,{fill:"red",width:14,height:14}))},"\u041b\u0438\u043c\u0438\u0442 \u0432 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0438 5 \u043e\u0447\u0435\u0440\u0435\u0434\u0435\u0439 \u0432 \u0434\u0435\u043d\u044c \u0438\u0441\u0447\u0435\u0440\u043f\u0430\u043d!")),b(null)):(v(n),void 0===e.queue.picURLNew?(b(null),f("chat-invite"),A!==d.p&&(window.history.pushState({panel:"MODAL_CARD_CHAT_INVITE"},"MODAL_CARD_CHAT_INVITE"),m.push("MODAL_CARD_CHAT_INVITE"))):(setTimeout((function(){return b(null)}),3e3),setTimeout((function(){return f("chat-invite")}),3e3),A!==d.p&&(window.history.pushState({panel:"MODAL_CARD_CHAT_INVITE"},"MODAL_CARD_CHAT_INVITE"),m.push("MODAL_CARD_CHAT_INVITE"))),e.queue.picURL=void 0,e.queue.pic=void 0,e.queue.picURLNew=void 0);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){console.log(e),b(null),O(l.a.createElement(d.D,{layout:"vertical",onClose:function(){return O(null)},before:l.a.createElement(d.b,{size:24},l.a.createElement(h.a,{fill:"red",width:14,height:14}))},"\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u044f! \u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442!"))}))}catch(n){console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0438 \u043e\u0447\u0435\u0440\u0435\u0434\u0438...")}case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),Ge=function(e){return Math.floor(Math.random()*Math.floor(e))};return l.a.createElement(d.v,{id:u},l.a.createElement(d.w,null," \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 "),l.a.createElement(d.j,{noValidate:!0},fe&&l.a.createElement(d.l,{header:oe,mode:"error"},le),l.a.createElement(d.q,{id:"qName",top:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043e\u0447\u0435\u0440\u0435\u0434\u0438*",value:k,maxlength:"32",status:Z,onClick:function(){Qe("turnOff"),xe("turnOff"),Ke("dateAndTimeInputButton"),ze("dateAndTimeInputButton")},onChange:function(t){""===t.target.value.trim()?(he(!0),ce("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043e\u0447\u0435\u0440\u0435\u0434\u0438!")):(he(!1),de(""),ce("")),e.queue.createName=t.target.value.trim(),t.target.value.trim()?$("valid"):$("error"),N(t.target.value.substring(0,32))}}),l.a.createElement(d.q,{id:"qPlace",top:"\u041c\u0435\u0441\u0442\u043e \u043f\u0440\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u044f",maxlength:"40",value:W,onClick:function(){Qe("turnOff"),xe("turnOff"),ze("dateAndTimeInputButton"),Ke("dateAndTimeInputButton")},onChange:function(t){H(t.target.value.substring(0,40)),e.queue.createPlace=t.target.value}}),l.a.createElement(d.k,{top:"\u0414\u0430\u0442\u0430 \u043f\u0440\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u044f*"},l.a.createElement(d.c,{className:Le,before:l.a.createElement(E.a,null),stretched:!0,size:"xl",mode:"secondary",onClick:function(e,t){document.getElementById("qName").blur(),document.getElementById("qDesc").blur(),document.getElementById("qPlace").blur(),Qe("dateInput"),ze("turnOff")}},"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0434\u0430\u0442\u0443"),l.a.createElement("div",{className:Ue},l.a.createElement(d.q,{id:"dateID",className:Ue,min:w,top:"\u0414\u0430\u0442\u0430 \u043f\u0440\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u044f*",novalidate:!0,name:"date",type:"date",value:T,status:ne,onChange:function(t){a=new Date(C),r=new Date(t.target.value),document.getElementById("dateID").validity.rangeUnderflow?(ae("error"),he(!0),e.queue.dataCheck=!1,"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043e\u0447\u0435\u0440\u0435\u0434\u0438!"===oe?(ce("\u041d\u0435\u0432\u0435\u0440\u043d\u0430\u044f \u0434\u0430\u0442\u0430 \u0438 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435!"),de("\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435, \u0447\u0442\u043e \u0434\u0430\u0442\u0430 \u0430\u043a\u0442\u0443\u0430\u043b\u044c\u043d\u0430.")):(ce("\u041d\u0435\u0432\u0435\u0440\u043d\u0430\u044f \u0434\u0430\u0442\u0430!"),de("\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435, \u0447\u0442\u043e \u0434\u0430\u0442\u0430 \u0430\u043a\u0442\u0443\u0430\u043b\u044c\u043d\u0430."))):(he(!1),ae("valid"),e.queue.dataCheck=!0),"error"===ne?(he(!0),ce("\u041d\u0435\u0432\u0435\u0440\u043d\u0430\u044f \u0434\u0430\u0442\u0430!"),de("\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435, \u0447\u0442\u043e \u0434\u0430\u0442\u0430 \u0430\u043a\u0442\u0443\u0430\u043b\u044c\u043d\u0430."),e.queue.dataCheck=!1):(e.queue.dataCheck=!0,he(!1)),a.getTime()>r.getTime()?(q=!1,e.queue.dataCheck=!1,ae("error"),he(!0),"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043e\u0447\u0435\u0440\u0435\u0434\u0438!"===oe?(ce("\u041d\u0435\u0432\u0435\u0440\u043d\u0430\u044f \u0434\u0430\u0442\u0430 \u0438 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435!"),de("\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435, \u0447\u0442\u043e \u0434\u0430\u0442\u0430 \u0430\u043a\u0442\u0443\u0430\u043b\u044c\u043d\u0430.")):(ce("\u041d\u0435\u0432\u0435\u0440\u043d\u0430\u044f \u0434\u0430\u0442\u0430!"),de("\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435, \u0447\u0442\u043e \u0434\u0430\u0442\u0430 \u0430\u043a\u0442\u0443\u0430\u043b\u044c\u043d\u0430."))):(e.queue.dataCheck=!0,q=!0,he(!1)),""!==t.target.value&&"Invalid Date"!==r.toString()||(ae("error"),he(!0),ce("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0434\u0430\u0442\u0443!")),x(t.target.value),e.queue.createDate=t.target.value}}))),l.a.createElement(d.k,{top:"\u0412\u0440\u0435\u043c\u044f \u043f\u0440\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u044f"},l.a.createElement(d.c,{className:Ve,before:l.a.createElement(S.a,null),stretched:!0,size:"xl",mode:"secondary",onClick:function(e,t){document.getElementById("qName").blur(),document.getElementById("qDesc").blur(),document.getElementById("qPlace").blur(),xe("timeInput"),Ke("turnOff")}},"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0432\u0440\u0435\u043c\u044f"),l.a.createElement("div",{className:Te},l.a.createElement(d.q,{id:"timeID",className:Te,top:"\u0412\u0440\u0435\u043c\u044f \u043d\u0430\u0447\u0430\u043b\u0430",name:"time",type:"time",value:U,onChange:function(t){Q(t.target.value),e.queue.createTime=t.target.value}}))),l.a.createElement(d.h,{id:"fileInputID",top:"\u0410\u0432\u0430\u0442\u0430\u0440\u043a\u0430 \u043e\u0447\u0435\u0440\u0435\u0434\u0438",accept:"image/*",before:l.a.createElement(p.a,null),controlSize:"xl",mode:"secondary",onChange:function(t){we("deleteImgButton"),Ne("divForDel"),function(t){var n=t.target.files[0].type,a=n.split("/");n=a[a.length-1];var r=t.target.files[0].name.split("."+n);2!==r.length&&"jpeg"===n&&(n="jpg",r=t.target.files[0].name.split("."+n));var u=t.target.files[0].name.split("."+n);e.queue.pic=t.target.files[0],e.queue.picName=k.replace(/\s+/g,"-").replace("?","").replace("!","").replace("!","")+"_"+t.target.files[0].name.replace(/\s+/g,"")+Ge(1e3),e.queue.picURL="https://firebasestorage.googleapis.com/v0/b/queuesvkminiapp.appspot.com/o/"+e.queue.picName+"?alt=media&token=bc19b8ba-dc95-4bcf-8914-c7b6163d1b3b",e.queue.picURLNew="https://firebasestorage.googleapis.com/v0/b/queuesvkminiapp.appspot.com/o/"+e.queue.picName.replace(u[0],u[0]+"_200x200")+"?alt=media&token=bc19b8ba-dc95-4bcf-8914-c7b6163d1b3b",e.queue.avatarName=t.target.files[0].name,K(t.target.files[0].name)}(t)}}),l.a.createElement("div",{className:ke},l.a.createElement(d.K,{className:"uploadedImgName"},V,l.a.createElement(d.c,{className:qe,mode:"tertiary",before:l.a.createElement(g.a,null),onClick:function(){K(""),e.queue.picURLNew=void 0,e.queue.picURL=void 0,we("turnOff"),Ne("turnOff"),e.queue.avatarName=void 0,document.getElementById("fileInputID").value=""}}))),l.a.createElement(d.q,{id:"qDesc",top:"\u041a\u0440\u0430\u0442\u043a\u043e\u0435 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043e\u0447\u0435\u0440\u0435\u0434\u0438",maxlength:"100",value:L,bottom:"\u0412 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0438 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0443 \u043d\u0430 \u043a\u043e\u043d\u0444\u0435\u0440\u0435\u043d\u0446\u0438\u044e \u0438\u043b\u0438 \u0436\u0435 \u043f\u0440\u043e\u0441\u0442\u043e \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u0443\u044e \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043e\u0431 \u043e\u0447\u0435\u0440\u0435\u0434\u0438.",onClick:function(){Qe("turnOff"),xe("turnOff"),ze("dateAndTimeInputButton"),Ke("dateAndTimeInputButton")},onChange:function(t){z(t.target.value.substring(0,100)),e.queue.createDescription=t.target.value}}),l.a.createElement(d.c,{size:"xl",onClick:Object(c.a)(o.a.mark((function t(){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(setTimeout("",200),n=document.getElementById("dateID"),e.queue.dataCheck&&q||(ae("error"),he(!0),"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043e\u0447\u0435\u0440\u0435\u0434\u0438!"===oe?(ce("\u041d\u0435\u0432\u0435\u0440\u043d\u0430\u044f \u0434\u0430\u0442\u0430 \u0438 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435!"),de("\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435, \u0447\u0442\u043e \u0434\u0430\u0442\u0430 \u0430\u043a\u0442\u0443\u0430\u043b\u044c\u043d\u0430."),Qe("dateInput"),ze("turnOff")):(ce("\u041d\u0435\u0432\u0435\u0440\u043d\u0430\u044f \u0434\u0430\u0442\u0430!"),de("\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435, \u0447\u0442\u043e \u0434\u0430\u0442\u0430 \u0430\u043a\u0442\u0443\u0430\u043b\u044c\u043d\u0430."),Qe("dateInput"),ze("turnOff")),window.scrollTo(0,0)),""===k.trim()||""===T.trim()||!q||!e.queue.dataCheck||n.validity.rangeUnderflow){t.next=18;break}return b(l.a.createElement(d.B,null)),he(!1),Ee(!1),t.prev=7,t.next=10,fetch("/checkCreation",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({url:window.location.search.replace("?","")})}).then((function(e){return e.json()})).then(function(){var t=Object(c.a)(o.a.mark((function t(n){var a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("LIMIT REACHED"!==n){t.next=5;break}O(l.a.createElement(d.D,{layout:"vertical",onClose:function(){return O(null)},before:l.a.createElement(d.b,{size:24},l.a.createElement(h.a,{fill:"red",width:14,height:14}))},"\u041b\u0438\u043c\u0438\u0442 \u0432 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0438 5 \u043e\u0447\u0435\u0440\u0435\u0434\u0435\u0439 \u0432 \u0434\u0435\u043d\u044c \u0438\u0441\u0447\u0435\u0440\u043f\u0430\u043d!")),b(null),t.next=39;break;case 5:if(void 0===e.queue.picURL){t.next=18;break}return a=function(){var t=Object(c.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,a){var r=new Image;r.src=n,r.onload=function(){return Ee(!1),t(e.queue.picURL),"ok"},r.onerror=function(){Ee(!0),a(),b(null),O(l.a.createElement(d.D,{layout:"vertical",onClose:function(){return O(null)},before:l.a.createElement(d.b,{size:24},l.a.createElement(h.a,{fill:"red",width:14,height:14}))},"\u041a\u0430\u0440\u0442\u0438\u043d\u043a\u0430 \u043f\u043e\u0432\u0440\u0435\u0436\u0434\u0435\u043d\u0430! \u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u0440\u0443\u0433\u0443\u044e.")),Ee(!1)}})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),console.log(e.queue.picURL),t.prev=8,t.next=11,fetch("https://firebasestorage.googleapis.com/v0/b/queuesvkminiapp.appspot.com/o?uploadType=media&name="+e.queue.picName,{method:"POST",headers:{Accept:"application/json","Content-Type":"image/png"},body:e.queue.pic}).then((function(e){return e.json()})).then(function(){var e=Object(c.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("\u041a\u0430\u0440\u0442\u0438\u043d\u043a\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u0430!");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(8),b(null);case 16:return t.next=18,a(e.queue.picURL);case 18:if(console.log(be),be){t.next=38;break}return t.next=22,Je();case 22:e.queue.createPlace="",e.queue.createDescription="",e.queue.createTime="",e.queue.createDate="",e.queue.createName="",e.queue.avatarName=void 0,N(""),x(""),z(""),Q(""),K(""),H(""),we("turnOff"),Ne("turnOff"),ae(""),$("");case 38:Ee(!1);case 39:case"end":return t.stop()}}),t,null,[[8,13]])})));return function(e){return t.apply(this,arguments)}}());case 10:t.next=16;break;case 12:t.prev=12,t.t0=t.catch(7),b(null),O(l.a.createElement(d.D,{layout:"vertical",onClose:function(){return O(null)},before:l.a.createElement(d.b,{size:24},l.a.createElement(h.a,{fill:"red",width:14,height:14}))},"\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u044f! \u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442!"));case 16:t.next=19;break;case 18:""===T.trim()&&""===k.trim()?($("error"),ae("error"),he(!0),ce("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0438 \u0434\u0430\u0442\u0443!"),b(null),Qe("dateInput"),ze("turnOff"),window.scrollTo(0,0)):q&&e.queue.dataCheck||""!==k.trim()?""===k.trim()?($("error"),he(!0),ce("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435!"),de(""),b(null),window.scrollTo(0,0)):""===T.trim()&&(ae("error"),he(!0),ce("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0434\u0430\u0442\u0443!"),b(null),Qe("dateInput"),ze("turnOff"),window.scrollTo(0,0)):($("error"),ae("error"),he(!0),ce("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0438 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u0443\u044e \u0434\u0430\u0442\u0443!"),b(null),Qe("dateInput"),ze("turnOff"),window.scrollTo(0,0));case 19:case"end":return t.stop()}}),t,null,[[7,12]])})))},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c")),n)}}).call(this,n(30))},124:function(e,t,n){"use strict";(function(e){var a=n(7),r=n(0),u=n.n(r),o=n(1),c=n(57),s=n.n(c),i=(n(283),n(129)),l=n.n(i),d=n(132),m=n.n(d),p=n(130),f=n.n(p),h=n(131),v=n.n(h),g=n(125),b=n(133),E=n.n(b),O=n(134),S=n.n(O),y=n(13),C=n.n(y),q=(n(284),n(289));t.a=function(t){var n=t.id,c=t.snackbar,i=t.history,d=t.setHistory,p=t.fetchedUser,h=t.setSnackbar,b=t.go,O=(t.queues,t.setActiveModal),y=t.setPopout,w=t.setActivePanel,A=t.setActiveStory,j=t.setQueues,k=Object(r.useState)("turnOff"),N=Object(a.a)(k,2),B=N[0],D=N[1],T=Object(r.useState)(e.queue.descriptionQueue),x=Object(a.a)(T,1)[0];return u.a.createElement(o.v,{id:n},u.a.createElement(o.w,{left:u.a.createElement(o.x,{onClick:function(){h(null),i.pop(),w(i[i.length-1])}},u.a.createElement(s.a,null))},"\u041e\u0447\u0435\u0440\u0435\u0434\u044c"),u.a.createElement("div",{className:"AvatarInQueueDiv"},u.a.createElement(o.b,{className:"AvatarInQueue",size:106,src:e.queue.avatarQueue})),u.a.createElement(o.f,null,u.a.createElement(o.m,{className:"QueueINFO"},u.a.createElement("div",null,u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement(o.o,{weight:"medium",className:"HeaderOfQueue"},e.queue.name),""!==e.queue.descriptionQueue.trim()&&u.a.createElement(o.s,{before:u.a.createElement(l.a,null),multiline:!0},u.a.createElement("div",{className:"Container",dangerouslySetInnerHTML:{__html:q(x,{defaultProtocol:"https"})}})),""!==e.queue.placeQueue.trim()&&u.a.createElement(o.s,{before:u.a.createElement(f.a,null)},e.queue.placeQueue),""!==e.queue.dateQueue&&u.a.createElement(o.s,{before:u.a.createElement(v.a,null)},e.queue.dateQueue.slice(0,10).split("-").reverse().join(".")),""!==e.queue.timeQueue&&u.a.createElement(o.s,{before:u.a.createElement(m.a,null)},e.queue.timeQueue.slice(0,5)),u.a.createElement(o.s,{before:u.a.createElement(E.a,null)},u.a.createElement("div",{className:"shareButton"},u.a.createElement(o.K,{weight:"semibold"},"\u041a\u043e\u0434 \u043e\u0447\u0435\u0440\u0435\u0434\u0438: ",e.queue.codeQueue," "),u.a.createElement(o.c,{mode:"tertiary",onClick:function(){C.a.send("VKWebAppShare",{link:"https://vk.com/app7551421_199833891#".concat(e.queue.codeQueue)})}},u.a.createElement(S.a,{className:"shareButtonOutline",width:23,height:23})))),u.a.createElement(o.c,{className:B,onClick:function(t){b(t),e.queue.pic=void 0,e.queue.picURL=void 0},"data-to":"changeQueue",mode:"tertiary"},"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e")))),u.a.createElement(g.a,{go:b,history:i,setHistory:d,snackbar:c,setSnackbar:h,setQueues:j,setCssEdit:D,setActiveStory:A,setActivePanel:w,setActiveModal:O,setPopout:y,queueCode:e.queue.codeQueue,fetchedUser:p}))}}).call(this,n(30))},125:function(e,t,n){"use strict";(function(e){var a=n(44),r=n(6),u=n.n(r),o=n(9),c=n(126),s=n(127),i=n(155),l=n(154),d=n(0),m=n.n(d),p=n(1),f=n(128),h=n.n(f),v=n(13),g=n.n(v),b=n(33),E=n.n(b),O=1,S=1,y=1,C=Object(p.O)(),q={backgroundColor:"var(--accent)"},w=1,A="ButtonsDiv",j="giveAdmin",k=function(t){Object(i.a)(r,t);var n=Object(l.a)(r);function r(t){var a;return Object(c.a)(this,r),(a=n.call(this,t)).shuffle=function(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),a=[e[n],e[t]];e[t]=a[0],e[n]=a[1]}return e},a.adminButton=function(){S%2===0?a.setState({draggable:!1,buttonText:"\u0412\u043a\u043b. \u043f\u0435\u0440\u0435\u043c\u0435\u0449\u0435\u043d\u0438\u0435/\u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435"}):(a.setState({selectables:!1,nameAdminButton:"\u0412\u044b\u0434\u0430\u0442\u044c \u043f\u0440\u0430\u0432\u0430 \u0430\u0434\u043c\u0438\u043d\u0430",draggable:!0,buttonText:"\u041e\u0442\u043a\u043b. \u043f\u0435\u0440\u0435\u043c\u0435\u0449\u0435\u043d\u0438\u0435/\u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435",CSSMenuDropout:"turnOff",openMenuButton:"\u041e\u0442\u043a\u0440\u044b\u0442\u044c \u043c\u0435\u043d\u044e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0439",cssButtonGiveAdmin:"turnOff"}),w++),S++,"turnOff"!==a.state.CSSAddNewUserInput&&(a.setState({CSSAddNewUserInput:"turnOff",CSSAddNewUserButton:"turnOff"}),y++),"turnOff"!==a.state.cssButtonGiveAdmin&&(a.setState({nameAdminButton:"\u0412\u044b\u0434\u0430\u0442\u044c \u043f\u0440\u0430\u0432\u0430 \u0430\u0434\u043c\u0438\u043d\u0430",selectables:!1,cssButtonGiveAdmin:"turnOff"}),O++)},a.copyToClipboard=function(e){var t=document.createElement("textarea");document.body.appendChild(t),t.value=e,t.select(),document.execCommand("copy"),document.body.removeChild(t)},a.addAdminButton=function(){a.setState({openProfile:!1}),a.state.addAdminForLast&&O%2===0&&O++,O%2===0?(A=C===p.p?"ButtonDivIOS":"ButtonsDiv",a.setState({cssPlusAdminButton:"turnOff",nameAdminButton:"\u0412\u044b\u0434\u0430\u0442\u044c \u043f\u0440\u0430\u0432\u0430 \u0430\u0434\u043c\u0438\u043d\u0430",selectables:!1,cssButtonGiveAdmin:"turnOff",CSSButtonDiv:A}),O++,a.setState({openProfile:!0})):("\u041e\u0442\u043a\u043b. \u043f\u0435\u0440\u0435\u043c\u0435\u0449\u0435\u043d\u0438\u0435/\u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435"===a.state.buttonText&&S++,C===p.p?(A="ButtonDivIOS2",j="giveAdminIOS"):(A="ButtonsDiv2",j="giveAdmin"),a.setState({CSSButtonDiv:A,cssPlusAdminButton:"123",nameAdminButton:"\u0421\u043a\u0440\u044b\u0442\u044c \u0432\u044b\u0434\u0430\u0447\u0443 \u043f\u0440\u0430\u0432 \u0430\u0434\u043c\u0438\u043d\u0430",selectables:!0,CSSMenuDropout:"turnOff",openMenuButton:"\u041e\u0442\u043a\u0440\u044b\u0442\u044c \u043c\u0435\u043d\u044e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0439",cssButtonGiveAdmin:j,draggable:!1,buttonText:"\u0412\u043a\u043b. \u043f\u0435\u0440\u0435\u043c\u0435\u0449\u0435\u043d\u0438\u0435/\u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435"}),w++,O++),"turnOff"===a.state.CSSAddNewUserInput||a.state.addAdminForLast||(a.setState({CSSAddNewUserInput:"turnOff",CSSAddNewUserButton:"turnOff"}),y++),a.setState({addAdminForLast:!1})},a.closePopout=function(){a.props.setPopout(null),C!==p.p&&a.props.history.pop()},a.shuffleAlert=function(){C!==p.p&&(a.props.history.push("alert"),window.history.pushState({history:"alert"},"alert")),a.props.setPopout(m.a.createElement(p.a,{actionsLayout:"vertical",actions:[{title:"\u041f\u0435\u0440\u0435\u043c\u0435\u0448\u0430\u0442\u044c",autoclose:!0,mode:"destructive",action:function(){var e=a.shuffle(a.state.users);a.setState({users:e,openMenuButton:"\u041e\u0442\u043a\u0440\u044b\u0442\u044c \u043c\u0435\u043d\u044e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0439",CSSMenuDropout:"turnOff",nameAdminButton:"\u0412\u044b\u0434\u0430\u0442\u044c \u043f\u0440\u0430\u0432\u0430 \u0430\u0434\u043c\u0438\u043d\u0430"}),"turnOff"!==a.state.CSSAddNewUserInput&&(y++,a.setState({CSSAddNewUserInput:"turnOff",CSSAddNewUserButton:"turnOff"})),"turnOff"!==a.state.cssButtonGiveAdmin&&(O++,a.setState({nameAdminButton:"\u0412\u044b\u0434\u0430\u0442\u044c \u043f\u0440\u0430\u0432\u0430 \u0430\u0434\u043c\u0438\u043d\u0430",selectables:!1,cssButtonGiveAdmin:"turnOff"})),"\u041e\u0442\u043a\u043b. \u043f\u0435\u0440\u0435\u043c\u0435\u0449\u0435\u043d\u0438\u0435/\u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435"===a.state.buttonText&&(S++,a.setState({draggable:!1,buttonText:"\u0412\u043a\u043b. \u043f\u0435\u0440\u0435\u043c\u0435\u0449\u0435\u043d\u0438\u0435/\u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435"})),a.changeUsersPositionOnServer(a.state.users),w++}},{title:"\u041e\u0442\u043c\u0435\u043d\u0430",autoclose:!0,mode:"cancel",action:function(){}}],onClose:a.closePopout},m.a.createElement("h2",null,"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435"),m.a.createElement("p",null,"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u043f\u0435\u0440\u0435\u043c\u0435\u0448\u0430\u0442\u044c \u043e\u0447\u0435\u0440\u0435\u0434\u044c?")))},a.skipCommand=function(){fetch("/skipPosition",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({queueCODE:a.props.queueCode,url:window.location.search.replace("?","")})}).then((function(e){return e.json()})).then((function(e){})).catch((function(e){}))},a.skipAlert=function(){C!==p.p&&(a.props.history.push("alert"),window.history.pushState({history:"alert"},"alert")),a.props.setPopout(m.a.createElement(p.a,{actionsLayout:"vertical",actions:[{title:"\u041e\u043f\u0443\u0441\u0442\u0438\u0442\u044c\u0441\u044f \u043d\u0438\u0436\u0435",autoclose:!0,mode:"destructive",action:function(){var t=a.state.users;e.queue.isFirstPlace=!1;for(var n=0;n<t.length;n++)if(t[n].userid===a.props.fetchedUser.id){n>=t.length-2?a.setState({cssSkipButton:"turnOff"}):a.setState({cssSkipButton:"OnlySkipButton"});var r=t[n+1];t[n+1]=t[n],t[n]=r,a.setState({users:t});break}console.log("\u041f\u0440\u043e\u043f\u0443\u0441\u043a \u043e\u0434\u043d\u043e\u0439 \u043f\u043e\u0437\u0438\u0446\u0438\u0438..."),a.skipCommand()}},{title:"\u041e\u0442\u043c\u0435\u043d\u0430",autoclose:!0,mode:"cancel",action:function(){}}],onClose:a.closePopout},m.a.createElement("h2",null,"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435"),m.a.createElement("p",null,"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u043e\u043f\u0443\u0441\u0442\u0438\u0442\u044c\u0441\u044f \u043d\u0430 \u043e\u0434\u043d\u0443 \u043f\u043e\u0437\u0438\u0446\u0438\u044e \u043d\u0438\u0436\u0435?")))},a.messageToAll=function(){e.queue.codeForMsg=a.props.queueCode,C!==p.p&&(a.props.history.push("message"),window.history.pushState({history:"message"},"message")),a.setState({CSSMenuDropout:"turnOff",openMenuButton:"\u041e\u0442\u043a\u0440\u044b\u0442\u044c \u043c\u0435\u043d\u044e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0439"}),w++,"turnOff"!==a.state.cssButtonGiveAdmin&&(a.setState({nameAdminButton:"\u0412\u044b\u0434\u0430\u0442\u044c \u043f\u0440\u0430\u0432\u0430 \u0430\u0434\u043c\u0438\u043d\u0430",selectables:!1,cssButtonGiveAdmin:"turnOff"}),O++),"\u041e\u0442\u043a\u043b. \u043f\u0435\u0440\u0435\u043c\u0435\u0449\u0435\u043d\u0438\u0435/\u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435"===a.state.buttonText&&(S++,a.setState({draggable:!1,buttonText:"\u0412\u043a\u043b. \u043f\u0435\u0440\u0435\u043c\u0435\u0449\u0435\u043d\u0438\u0435/\u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435"})),a.props.setActiveModal("massage-all")},a.exitAlert=function(){C!==p.p&&(a.props.history.push("alert"),window.history.pushState({history:"alert"},"alert"));for(var t=0,n=0,r=0;r<a.state.users.length;r++)a.state.users[r].isadmin&&null===a.state.users[r].notvkname&&t++;for(var u=0;u<a.state.users.length;u++)null===a.state.users[u].notvkname&&n++;1===t&&e.queue.isUserAdmin&&1!==n?a.props.setPopout(m.a.createElement(p.a,{actionsLayout:"vertical",actions:[{title:"\u041f\u0435\u0440\u0435\u0434\u0430\u0442\u044c \u043f\u0440\u0430\u0432\u0430 \u0430\u0434\u043c\u0438\u043d\u0430",autoclose:!0,mode:"default",action:function(){a.setState({addAdminForLast:!0,openMenuButton:"\u041e\u0442\u043a\u0440\u044b\u0442\u044c \u043c\u0435\u043d\u044e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0439",CSSMenuDropout:"turnOff"}),a.addAdminButton()}},{title:"\u041e\u0442\u043c\u0435\u043d\u0430",autoclose:!0,mode:"cancel"}],onClose:a.closePopout},m.a.createElement("h2",null,"\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u043f\u043e\u043a\u0438\u043d\u0443\u0442\u044c \u043e\u0447\u0435\u0440\u0435\u0434\u044c"),m.a.createElement("p",null,"\u0412\u044b \u0435\u0434\u0438\u043d\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439 \u0430\u0434\u043c\u0438\u043d! \u041d\u0430\u0437\u043d\u0430\u0447\u044c\u0442\u0435 \u043a\u043e\u0433\u043e-\u043d\u0438\u0431\u0443\u0434\u044c \u0430\u0434\u043c\u0438\u043d\u043e\u043c, \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u043a\u0438\u043d\u0443\u0442\u044c \u043e\u0447\u0435\u0440\u0435\u0434\u044c."))):a.props.setPopout(m.a.createElement(p.a,{actionsLayout:"vertical",actions:[{title:"\u041f\u043e\u043a\u0438\u043d\u0443\u0442\u044c \u043e\u0447\u0435\u0440\u0435\u0434\u044c",autoclose:!0,mode:"destructive",action:function(){a.setState({openMenuButton:"\u041e\u0442\u043a\u0440\u044b\u0442\u044c \u043c\u0435\u043d\u044e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0439",CSSMenuDropout:"turnOff"}),w++,console.log("\u041e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d \u0437\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0432\u044b\u0445\u043e\u0434 \u0438\u0437 \u043e\u0447\u0435\u0440\u0435\u0434\u0438..."),fetch("/exitQueue",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({queueCODE:a.props.queueCode,url:window.location.search.replace("?","")})}).then((function(e){return e.json()})).then((function(e){})).catch((function(e){})),a.props.setActivePanel("home"),C!==p.p&&a.props.history.pop()}},{title:"\u041e\u0442\u043c\u0435\u043d\u0430",autoclose:!0,mode:"cancel",action:function(){}}],onClose:a.closePopout},m.a.createElement("h2",null,"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435"),m.a.createElement("p",null,a.state.exitAlertText)))},a.firstToLast=function(){C!==p.p&&(a.props.history.push("alert"),window.history.pushState({history:"alert"},"alert")),a.props.setPopout(m.a.createElement(p.a,{actionsLayout:"vertical",actions:[{title:"\u0412 \u043a\u043e\u043d\u0435\u0446 \u043e\u0447\u0435\u0440\u0435\u0434\u0438",autoclose:!0,mode:"destructive",action:function(){a.setState({openMenuButton:"\u041e\u0442\u043a\u0440\u044b\u0442\u044c \u043c\u0435\u043d\u044e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0439",CSSMenuDropout:"turnOff"}),fetch("/firstToLast",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({queueCODE:a.props.queueCode,url:window.location.search.replace("?","")})}).then((function(e){return e.json()})).then(function(){var t=Object(o.a)(u.a.mark((function t(n){var a,r,o;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n,r=void 0,t.next=4,fetch("/getUsersInfo",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({url:window.location.search.replace("?",""),usersArr:n})}).then((function(e){return e.json()})).then((function(e){r=e.response}));case 4:for(o=0;o<a.length;o++)null===a[o].notvkname?(e.queue.userID===r[o].id&&1===a[o].userplace&&a.length>1?e.queue.isFirstPlace=!0:e.queue.userID===r[o].id&&1!==a[o].userplace&&(e.queue.isFirstPlace=!1),e.queue.userID===a[o].userid&&a[o].isadmin?e.queue.isUserAdmin=!0:e.queue.userID!==a[o].userid||a[o].isadmin||(e.queue.isUserAdmin=!1),a[o].name=r[o].last_name+" "+r[o].first_name,a[o].avatar=r[o].photo_100):a[o].name=a[o].notvkname;return t.abrupt("return",a);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).then((function(e){a.setState({users:e})})).catch((function(e){}))}},{title:"\u041e\u0442\u043c\u0435\u043d\u0430",autoclose:!0,mode:"cancel",action:function(){}}],onClose:a.closePopout},m.a.createElement("h2",null,"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435"),m.a.createElement("p",null,"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0441\u043f\u0443\u0441\u0442\u0438\u0442\u044c\u0441\u044f \u0432 \u043a\u043e\u043d\u0435\u0446 \u043e\u0447\u0435\u0440\u0435\u0434\u0438?")))},a.changeUsersPositionOnServer=function(t){t.length>1&&(console.log("\u041e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d \u0437\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u043f\u043e\u0440\u044f\u0434\u043a\u0430 \u043b\u044e\u0434\u0435\u0439 \u0432 \u043e\u0447\u0435\u0440\u0435\u0434\u0438..."),fetch("/changeUsersOrder",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({usersArray:t,queueCODE:a.props.queueCode,url:window.location.search.replace("?","")})}).then((function(e){return e.json()})).then(function(){var t=Object(o.a)(u.a.mark((function t(n){var a,r,o;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n,r=void 0,t.next=4,fetch("/getUsersInfo",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({url:window.location.search.replace("?",""),usersArr:n})}).then((function(e){return e.json()})).then((function(e){r=e.response}));case 4:for(o=0;o<a.length;o++)null===a[o].notvkname?(e.queue.userID===r[o].id&&1===a[o].userplace&&a.length>1?e.queue.isFirstPlace=!0:e.queue.userID===r[o].id&&1!==a[o].userplace&&(e.queue.isFirstPlace=!1),e.queue.userID===a[o].userid&&a[o].isadmin?e.queue.isUserAdmin=!0:e.queue.userID!==a[o].userid||a[o].isadmin||(e.queue.isUserAdmin=!1),a[o].name=r[o].last_name+" "+r[o].first_name,a[o].avatar=r[o].photo_100):a[o].name=a[o].notvkname;return t.abrupt("return",a);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).then((function(e){a.setState({users:e})})).catch((function(e){})))},a.openMenu=function(){for(var t=a.state.users,n=0;n<t.length;n++)t[n].userid===a.props.fetchedUser.id&&(n>=t.length-1?a.setState({cssSkipButton:"turnOff"}):a.setState({cssSkipButton:"OnlySkipButton"}));"admin"===a.state.activeTab&&a.setState({cssSkipButton:"turnOff"}),w%2!==0?"client_dark"===e.scheme.scheme||"space_gray"===e.scheme.scheme?a.setState({openMenuButton:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c \u043c\u0435\u043d\u044e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0439",CSSMenuDropout:"CSSMenuDropoutDark"}):a.setState({openMenuButton:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c \u043c\u0435\u043d\u044e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0439",CSSMenuDropout:"CSSMenuDropout"}):a.setState({openMenuButton:"\u041e\u0442\u043a\u0440\u044b\u0442\u044c \u043c\u0435\u043d\u044e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0439",CSSMenuDropout:"turnOff"}),w++},a.reqAdminUsers=function(){A=C===p.p?"ButtonDivIOS":"ButtonsDiv",a.setState({cssButtonGiveAdmin:"turnOff",selectables:!1,nameAdminButton:"\u0412\u044b\u0434\u0430\u0442\u044c \u043f\u0440\u0430\u0432\u0430 \u0430\u0434\u043c\u0438\u043d\u0430",CSSButtonDiv:A,openProfile:!0}),a.state.users.map((function(e){document.getElementById(e.name).checked&&(e.isadmin=!0)})),O++,console.log("\u041e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d \u0437\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0432\u044b\u0434\u0430\u0447\u0443 \u0430\u0434\u043c\u0438\u043d\u043e\u043a..."),fetch("/addNewAdmins",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({usersArray:a.state.users,queueCODE:a.props.queueCode,url:window.location.search.replace("?","")})}).then((function(e){return e.json()})).then(function(){var t=Object(o.a)(u.a.mark((function t(n){var a,r,o;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n,r=void 0,t.next=4,fetch("/getUsersInfo",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({url:window.location.search.replace("?",""),usersArr:n})}).then((function(e){return e.json()})).then((function(e){r=e.response}));case 4:for(o=0;o<a.length;o++)null===a[o].notvkname?(e.queue.userID===r[o].id&&1===a[o].userplace&&a.length>1?e.queue.isFirstPlace=!0:e.queue.userID===r[o].id&&1!==a[o].userplace&&(e.queue.isFirstPlace=!1),e.queue.userID===a[o].userid&&a[o].isadmin?e.queue.isUserAdmin=!0:e.queue.userID!==a[o].userid||a[o].isadmin||(e.queue.isUserAdmin=!1),a[o].name=r[o].last_name+" "+r[o].first_name,a[o].avatar=r[o].photo_100):a[o].name=a[o].notvkname;return t.abrupt("return",a);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).then((function(e){a.setState({users:e}).catch((function(e){}))}))},a.openProfile=function(e){if(a.state.openProfile){var t=document.createElement("a");t.href="http://vk.com/id"+e,t.setAttribute("target","_blank"),t.click()}},a.AddPersonNotFromVK=function(){y%2===0?a.setState({CSSAddNewUserInput:"turnOff",CSSAddNewUserButton:"turnOff"}):(a.setState({CSSAddNewUserInput:"CSSAddNewUserInput",CSSAddNewUserButton:"CSSAddNewUserButton",CSSMenuDropout:"turnOff",openMenuButton:"\u041e\u0442\u043a\u0440\u044b\u0442\u044c \u043c\u0435\u043d\u044e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0439",cssButtonGiveAdmin:"turnOff",nameAdminButton:"\u0412\u044b\u0434\u0430\u0442\u044c \u043f\u0440\u0430\u0432\u0430 \u0430\u0434\u043c\u0438\u043d\u0430"}),w++),y++,"turnOff"!==a.state.cssButtonGiveAdmin&&(a.setState({nameAdminButton:"\u0412\u044b\u0434\u0430\u0442\u044c \u043f\u0440\u0430\u0432\u0430 \u0430\u0434\u043c\u0438\u043d\u0430",selectables:!1,cssButtonGiveAdmin:"turnOff"}),O++),"\u041e\u0442\u043a\u043b. \u043f\u0435\u0440\u0435\u043c\u0435\u0449\u0435\u043d\u0438\u0435/\u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435"===a.state.buttonText&&(S++,a.setState({draggable:!1,buttonText:"\u0412\u043a\u043b. \u043f\u0435\u0440\u0435\u043c\u0435\u0449\u0435\u043d\u0438\u0435/\u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435"}))},a.fetchNotFromVKUser=function(t){console.log("\u041e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d \u0437\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0447\u0435\u043b\u043e\u0432\u0435\u043a\u0430 \u043d\u0435 \u0438\u0437 \u0412\u041a..."),fetch("/addNotFromVK",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({newUser:t,queueCODE:a.props.queueCode,url:window.location.search.replace("?","")})}).then((function(e){return e.json()})).then(function(){var t=Object(o.a)(u.a.mark((function t(n){var a,r,o;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n,r=void 0,t.next=4,fetch("/getUsersInfo",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({url:window.location.search.replace("?",""),usersArr:n})}).then((function(e){return e.json()})).then((function(e){r=e.response}));case 4:for(o=0;o<a.length;o++)null===a[o].notvkname?(e.queue.userID===r[o].id&&1===a[o].userplace&&a.length>1?e.queue.isFirstPlace=!0:e.queue.userID===r[o].id&&1!==a[o].userplace&&(e.queue.isFirstPlace=!1),e.queue.userID===a[o].userid&&a[o].isadmin?e.queue.isUserAdmin=!0:e.queue.userID!==a[o].userid||a[o].isadmin||(e.queue.isUserAdmin=!1),a[o].name=r[o].last_name+" "+r[o].first_name,a[o].avatar=r[o].photo_100):a[o].name=a[o].notvkname;return t.abrupt("return",a);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).then((function(e){a.setState({users:e})})).catch((function(e){}))},a.checkHowManyUsersForExit=function(){for(var e=0,t=0;t<a.state.users.length;t++)null===a.state.users[t].notvkname&&e++;1===e?(console.log(1),a.setState({exitAlertText:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u043f\u043e\u043a\u0438\u043d\u0443\u0442\u044c \u043e\u0447\u0435\u0440\u0435\u0434\u044c? \u0412\u044b \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0439 \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a. \u0415\u0441\u043b\u0438 \u0432\u044b \u043f\u043e\u043a\u0438\u043d\u0438\u0442\u0435 \u043e\u0447\u0435\u0440\u0435\u0434\u044c, \u0442\u043e \u043e\u043d\u0430 \u0431\u0443\u0434\u0435\u0442 \u0443\u0434\u0430\u043b\u0435\u043d\u0430."})):a.setState({exitAlertText:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u043f\u043e\u043a\u0438\u043d\u0443\u0442\u044c \u043e\u0447\u0435\u0440\u0435\u0434\u044c? \u0415\u0441\u043b\u0438 \u0432\u044b \u0441\u043d\u043e\u0432\u0430 \u0437\u0430\u0439\u0434\u0451\u0442\u0435 \u0432 \u043e\u0447\u0435\u0440\u0435\u0434\u044c, \u0442\u043e \u043e\u043a\u0430\u0436\u0435\u0442\u0435\u0441\u044c \u0432 \u043a\u043e\u043d\u0446\u0435 \u0441\u043f\u0438\u0441\u043a\u0430."})},a.deleteUser=function(t){fetch("/deleteUser",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({deletedPlace:t,queueCODE:a.props.queueCode,url:window.location.search.replace("?","")})}).then((function(e){return e.json()})).then(function(){var t=Object(o.a)(u.a.mark((function t(n){var a,r,o;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n,r=void 0,t.next=4,fetch("/getUsersInfo",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({url:window.location.search.replace("?",""),usersArr:n})}).then((function(e){return e.json()})).then((function(e){r=e.response}));case 4:for(o=0;o<a.length;o++)null===a[o].notvkname?(e.queue.userID===r[o].id&&1===a[o].userplace&&a.length>1?e.queue.isFirstPlace=!0:e.queue.userID===r[o].id&&1!==a[o].userplace&&(e.queue.isFirstPlace=!1),e.queue.userID===a[o].userid&&a[o].isadmin?e.queue.isUserAdmin=!0:e.queue.userID!==a[o].userid||a[o].isadmin||(e.queue.isUserAdmin=!1),a[o].name=r[o].last_name+" "+r[o].first_name,a[o].avatar=r[o].photo_100):a[o].name=a[o].notvkname;return t.abrupt("return",a);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).then((function(e){a.setState({users:e})})).catch((function(e){}))},a.refresh=Object(o.a)(u.a.mark((function t(){var n,r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=function(){return(r=Object(o.a)(u.a.mark((function t(n){var a,r,o;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("\u041f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u0434\u0430\u043d\u043d\u044b\u0445 \u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\u0445 \u0447\u0435\u0440\u0435\u0437 VK Bridge"),a=n,r=void 0,t.next=5,fetch("/getUsersInfo",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({url:window.location.search.replace("?",""),usersArr:n})}).then((function(e){return e.json()})).then((function(e){r=e.response}));case 5:for(o=0;o<a.length;o++)null===a[o].notvkname?(e.queue.userID===r[o].id&&1===a[o].userplace&&a.length>1?e.queue.isFirstPlace=!0:e.queue.userID===r[o].id&&1!==a[o].userplace&&(e.queue.isFirstPlace=!1),e.queue.userID===a[o].userid&&a[o].isadmin?e.queue.isUserAdmin=!0:e.queue.userID!==a[o].userid||a[o].isadmin||(e.queue.isUserAdmin=!1),a[o].name=r[o].last_name+" "+r[o].first_name,a[o].avatar=r[o].photo_100):a[o].name=a[o].notvkname;return t.abrupt("return",a);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)},n=function(e){return r.apply(this,arguments)},console.log("\u041e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d \u0437\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u0441\u043f\u0438\u0441\u043a\u0430 \u043b\u044e\u0434\u0435\u0439, \u043f\u0440\u0438\u043d\u0430\u0434\u043b\u0435\u0436\u0430\u0449\u0438\u0445 \u043a \u043e\u0447\u0435\u0440\u0435\u0434\u0438..."),a.setState({openMenuButton:"\u041e\u0442\u043a\u0440\u044b\u0442\u044c \u043c\u0435\u043d\u044e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0439",CSSMenuDropout:"turnOff",cssSpinner:"defaultSpinner"}),w++,fetch("/getPeople",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({queueCODE:a.props.queueCode,url:window.location.search.replace("?","")})}).then((function(e){return e.json()})).then(function(){var e=Object(o.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(t){a.setState({users:t,cssSpinner:"turnOff"}),e.queue.isUserAdmin&&a.props.setCssEdit("editQueueButton"),a.setState({CSSMenuButton:""})}));case 6:case"end":return t.stop()}}),t)}))),C===p.p&&(A="ButtonDivIOS"),a.state={users:[],draggable:!1,buttonText:"\u0412\u043a\u043b. \u043f\u0435\u0440\u0435\u043c\u0435\u0449\u0435\u043d\u0438\u0435/\u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435",cssAdminButton:"turnOff",cssSkipButton:"OnlySkipButton",CSSButtonDiv:A,CSSAddNewUserInput:"turnOff",CSSAddNewUserButton:"turnOff",cssAddAdminButton:"turnOff",cssShuffleButton:"turnOff",cssPlusAdminButton:"turnOff",CSSExitQueueButton:"exitQueueButton",CSSEditQueueButton:"turnOff",CSSAddPersonButton:"turnOff",cssButtonGiveAdmin:"turnOff",CSSActionsButton:"",nameAdminButton:"\u0412\u044b\u0434\u0430\u0442\u044c \u043f\u0440\u0430\u0432\u0430 \u0430\u0434\u043c\u0438\u043d\u0430",selectables:!1,CSSMenuDropout:"turnOff",openMenuButton:"\u041e\u0442\u043a\u0440\u044b\u0442\u044c \u043c\u0435\u043d\u044e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0439",activeTab:"user",isAdmin:void 0,isFirst:"turnOff",cssSpinner:"defaultSpinner",cssUsersList:"turnOff",exitAlertText:"",CSSMenuButton:"turnOff",refreshButton:"refreshButton",addAdminForLast:!1,cssMessageButton:"turnOff",openProfile:!0},"client_dark"===e.scheme.scheme||"space_gray"===e.scheme.scheme?a.setState({CSSActionsButton:"showActionsButtonDark"}):a.setState({CSSActionsButton:"showActionsButton"}),w=1,O=1,S=1,y=1,a}return Object(s.a)(r,[{key:"componentDidMount",value:function(){var t=Object(o.a)(u.a.mark((function t(){var n,a,r=this;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=function(){return(a=Object(o.a)(u.a.mark((function t(n){var a,r,o;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("\u041f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u0434\u0430\u043d\u043d\u044b\u0445 \u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\u0445 \u0447\u0435\u0440\u0435\u0437 VK Bridge"),a=n,r=void 0,t.next=5,fetch("/getUsersInfo",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({url:window.location.search.replace("?",""),usersArr:n})}).then((function(e){return e.json()})).then((function(e){r=e.response}));case 5:for(o=0;o<a.length;o++)null===a[o].notvkname?(e.queue.userID===r[o].id&&1===a[o].userplace&&a.length>1?e.queue.isFirstPlace=!0:e.queue.userID===r[o].id&&1!==a[o].userplace&&(e.queue.isFirstPlace=!1),e.queue.userID===a[o].userid&&a[o].isadmin?e.queue.isUserAdmin=!0:e.queue.userID!==a[o].userid||a[o].isadmin||(e.queue.isUserAdmin=!1),a[o].name=r[o].last_name+" "+r[o].first_name,a[o].avatar=r[o].photo_100):a[o].name=a[o].notvkname;return t.abrupt("return",a);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)},n=function(e){return a.apply(this,arguments)},console.log("\u041e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d \u0437\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u0441\u043f\u0438\u0441\u043a\u0430 \u043b\u044e\u0434\u0435\u0439, \u043f\u0440\u0438\u043d\u0430\u0434\u043b\u0435\u0436\u0430\u0449\u0438\u0445 \u043a \u043e\u0447\u0435\u0440\u0435\u0434\u0438..."),this.setState({CSSMenuButton:"turnOff"}),fetch("/getPeople",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({queueCODE:this.props.queueCode,url:window.location.search.replace("?","")})}).then((function(e){return e.json()})).then(function(){var e=Object(o.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(t){r.setState({users:t,cssSpinner:"turnOff"}),e.queue.isUserAdmin&&r.props.setCssEdit("editQueueButton"),r.setState({CSSMenuButton:""})})),w=1;case 6:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this;return m.a.createElement("div",null,m.a.createElement("br",null),m.a.createElement(p.f,{className:this.state.CSSButtonDiv},m.a.createElement("div",{className:"showActionsButton"},m.a.createElement(p.c,{className:"menuButton",id:"menuButton",size:"xl",onClick:this.openMenu},this.state.openMenuButton),m.a.createElement("div",{className:this.state.CSSMenuDropout},!0===e.queue.isUserAdmin&&m.a.createElement("div",null,m.a.createElement(p.I,null,m.a.createElement(p.J,{onClick:function(){t.setState({cssMessageButton:"turnOff",refreshButton:"refreshButton",activeTab:"user",cssSkipButton:"OnlySkipButton",cssAdminButton:"turnOff",cssAddAdminButton:"turnOff",cssShuffleButton:"turnOff",CSSEditQueueButton:"turnOff",CSSExitQueueButton:"CSSExitQueueButton",CSSAddNewUserInput:"turnOff",CSSAddNewUserButton:"turnOff",CSSAddPersonButton:"turnOff"});for(var e=t.state.users,n=0;n<e.length;n++)e[n].userid===t.props.fetchedUser.id&&(n>=e.length-1?t.setState({cssSkipButton:"turnOff"}):t.setState({cssSkipButton:"OnlySkipButton"}))},selected:"user"===this.state.activeTab},"\u041e\u0441\u043d\u043e\u0432\u043d\u044b\u0435"),m.a.createElement(p.J,{onClick:function(){t.setState({cssMessageButton:"cssMessageButton ",refreshButton:"turnOff",activeTab:"admin",cssSkipButton:"turnOff",cssAdminButton:"OnlySkipButton",cssAddAdminButton:"OnlySkipButton",cssShuffleButton:"OnlySkipButton",CSSEditQueueButton:"123",CSSExitQueueButton:"turnOff",CSSAddPersonButton:"AddPersonButton"})},selected:"admin"===this.state.activeTab},"\u0410\u0434\u043c\u0438\u043d-\u043f\u0430\u043d\u0435\u043b\u044c")),m.a.createElement(p.C,null)),m.a.createElement(p.f,null,m.a.createElement(p.c,{className:this.state.refreshButton,size:"xl",onClick:this.refresh,mode:"secondary",stretched:!0},"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a"),m.a.createElement(p.c,{className:this.state.cssSkipButton,size:"xl",onClick:function(){return t.skipAlert()},mode:"secondary",stretched:!0},"\u041e\u043f\u0443\u0441\u0442\u0438\u0442\u044c\u0441\u044f \u043d\u0430 \u043f\u043e\u0437\u0438\u0446\u0438\u044e \u043d\u0438\u0436\u0435"),m.a.createElement(p.c,{className:this.state.cssAdminButton,size:"xl",onClick:this.adminButton,mode:"secondary",stretched:!0},this.state.buttonText),m.a.createElement(p.c,{className:this.state.cssAddAdminButton,size:"xl",onClick:this.addAdminButton,mode:"secondary",stretched:!0},this.state.nameAdminButton),m.a.createElement(p.c,{className:this.state.cssShuffleButton,size:"xl",onClick:function(){t.shuffleAlert()},mode:"secondary",stretched:!0},"\u041f\u0435\u0440\u0435\u043c\u0435\u0448\u0430\u0442\u044c \u043e\u0447\u0435\u0440\u0435\u0434\u044c"),m.a.createElement(p.c,{className:this.state.CSSExitQueueButton,size:"xl",onClick:Object(o.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.checkHowManyUsersForExit();case 2:t.exitAlert();case 3:case"end":return e.stop()}}),e)}))),mode:"secondary",stretched:!0},"\u041f\u043e\u043a\u0438\u043d\u0443\u0442\u044c \u043e\u0447\u0435\u0440\u0435\u0434\u044c"),m.a.createElement(p.c,{className:this.state.CSSAddPersonButton,size:"xl",onClick:function(){return t.AddPersonNotFromVK()},mode:"secondary",stretched:!0},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0447\u0435\u043b\u043e\u0432\u0435\u043a\u0430 \u043d\u0435 \u0438\u0437 VK"),m.a.createElement(p.c,{className:this.state.cssMessageButton,size:"xl",onClick:function(){return t.messageToAll()},mode:"secondary",stretched:!0},"\u041d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u0432\u0441\u0435\u043c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435"))))),m.a.createElement(p.m,{header:m.a.createElement(p.n,{className:"headerUsers"},"\u0423\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u0438")},e.queue.isFirstPlace&&this.state.users.length>1&&m.a.createElement(p.f,null,m.a.createElement(p.c,{className:"buttonForFirst",onClick:function(){return t.firstToLast()},mode:"secondary"},"\u0421\u043f\u0443\u0441\u0442\u0438\u0442\u044c\u0441\u044f \u043d\u0430 \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0435\u0435 \u043c\u0435\u0441\u0442\u043e")),m.a.createElement(p.f,null,m.a.createElement("div",{className:"AddNewUserDiv"},m.a.createElement(p.q,{id:"inputNotVKPerson",maxlength:"25",type:"text",top:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f \u0447\u0435\u043b\u043e\u0432\u0435\u043a\u0430:",className:this.state.CSSAddNewUserInput,onChange:function(t){return e.queue.newUser=t.target.value}}),m.a.createElement(p.c,{mode:"outline",className:this.state.CSSAddNewUserButton,onClick:function(){if(void 0!==e.queue.newUser&&""!==e.queue.newUser.trim()){var n={name:e.queue.newUser},r=[].concat(Object(a.a)(t.state.users),[n]);t.setState({users:r,CSSAddNewUserInput:"turnOff",CSSAddNewUserButton:"turnOff"}),y++,t.fetchNotFromVKUser(e.queue.newUser),document.getElementById("inputNotVKPerson").value="",e.queue.newUser=""}}},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c")),m.a.createElement(p.c,{className:this.state.cssButtonGiveAdmin,onClick:this.reqAdminUsers,size:"xl"},"\u0412\u044b\u0434\u0430\u0442\u044c \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\u043c \u043f\u0440\u0430\u0432\u0430 \u0430\u0434\u043c\u0438\u043d\u0430"),m.a.createElement(p.E,{className:this.state.cssSpinner,size:"large",style:{marginTop:20}}),m.a.createElement(p.r,null,this.state.users.map((function(e){return m.a.createElement(p.d,{id:e.name,key:e.userid,description:e.isadmin?"Admin":"",selectable:!(!e.avatar||e.isadmin)&&t.state.selectables,onClick:function(){return t.openProfile(e.userid)},className:e.userid===t.props.fetchedUser.id?"SELFcell":"cell",draggable:t.state.draggable,removable:e.userid!==t.props.fetchedUser.id&&t.state.draggable,before:e.avatar?m.a.createElement(p.b,{className:"avatar",size:45,src:e.avatar},m.a.createElement(p.m,{className:"idAvatar"},t.state.users.indexOf(e)+1)):m.a.createElement(p.b,{className:"avatar",size:45},m.a.createElement(p.m,{className:"idAvatar"},t.state.users.indexOf(e)+1)),onDragFinish:function(e){var n=e.from,r=e.to,u=Object(a.a)(t.state.users);u.splice(n,1),u.splice(r,0,t.state.users[n]),t.setState({users:u}),"\u0417\u0430\u043a\u0440\u044b\u0442\u044c \u043c\u0435\u043d\u044e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0439"===t.state.openMenuButton&&(t.setState({CSSMenuDropout:"turnOff",openMenuButton:"\u041e\u0442\u043a\u0440\u044b\u0442\u044c \u043c\u0435\u043d\u044e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0439"}),w++),console.log("\u041e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d \u0437\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u0441\u043f\u0438\u0441\u043a\u0430 \u0438\u0437-\u0437\u0430 \u043f\u0435\u0440\u0435\u043c\u0435\u0449\u0435\u043d\u0438\u044f..."),t.changeUsersPositionOnServer(t.state.users)},onRemove:function(){t.deleteUser(t.state.users.indexOf(e)),t.setState({users:[].concat(Object(a.a)(t.state.users.slice(0,t.state.users.indexOf(e))),Object(a.a)(t.state.users.slice(t.state.users.indexOf(e)+1)))}),"\u0417\u0430\u043a\u0440\u044b\u0442\u044c \u043c\u0435\u043d\u044e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0439"===t.state.openMenuButton&&(t.setState({CSSMenuDropout:"turnOff",openMenuButton:"\u041e\u0442\u043a\u0440\u044b\u0442\u044c \u043c\u0435\u043d\u044e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0439"}),w++),console.log("\u041e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d \u0437\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u0441\u043f\u0438\u0441\u043a\u0430 \u0438\u0437-\u0437\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f...")}},m.a.createElement("text",{className:"nameUser"},e.name))}))))),m.a.createElement(p.y,{icon:m.a.createElement(h.a,null)},"\u041f\u0440\u0438\u0433\u043b\u0430\u0441\u0438\u0442\u0435 \u043b\u044e\u0434\u0435\u0439 \u0432 \u043e\u0447\u0435\u0440\u0435\u0434\u044c:",m.a.createElement("br",null),m.a.createElement(p.c,{size:"l",mode:"tertiary",onClick:function(){return g.a.send("VKWebAppShare",{link:"https://vk.com/app7551421_199833891#".concat(t.props.queueCode)})}},"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f \u0441\u0441\u044b\u043b\u043a\u043e\u0439-\u043f\u0440\u0438\u0433\u043b\u0430\u0448\u0435\u043d\u0438\u0435\u043c"),m.a.createElement("br",null),"\u0438\u043b\u0438",m.a.createElement("br",null),m.a.createElement(p.c,{className:"noScrollButton",size:"l",mode:"tertiary",onClick:Object(o.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.send("VKWebAppCopyText",{text:t.props.queueCode});case 2:t.props.setSnackbar(m.a.createElement(p.D,{layout:"vertical",onClose:function(){return t.props.setSnackbar(null)},before:m.a.createElement(p.b,{size:24,style:q},m.a.createElement(E.a,{fill:"#fff",width:14,height:14}))},"\u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u043e!"));case 3:case"end":return e.stop()}}),e)})))},"\u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043a\u043e\u0434: ",this.props.queueCode)),this.props.snackbar)}}]),r}(m.a.Component);t.a=k}).call(this,n(30))},135:function(e,t,n){"use strict";(function(e){var a,r,u,o=n(6),c=n.n(o),s=n(9),i=n(7),l=n(0),d=n.n(l),m=n(1),p=n(55),f=n.n(p),h=n(57),v=n.n(h),g=n(33),b=n.n(g),E=n(25),O=n.n(E),S=n(53),y=n.n(S),C=n(54),q=n.n(C),w=n(56),A=n.n(w),j=(new Date).toLocaleDateString("en-GB"),k=j.split(".").reverse().join("-"),N=j.split("/").reverse().join("-");t.a=function(t){var n=t.id,o=(t.go,t.fetchedUser,t.history),p=t.setActivePanel,h=t.setPopout,g=(t.setQueueCODE,t.snackbar),E=t.setSnackbar,S=Object(l.useState)(e.queue.name),C=Object(i.a)(S,2),w=C[0],j=C[1],B=Object(l.useState)(e.queue.dateQueue.slice(0,10)),D=Object(i.a)(B,2),T=D[0],x=D[1],I=Object(l.useState)(e.queue.timeQueue),P=Object(i.a)(I,2),U=P[0],Q=P[1],M=Object(l.useState)(e.queue.descriptionQueue),_=Object(i.a)(M,2),L=_[0],z=_[1],F=Object(l.useState)(""),R=Object(i.a)(F,2),V=R[0],K=R[1],J=Object(l.useState)(e.queue.placeQueue),G=Object(i.a)(J,2),W=G[0],H=G[1],X=Object(l.useState)(""),Y=Object(i.a)(X,2),Z=Y[0],$=Y[1],ee=Object(l.useState)(""),te=Object(i.a)(ee,2),ne=te[0],ae=te[1],re=Object(l.useState)(""),ue=Object(i.a)(re,2),oe=ue[0],ce=ue[1],se=Object(l.useState)(""),ie=Object(i.a)(se,2),le=ie[0],de=ie[1],me=Object(l.useState)(!1),pe=Object(i.a)(me,2),fe=pe[0],he=pe[1],ve=Object(l.useState)("turnOff"),ge=Object(i.a)(ve,2),be=ge[0],Ee=ge[1],Oe=Object(l.useState)("turnOff"),Se=Object(i.a)(Oe,2),ye=Se[0],Ce=Se[1],qe=Object(l.useState)("dateAndTimeInputButton"),we=Object(i.a)(qe,2),Ae=we[0],je=we[1],ke=Object(l.useState)("timeInputButton"),Ne=Object(i.a)(ke,2),Be=Ne[0],De=Ne[1],Te=Object(l.useState)("turnOff"),xe=Object(i.a)(Te,2),Ie=xe[0],Pe=xe[1],Ue=Object(l.useState)("turnOff"),Qe=Object(i.a)(Ue,2),Me=Qe[0],_e=Qe[1];Object(l.useEffect)((function(){void 0!==e.queue.changedName&&j(e.queue.changedName),void 0!==e.queue.changedDesc&&z(e.queue.changedDesc),void 0!==e.queue.changedDate&&x(e.queue.changedDate),void 0!==e.queue.changedTime&&Q(e.queue.changedTime),void 0!==e.queue.changedPlace&&H(e.queue.changedPlace),void 0!==e.queue.changedAvatarName&&(Pe("deleteImgButton"),_e("divForDel"),K(e.queue.changedAvatarName)),e.queue.counterForCalendar++,r=new Date(N);var t=document.getElementById("dateID");u=new Date(t.value),t.validity.rangeUnderflow?(e.queue.dataCheck=!1,$("error"),1===e.queue.counterForCalendar&&(je("turnOff"),Ce("dateAndTimeInput"))):(he(!1),e.queue.dataCheck=!0),r.getTime()>u.getTime()?(a=!1,e.queue.dataCheck=!1,$("error"),1===e.queue.counterForCalendar&&(je("turnOff"),Ce("dateAndTimeInput"))):(a=!0,he(!1),e.queue.dataCheck=!0)}));var Le=function(e){return Math.floor(Math.random()*Math.floor(e))},ze={backgroundColor:"var(--accent)"};return d.a.createElement(m.v,{id:n},d.a.createElement(m.w,{left:d.a.createElement(m.x,{onClick:function(){o.pop(),E(null),p(o[o.length-1])},"data-to":"aboutQueue"},d.a.createElement(v.a,null))}," \u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 "),d.a.createElement(m.j,{noValidate:!0},fe&&d.a.createElement(m.l,{header:oe,mode:"error"},le),d.a.createElement(m.q,{id:"qName",top:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043e\u0447\u0435\u0440\u0435\u0434\u0438*",value:w,maxlength:"32",status:ne,onClick:function(){Ce("turnOff"),Ee("turnOff"),De("dateAndTimeInputButton"),je("dateAndTimeInputButton")},onChange:function(t){e.queue.changedName=t.target.value,""===t.target.value.trim()?(he(!0),ce("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043e\u0447\u0435\u0440\u0435\u0434\u0438!")):he(!1),t.target.value.trim()?ae("valid"):ae("error"),j(t.target.value.substring(0,32))}}),d.a.createElement(m.q,{id:"qPlace",top:"\u041c\u0435\u0441\u0442\u043e \u043f\u0440\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u044f",onClick:function(){Ce("turnOff"),Ee("turnOff"),De("dateAndTimeInputButton"),je("dateAndTimeInputButton")},maxlength:"40",value:W,onChange:function(t){H(t.target.value.substring(0,40)),e.queue.changedPlace=t.target.value.trim()}}),d.a.createElement(m.k,{top:"\u0414\u0430\u0442\u0430 \u043f\u0440\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u044f*"},d.a.createElement(m.c,{className:Ae,before:d.a.createElement(y.a,null),stretched:!0,size:"xl",mode:"secondary",onClick:function(e,t){document.getElementById("qName").blur(),document.getElementById("qDesc").blur(),document.getElementById("qPlace").blur(),Ce("dateInput"),je("turnOff")}},"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0434\u0430\u0442\u0443"),d.a.createElement("div",{className:ye},d.a.createElement(m.q,{top:"\u0414\u0430\u0442\u0430 \u043f\u0440\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u044f*",className:ye,name:"date",type:"date",id:"dateID",value:T,status:Z,min:k,onChange:function(t){r=new Date(N),u=new Date(t.target.value),document.getElementById("dateID").validity.rangeUnderflow?(e.queue.dataCheck=!1,$("error"),he(!0),"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043e\u0447\u0435\u0440\u0435\u0434\u0438!"===oe?(ce("\u041d\u0435\u0432\u0435\u0440\u043d\u0430\u044f \u0434\u0430\u0442\u0430 \u0438 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435!"),de("\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435, \u0447\u0442\u043e \u0434\u0430\u0442\u0430 \u0430\u043a\u0442\u0443\u0430\u043b\u044c\u043d\u0430.")):(ce("\u041d\u0435\u0432\u0435\u0440\u043d\u0430\u044f \u0434\u0430\u0442\u0430!"),de("\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435, \u0447\u0442\u043e \u0434\u0430\u0442\u0430 \u0430\u043a\u0442\u0443\u0430\u043b\u044c\u043d\u0430."))):(he(!1),$("valid"),e.queue.dataCheck=!0),r.getTime()>u.getTime()?($("error"),a=!1,he(!0),e.queue.dataCheck=!1,"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043e\u0447\u0435\u0440\u0435\u0434\u0438!"===oe?(ce("\u041d\u0435\u0432\u0435\u0440\u043d\u0430\u044f \u0434\u0430\u0442\u0430 \u0438 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435!"),de("\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435, \u0447\u0442\u043e \u0434\u0430\u0442\u0430 \u0430\u043a\u0442\u0443\u0430\u043b\u044c\u043d\u0430.")):(ce("\u041d\u0435\u0432\u0435\u0440\u043d\u0430\u044f \u0434\u0430\u0442\u0430!"),de("\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435, \u0447\u0442\u043e \u0434\u0430\u0442\u0430 \u0430\u043a\u0442\u0443\u0430\u043b\u044c\u043d\u0430."))):(a=!0,$("valid"),he(!1),e.queue.dataCheck=!0),""!==t.target.value&&"Invalid Date"!==u.toString()||($("error"),he(!0),ce("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0434\u0430\u0442\u0443!"),e.queue.dataCheck=!0),e.queue.changedDate=t.target.value,x(t.target.value)}}))),d.a.createElement(m.k,{top:"\u0412\u0440\u0435\u043c\u044f \u043f\u0440\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u044f"},d.a.createElement(m.c,{className:Be,before:d.a.createElement(q.a,null),stretched:!0,size:"xl",mode:"secondary",onClick:function(e,t){document.getElementById("qName").blur(),document.getElementById("qDesc").blur(),document.getElementById("qPlace").blur(),Ee("timeInput"),De("turnOff")}},"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0432\u0440\u0435\u043c\u044f"),d.a.createElement("div",{className:be},d.a.createElement(m.q,{top:"\u0412\u0440\u0435\u043c\u044f \u043d\u0430\u0447\u0430\u043b\u0430",className:be,name:"time",type:"time",value:U,onChange:function(t){Q(t.target.value),e.queue.changedTime=t.target.value}}))),d.a.createElement(m.h,{id:"fileInputID",top:"\u0410\u0432\u0430\u0442\u0430\u0440\u043a\u0430 \u043e\u0447\u0435\u0440\u0435\u0434\u0438",accept:"image/*",before:d.a.createElement(f.a,null),controlSize:"xl",mode:"secondary",onChange:function(t){Pe("deleteImgButton"),_e("divForDel"),function(t){var n=t.target.files[0].type,a=n.split("/");n=a[a.length-1];var r=t.target.files[0].name.split("."+n);2!==r.length&&"jpeg"===n&&(n="jpg",r=t.target.files[0].name.split("."+n));var u=t.target.files[0].name.split(".");e.queue.changedPic=t.target.files[0],e.queue.changedPicName=w.replace(/\s+/g,"-")+"_"+t.target.files[0].name.replace(/\s+/g,"")+Le(1e3),e.queue.changedPicURL="https://firebasestorage.googleapis.com/v0/b/queuesvkminiapp.appspot.com/o/"+e.queue.changedPicName+"?alt=media&token=bc19b8ba-dc95-4bcf-8914-c7b6163d1b3b",e.queue.changedPicURLNew="https://firebasestorage.googleapis.com/v0/b/queuesvkminiapp.appspot.com/o/"+e.queue.changedPicName.replace(u[0],u[0]+"_200x200")+"?alt=media&token=bc19b8ba-dc95-4bcf-8914-c7b6163d1b3b",e.queue.changedAvatarName=t.target.files[0].name,K(t.target.files[0].name)}(t)}}),d.a.createElement("div",{className:Me},d.a.createElement(m.K,{className:"uploadedImgName"},V,d.a.createElement(m.c,{className:Ie,mode:"tertiary",before:d.a.createElement(A.a,null),onClick:function(){K(""),e.queue.changedPicURLNew=void 0,e.queue.changedPicURL=void 0,e.queue.changedAvatarName=void 0,Pe("turnOff"),_e("turnOff"),e.queue.changedPicName=void 0,document.getElementById("fileInputID").value=""}}))),d.a.createElement(m.q,{id:"qDesc",top:"\u041a\u0440\u0430\u0442\u043a\u043e\u0435 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043e\u0447\u0435\u0440\u0435\u0434\u0438",maxlength:"100",value:L,bottom:"\u0412 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0438 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0443 \u043d\u0430 \u043a\u043e\u043d\u0444\u0435\u0440\u0435\u043d\u0446\u0438\u044e \u0438\u043b\u0438 \u0436\u0435 \u043f\u0440\u043e\u0441\u0442\u043e \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u0443\u044e \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043e\u0431 \u043e\u0447\u0435\u0440\u0435\u0434\u0438.",onClick:function(){Ce("turnOff"),Ee("turnOff"),De("dateAndTimeInputButton"),je("dateAndTimeInputButton")},onChange:function(t){z(t.target.value.substring(0,100)),e.queue.changedDesc=t.target.value.substring(0,100)}}),d.a.createElement(m.c,{size:"xl",onClick:function(){e.queue.dataCheck&&a||($("error"),he(!0),"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043e\u0447\u0435\u0440\u0435\u0434\u0438!"===oe?(ce("\u041d\u0435\u0432\u0435\u0440\u043d\u0430\u044f \u0434\u0430\u0442\u0430 \u0438 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435!"),de("\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435, \u0447\u0442\u043e \u0434\u0430\u0442\u0430 \u0430\u043a\u0442\u0443\u0430\u043b\u044c\u043d\u0430."),Ce("dateAndTimeInput"),je("turnOff"),window.scrollTo(0,0)):(ce("\u041d\u0435\u0432\u0435\u0440\u043d\u0430\u044f \u0434\u0430\u0442\u0430!"),de("\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435, \u0447\u0442\u043e \u0434\u0430\u0442\u0430 \u0430\u043a\u0442\u0443\u0430\u043b\u044c\u043d\u0430."),Ce("dateAndTimeInput"),je("turnOff"),window.scrollTo(0,0)));var t=document.getElementById("dateID");if(""!==w.trim()&&""!==T.trim()&&a&&e.queue.dataCheck&&!t.validity.rangeUnderflow){if(function(){h(d.a.createElement(m.B,null)),console.log(e.queue.changedPicURLNew);try{fetch("/changeQueue",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({queueName:w,queuePlace:W,queueTime:U,queueDate:T,queueAvatarURL:e.queue.changedPicURLNew,queueDescription:L,queueCode:e.queue.codeQueue,url:window.location.search.replace("?","")})}).then((function(e){return e.json()})).then(function(){var t=Object(s.a)(c.a.mark((function t(n){var a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("Deleted queue"===n){t.next=8;break}return a=0,void 0===e.queue.changedPicURLNew&&""===e.queue.changedPicURLNew||(a=5e3),t.next=5,setTimeout((function(){return h(null)}),a);case 5:setTimeout((function(){return E(d.a.createElement(m.D,{layout:"vertical",onClose:function(){return E(null)},before:d.a.createElement(m.b,{size:24,style:ze},d.a.createElement(b.a,{fill:"#fff",width:14,height:14}))},"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u044b!"))}),a),t.next=13;break;case 8:h(null),p("home"),o.pop(),o.pop(),E(d.a.createElement(m.D,{layout:"vertical",onClose:function(){return E(null)},before:d.a.createElement(m.b,{size:24},d.a.createElement(O.a,{fill:"red",width:14,height:14}))},"\u041e\u0447\u0435\u0440\u0435\u0434\u044c \u0431\u044b\u043b\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0430!"));case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){h(null),E(d.a.createElement(m.D,{layout:"vertical",onClose:function(){return E(null)},before:d.a.createElement(m.b,{size:24},d.a.createElement(O.a,{fill:"red",width:14,height:14}))},"\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u044f! \u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442!"))}))}catch(t){console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0438 \u043e\u0447\u0435\u0440\u0435\u0434\u0438...")}}(),e.queue.name=w,e.queue.dateQueue=T,e.queue.timeQueue=U,e.queue.descriptionQueue=L,e.queue.placeQueue=W,void 0!==e.queue.changedPicURLNew&&(e.queue.avatarQueue=e.queue.changedPicURLNew),void 0!==e.queue.changedPicURL)try{fetch("https://firebasestorage.googleapis.com/v0/b/queuesvkminiapp.appspot.com/o?uploadType=media&name="+e.queue.changedPicName,{method:"POST",headers:{Accept:"application/json","Content-Type":"image/png"},body:e.queue.changedPic}).then((function(e){return e.json()})).then((function(e){console.log("\u041a\u0430\u0440\u0442\u0438\u043d\u043a\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u0430!!!")})).catch((function(e){h(null),E(d.a.createElement(m.D,{layout:"vertical",onClose:function(){return E(null)},before:d.a.createElement(m.b,{size:24},d.a.createElement(O.a,{fill:"red",width:14,height:14}))},"\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u044f! \u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442!")),console.log(e)}))}catch(n){console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0438 \u043e\u0447\u0435\u0440\u0435\u0434\u0438...")}e.queue.changedPicURLNew=void 0,e.queue.changedPicURL=void 0,e.queue.changedPic=void 0,e.queue.changedName=void 0,e.queue.changedDesc=void 0,e.queue.changedDate=void 0,e.queue.changedTime=void 0,e.queue.changedPlace=void 0,e.queue.changedAvatarName=void 0,Pe("turnOff"),_e("turnOff")}else""===T.trim()&&""===w.trim()?(ae("error"),$("error"),he(!0),ce("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f \u0438 \u0434\u0430\u0442\u0443!"),je("turnOff"),Ce("dateAndTimeInput"),window.scrollTo(0,0)):""===w.trim()?(ae("error"),he(!0),ce("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f!"),window.scrollTo(0,0)):""===T.trim()&&($("error"),he(!0),ce("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0434\u0430\u0442\u0443!"),je("turnOff"),Ce("dateAndTimeInput"),window.scrollTo(0,0))}},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c")),g)}}).call(this,n(30))},136:function(e,t,n){"use strict";var a=n(6),r=n.n(a),u=n(9),o=n(7),c=n(0),s=n.n(c),i=n(1),l=n(138),d=n.n(l),m=n(13),p=n.n(m),f=n(25),h=n.n(f),v=n(33),g=n.n(v),b=n(137),E=n.n(b);t.a=function(e){var t=e.id,n=(e.go,e.fetchedUser,e.setSnackbar),a=e.snackbar,l=Object(c.useState)(void 0),m=Object(o.a)(l,2),f=m[0],v=m[1],b=Object(c.useState)(!1),O=Object(o.a)(b,2),S=O[0],y=O[1],C=Object(c.useState)(!0),q=Object(o.a)(C,2),w=q[0],A=q[1],j={backgroundColor:"var(--accent)"};return Object(c.useEffect)((function(){function e(){return(e=Object(u.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.send("VKWebAppGetGroupInfo",{group_id:198211683});case 2:return t=e.sent,e.next=5,v(t);case 5:console.log(f);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}(),fetch("/notificationsCheck",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({url:window.location.search.replace("?","")})}).then((function(e){return e.json()})).then((function(e){1===e.response.is_allowed?fetch("/checkNotificationsInDatabase",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({url:window.location.search.replace("?","")})}).then((function(e){return e.json()})).then((function(e){console.log(e),"On"===e||"Null"===e||"no data"===e?(y(!0),A(!1)):(y(!1),A(!1))})):(y(!1),A(!1))})).catch((function(e){console.log(e),console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0438 \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0438 \u043d\u0430 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u0430!"),n(s.a.createElement(i.D,{layout:"vertical",onClose:function(){return n(null)},before:s.a.createElement(i.b,{size:24},s.a.createElement(h.a,{fill:"red",width:14,height:14}))},"\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u044f! \u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442!"))}))}),[]),s.a.createElement(i.v,{id:t},s.a.createElement(i.w,null," \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 "),s.a.createElement(i.m,{description:"\u041d\u0430\u0448 \u0431\u043e\u0442 \u0431\u0443\u0434\u0435\u0442 \u043f\u0440\u0438\u0441\u044b\u043b\u0430\u0442\u044c \u0432\u0430\u043c \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f \u0442\u043e\u043b\u044c\u043a\u043e \u0442\u043e\u0433\u0434\u0430, \u043a\u043e\u0433\u0434\u0430 \u0432\u044b \u0431\u0443\u0434\u0435\u0442\u0435 \u043d\u0430 \u043f\u0435\u0440\u0432\u043e\u043c \u0438 \u0432\u0442\u043e\u0440\u043e\u043c \u043c\u0435\u0441\u0442\u0430\u0445 \u0432 \u043e\u0447\u0435\u0440\u0435\u0434\u0438. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435, \u044d\u0442\u043e \u0443\u0434\u043e\u0431\u043d\u043e!",header:s.a.createElement(i.n,{mode:"secondary"},"\u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u0435 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f:")},s.a.createElement(i.f,{className:"EnterDivv"},s.a.createElement(i.d,{className:"cell",before:s.a.createElement(d.a,null),asideContent:s.a.createElement(i.F,{disabled:w,checked:S,onChange:Object(u.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(S){e.next=9;break}return e.next=3,p.a.send("VKWebAppAllowMessagesFromGroup",{group_id:198211683});case 3:return e.next=5,fetch("/turnNotificationsOn",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({url:window.location.search.replace("?","")})}).then((function(e){return e.json()})).then((function(e){}));case 5:y(!0),n(s.a.createElement(i.D,{layout:"vertical",onClose:function(){return n(null)},before:s.a.createElement(i.b,{size:24,style:j},s.a.createElement(g.a,{fill:"#fff",width:14,height:14}))},"\u0412\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u043b\u0438 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f \u043e\u0442 \u0431\u043e\u0442\u0430!")),e.next=11;break;case 9:return e.next=11,fetch("/turnNotificationsOff",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({url:window.location.search.replace("?","")})}).then((function(e){return e.json()})).then((function(e){y(!1),n(s.a.createElement(i.D,{layout:"vertical",onClose:function(){return n(null)},before:s.a.createElement(i.b,{size:24,style:j},s.a.createElement(g.a,{fill:"#fff",width:14,height:14}))},"\u0423\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f \u043e\u0442 \u0431\u043e\u0442\u0430 \u043e\u0442\u043a\u043b\u044e\u0447\u0435\u043d\u044b!"))}));case 11:case"end":return e.stop()}}),e)})))})},"\u0423\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f \u043e\u0442 \u0431\u043e\u0442\u0430"))),s.a.createElement(i.m,{header:s.a.createElement(i.n,{mode:"secondary"},"\u041d\u0430\u0448\u0430 \u0433\u0440\u0443\u043f\u043f\u0430 \u0432 VK:")},s.a.createElement(i.f,null,s.a.createElement(i.d,{id:"groupCell",className:"cell",before:s.a.createElement(i.b,{className:"avatar",size:45,src:E.a}),description:"\u041f\u043e \u0432\u0441\u0435\u043c \u0432\u043e\u043f\u0440\u043e\u0441\u0430\u043c",onClick:function(){var e=document.createElement("a");e.href="https://vk.com/queuesminiapp",e.setAttribute("target","_blank"),e.click()}},s.a.createElement("text",{className:"nameUser"},"\u041e\u0447\u0435\u0440\u0435\u0434\u0438!")))),s.a.createElement(i.K,{className:"version"},"Version: 1.4.1"),a)}},137:function(e,t,n){e.exports=n.p+"static/media/QueuesLogoNEW150x150.86ae2a90.jpg"},139:function(e,t,n){"use strict";var a=n(0),r=n.n(a),u=n(1),o=n(140),c=n.n(o);t.a=function(e){var t=e.id,n=e.setActivePanel,a=e.skip;return r.a.createElement(u.v,{id:t},r.a.createElement(u.w,{separator:!1,left:r.a.createElement(u.x,{onClick:a},"\u041f\u0440\u043e\u043f\u0443\u0441\u0442\u0438\u0442\u044c")}),r.a.createElement(u.f,null,r.a.createElement("img",{className:"imgForTutor",src:c.a})),r.a.createElement(u.f,null,r.a.createElement(u.M,{className:"textInstruction",level:"1",weight:"heavy",style:{marginBottom:8}},"\u041e\u0447\u0435\u0440\u0435\u0434\u0438!"),r.a.createElement(u.K,{className:"textInstruction2",weight:"regular",style:{marginBottom:12}},"\u0412 \u044d\u0442\u043e\u043c \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0438 \u0442\u044b \u0441\u043c\u043e\u0436\u0435\u0448\u044c \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0441\u0432\u043e\u044e \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0443\u044e \u043e\u0447\u0435\u0440\u0435\u0434\u044c \u0438 \u043f\u0440\u0438\u0433\u043b\u0430\u0441\u0438\u0442\u044c \u0432 \u043d\u0435\u0451 \u043b\u044e\u0434\u0435\u0439!")),r.a.createElement(u.f,null,r.a.createElement(u.c,{stretched:!0,size:"l",className:"buttonContinue",onClick:function(){n("instruction2")}},"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c")))}},140:function(e,t,n){e.exports=n.p+"static/media/phone.0b6c6875.png"},141:function(e,t,n){"use strict";var a=n(0),r=n.n(a),u=n(1),o=n(142),c=n.n(o);t.a=function(e){var t=e.id,n=e.setActivePanel,a=e.skip;return r.a.createElement(u.v,{id:t},r.a.createElement(u.w,{separator:!1,left:r.a.createElement(u.x,{onClick:a},"\u041f\u0440\u043e\u043f\u0443\u0441\u0442\u0438\u0442\u044c")}),r.a.createElement(u.f,null,r.a.createElement("img",{className:"imgForTutor",src:c.a})),r.a.createElement(u.f,null,r.a.createElement(u.M,{className:"textInstruction",level:"1",weight:"heavy",style:{marginBottom:8}},"\u0421\u043e\u0437\u0434\u0430\u0432\u0430\u0439 \u043e\u0447\u0435\u0440\u0435\u0434\u044c"),r.a.createElement(u.K,{className:"textInstruction2",weight:"regular",style:{marginBottom:12}},"\u0414\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043e\u0447\u0435\u0440\u0435\u0434\u0438 \u043f\u0440\u043e\u0441\u0442\u043e \u0437\u0430\u0439\u0434\u0438\u0442\u0435 \u0432 \u043c\u0435\u043d\u044e \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0438 \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u043b\u044f.")),r.a.createElement(u.f,null,r.a.createElement(u.c,{stretched:!0,size:"l",className:"buttonContinue",onClick:function(){n("instruction3")}},"\u041e\u043a\u0435\u0439")))}},142:function(e,t,n){e.exports=n.p+"static/media/phone2.da8ac241.png"},143:function(e,t,n){"use strict";var a=n(0),r=n.n(a),u=n(1),o=n(144),c=n.n(o);t.a=function(e){var t=e.id,n=e.setActivePanel,a=e.skip;return r.a.createElement(u.v,{id:t},r.a.createElement(u.w,{separator:!1,left:r.a.createElement(u.x,{onClick:a},"\u041f\u0440\u043e\u043f\u0443\u0441\u0442\u0438\u0442\u044c")}),r.a.createElement(u.f,null,r.a.createElement("img",{className:"imgForTutor",src:c.a})),r.a.createElement(u.f,null,r.a.createElement(u.M,{className:"textInstruction",level:"1",weight:"heavy",style:{marginBottom:8}},"\u041c\u0435\u043d\u044e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0439"),r.a.createElement(u.K,{className:"textInstruction2",weight:"regular",style:{marginBottom:12}},"\u0417\u0434\u0435\u0441\u044c \u043d\u0430\u0445\u043e\u0434\u044f\u0442\u0441\u044f \u0432\u0441\u0435 \u0432\u0430\u0448\u0438 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u044b\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f.")),r.a.createElement(u.f,null,r.a.createElement(u.c,{stretched:!0,size:"l",className:"buttonContinue",onClick:function(){n("instruction4")}},"\u0423\u0434\u043e\u0431\u043d\u043e!")))}},144:function(e,t,n){e.exports=n.p+"static/media/phone3.1ce594cc.png"},145:function(e,t,n){"use strict";var a=n(0),r=n.n(a),u=n(1),o=n(146),c=n.n(o);t.a=function(e){var t=e.id,n=e.setActivePanel,a=e.skip;return r.a.createElement(u.v,{id:t},r.a.createElement(u.w,{separator:!1,left:r.a.createElement(u.x,{onClick:a},"\u041f\u0440\u043e\u043f\u0443\u0441\u0442\u0438\u0442\u044c")}),r.a.createElement(u.f,null,r.a.createElement("img",{className:"imgForTutor",src:c.a})),r.a.createElement(u.f,null,r.a.createElement(u.M,{className:"textInstruction",level:"1",weight:"heavy",style:{marginBottom:8}},"\u0420\u0435\u0436\u0438\u043c \u0430\u0434\u043c\u0438\u043d\u0430"),r.a.createElement(u.K,{className:"textInstruction2",weight:"regular",style:{marginBottom:12}},"\u0414\u043b\u044f \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u043e\u0432 \u043e\u0447\u0435\u0440\u0435\u0434\u0438 \u043f\u0440\u0435\u0434\u0443\u0441\u043c\u043e\u0442\u0440\u0435\u043d \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0439 \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b.")),r.a.createElement(u.f,null,r.a.createElement(u.c,{stretched:!0,size:"l",className:"buttonContinue",onClick:function(){n("instruction5")}},"\u0412\u0430\u0443")))}},146:function(e,t,n){e.exports=n.p+"static/media/phone4.78a2df6d.png"},147:function(e,t,n){"use strict";var a=n(0),r=n.n(a),u=n(1),o=n(148),c=n.n(o);t.a=function(e){var t=e.id,n=e.setActivePanel,a=e.skip;return r.a.createElement(u.v,{id:t},r.a.createElement(u.w,{separator:!1,left:r.a.createElement(u.x,{onClick:a},"\u041f\u0440\u043e\u043f\u0443\u0441\u0442\u0438\u0442\u044c")}),r.a.createElement(u.f,null,r.a.createElement("img",{className:"imgForTutor",src:c.a})),r.a.createElement(u.f,null,r.a.createElement(u.M,{className:"textInstruction",level:"1",weight:"heavy",style:{marginBottom:8}},"\u041f\u0440\u0438\u0433\u043b\u0430\u0448\u0435\u043d\u0438\u044f"),r.a.createElement(u.K,{className:"textInstruction2",weight:"regular",style:{marginBottom:12}},"\u041f\u0440\u0438\u0433\u043b\u0430\u0448\u0430\u0439\u0442\u0435 \u043b\u044e\u0434\u0435\u0439 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u0441\u0441\u044b\u043b\u043a\u0438 \u0438\u043b\u0438 \u043a\u043e\u0434\u0430.")),r.a.createElement(u.f,null,r.a.createElement(u.c,{stretched:!0,size:"l",className:"buttonContinue",onClick:function(){n("instruction6")}},"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c")))}},148:function(e,t,n){e.exports=n.p+"static/media/phone5.b03db641.png"},149:function(e,t,n){"use strict";var a=n(0),r=n.n(a),u=n(1),o=n(150),c=n.n(o);t.a=function(e){var t=e.id,n=(e.setActivePanel,e.setActiveStory,e.skip),a=(e.setTabbarCSS,e.allowNotifications);return r.a.createElement(u.v,{id:t},r.a.createElement(u.w,{separator:!1,left:r.a.createElement(u.x,{onClick:n},"\u041f\u0440\u043e\u043f\u0443\u0441\u0442\u0438\u0442\u044c")}),r.a.createElement(u.f,null,r.a.createElement("img",{className:"imgForTutor",src:c.a})),r.a.createElement(u.f,null,r.a.createElement(u.M,{className:"textInstruction",level:"1",weight:"heavy",style:{marginBottom:8}},"\u0423\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f \u043e\u0442 \u0431\u043e\u0442\u0430"),r.a.createElement(u.K,{className:"textInstruction2",weight:"regular",style:{marginBottom:12}},"\u0411\u043e\u0442 \u0431\u0443\u0434\u0435\u0442 \u043f\u0440\u0438\u0441\u044b\u043b\u0430\u0442\u044c \u0432\u0430\u043c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f, \u043a\u043e\u0433\u0434\u0430 \u0432\u044b \u043d\u0430 \u043f\u0435\u0440\u0432\u043e\u043c \u0438 \u0432\u0442\u043e\u0440\u043e\u043c \u043c\u0435\u0441\u0442\u0435 \u0432 \u043e\u0447\u0435\u0440\u0435\u0434\u0438 :)")),r.a.createElement(u.f,null,r.a.createElement(u.c,{mode:"secondary",stretched:!0,size:"l",className:"buttonContinue",onClick:a},"\u0412\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f")),r.a.createElement(u.f,null,r.a.createElement(u.c,{stretched:!0,size:"l",className:"buttonContinue",onClick:n},"\u041f\u043e\u0433\u043d\u0430\u043b\u0438!")))}},150:function(e,t,n){e.exports=n.p+"static/media/phone6.9a89a686.png"},193:function(e,t,n){e.exports=n(194)},194:function(e,t,n){"use strict";n.r(t),function(e){n(74),n(214),n(222),n(224),n(225),n(227),n(228),n(229),n(230),n(231),n(232),n(233),n(234),n(236),n(237),n(238),n(239),n(240),n(241),n(242),n(243),n(244),n(245),n(247),n(248),n(249),n(250),n(251),n(252),n(253),n(254),n(255),n(256),n(257),n(258),n(259),n(260),n(261),n(262),n(263),n(264);var t=n(6),a=n.n(t),r=n(9),u=n(0),o=n.n(u),c=n(109),s=n.n(c),i=n(13),l=n.n(i),d=n(110);function m(){return(m=Object(r.a)(a.a.mark((function t(){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(fetch("/getQueues",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({url:window.location.search.replace("?","")})}).then((function(e){return e.json()})).then((function(t){0!==t.length&&(e.scheme.beginning=!0)})),void 0!==e.scheme.beginning){t.next=7;break}return t.next=4,l.a.send("VKWebAppStorageGetKeys",{count:1,offset:0});case 4:n=t.sent,console.log(n),"firstInstruction"===n.keys[0]?e.scheme.beginning=!0:e.scheme.beginning=!1;case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}e.scheme={scheme:void 0,beginning:void 0,goBack:void 0},l.a.send("VKWebAppInit"),function(){m.apply(this,arguments)}(),l.a.subscribe((function(t){var n=t.detail,a=n.type,r=n.data;if("VKWebAppUpdateConfig"===a){var u=document.createAttribute("scheme");u.value=r.scheme?r.scheme:"client_light",console.log(u.value),"bright_light"===u.value?l.a.send("VKWebAppSetViewSettings",{status_bar_style:"dark"}):l.a.send("VKWebAppSetViewSettings",{status_bar_style:"light"}),document.body.attributes.setNamedItem(u),e.scheme.scheme=u.value}})),s.a.render(o.a.createElement(d.a,{tutorial:e.scheme.beginning}),document.getElementById("root"))}.call(this,n(30))},283:function(e,t,n){}},[[193,1,2]]]);
//# sourceMappingURL=main.4c728aa7.chunk.js.map