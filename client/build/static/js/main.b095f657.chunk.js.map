{"version":3,"sources":["panels/Home.js","QueueCell.js","panels/JoinQueue.js","panels/CreateQueue.js","panels/AboutQueue.js","usersList.js","img/unnamed.jpg","img/cowboy.jpg","index.js","App.js"],"names":["homePanelCounter","Home","id","go","fetchedUser","queues","setActiveStory","setQueues","useEffect","queuesSet","queuesArray","a","console","log","fetch","method","headers","body","JSON","stringify","then","response","json","data","name","date","time","place","description","inviteCode","url","cowboy","length","icon","action","size","mode","onClick","stretched","map","info","QueueCell","className","before","src","text","caption","slice","split","reverse","join","todo","коммент","e","global","queue","number","idQueue","data-to","JoinQueue","setActiveModal","header","level","CreateQueue","useState","nameQueue","setNameQueue","setDate","setTime","setDescription","avatarName","setAvatarName","getRandomInt","max","Math","floor","random","top","value","status","trim","bottom","onChange","target","type","controlSize","pic","files","picName","replace","picURL","onPhotoUpload","AboutQueue","setPopout","left","multiline","weight","queueCode","counter","counter2","ADDcounter","osName","platform","menuCounter","styleForButtons","styleForButtonAddAdmin","UsersList","props","shuffle","array","i","j","adminButton","setState","draggable","buttonText","state","nameAdminButton","selectables","CSSMenuDropout","openMenuButton","cssButtonGiveAdmin","addAdminButton","IOS","cssPlusAdminButton","CSSButtonDiv","closePopout","shuffleAlert","actionsLayout","actions","title","autoclose","newArr","users","changeUsersPositionOnServer","onClose","skipAlert","usersArr","cssSkipButton","tmp","exitAlert","usersArray","openMenu","reqAdminUsers","document","getElementById","checked","isAdmin","AddPersonNotFromVK","CSSAddNewUserInput","CSSAddNewUserButton","cssAdminButton","cssAddAdminButton","cssShuffleButton","CSSExitQueueButton","CSSEditQueueButton","CSSAddPersonButton","activeTab","undefined","avatar","this","selected","newUser","newUsers","key","selectable","removable","indexOf","unnamed","onDragFinish","from","to","draggingList","splice","onRemove","React","Component","module","exports","bridge","send","ReactDOM","render","userPlace","iSAdmin","App","activePanel","setActivePanel","setUser","popout","activeStory","activeModal","codeInput","setCodeInput","user","subscribe","detail","schemeAttribute","createAttribute","scheme","attributes","setNamedItem","fetchData","currentTarget","dataset","onStoryChange","story","modal","autoFocus","minlength","maxlength","role","aria-label","tabbar","data-story"],"mappings":"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","file":"static/js/main.b095f657.chunk.js","sourcesContent":["import React, {useEffect} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport QueueCell from \"../QueueCell\";\r\nimport Icon56UsersOutline from '@vkontakte/icons/dist/56/users_outline';\r\nimport {Placeholder, List, Div, Group, PanelHeader, Panel, Button} from \"@vkontakte/vkui\";\r\nimport cowboy from \"../img/cowboy.jpg\";\r\n\r\nlet homePanelCounter = 0;\r\n\r\nconst Home = ({ id, go, fetchedUser, queues, setActiveStory, setQueues}) => {\r\n\r\n\tuseEffect(() => {\r\n\t\tif (homePanelCounter !== 0) {\r\n\t\t\tconsole.log('Отправлен запрос на получение очередей...')\r\n\r\n\t\t\tfetch('/getQueues', {\r\n\t\t\t\tmethod: 'POST',\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Accept': 'application/json',\r\n\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t},\r\n\t\t\t\tbody: JSON.stringify({\r\n\t\t\t\t\t\"userID\": fetchedUser.id,\r\n\t\t\t\t})\r\n\t\t\t}).then(function (response) {\r\n\t\t\t\treturn response.json();\r\n\t\t\t})\r\n\t\t\t\t.then(function (data) {\r\n\t\t\t\t\tconsole.log('Получен массив очередей: ' + data);\r\n\t\t\t\t\tqueuesSet(data);\r\n\r\n\t\t\t\t})\r\n\t\t}\r\n\t\thomePanelCounter++;\r\n\t\t/* ИМИТАЦИЯ ПОЛУЧЕННЫХ ДАННЫХ */\r\n\t\tconst queuesArray = [\r\n\t\t\t{ id: 1, name: 'Сдача лабы по проге', date: '', time: '', place: 'ИТМО', description: 'Приём в каб. 406', inviteCode: 'J8D1XI', url: 'https://firebasestorage.googleapis.com/v0/b/queuesvkminiapp.appspot.com/o/43H5.gif?alt=media&token=bc19b8ba-dc95-4bcf-8914-c7b6163d1b3b'},\r\n\t\t\t{ id: 2, name: 'Очередь за шавермой', date:'14.12.2020', time: '15:10', place: 'Ларёк 35', description: 'Лучшая шавуха у Ашота', inviteCode: 'F67HN8', url: ''},\r\n\t\t\t{ id: 3, name: 'На сдачу экзамена по вождению', date: '25.08.2020', time: '16:00', place: 'Улица Горькавого', description: 'С собой иметь маску и перчатки!', inviteCode: 'LI96C1', url: cowboy},\r\n\t\t\t{ id: 4, name: 'Сдача лабы по инфе', date: '24.02.2021', time: '12:25', place:'Москва, ВШЭ', description: 'Жесткий препод', inviteCode: 'N84J4K', url: ''},\r\n\t\t];\r\n\r\n\t\tqueuesSet(queuesArray);\r\n\r\n\t\t/* ИМИТАЦИЯ ПОЛУЧЕННЫХ ДАННЫХ */\r\n\r\n\t\tasync function queuesSet(queuesArray){\r\n\t\t\tsetQueues(queuesArray);\r\n\t\t}\r\n\t}, []);\r\n\r\n\r\n\t\treturn (\r\n\t\t\t<Panel id={id}>\r\n\t\t\t\t<PanelHeader>Ваши очереди</PanelHeader>\r\n\r\n\t\t\t\t{queues.length === 0 &&\r\n\t\t\t\t<Div>\r\n\t\t\t\t\t<Placeholder\r\n\t\t\t\t\t\ticon={<Icon56UsersOutline/>}\r\n\t\t\t\t\t\taction={<Button size=\"l\" mode=\"tertiary\" onClick={() => setActiveStory('joinQueue')}>Присоединитесь во вкладке <br/> 'Войти в\r\n\t\t\t\t\t\t\tочередь'</Button>}\r\n\t\t\t\t\t\tstretched\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tВы не состоите<br/>в очередях\r\n\t\t\t\t\t</Placeholder>\r\n\t\t\t\t</Div>\r\n\t\t\t\t}\r\n\r\n\t\t\t\t<Div>\r\n\t\t\t\t\t<Group>\r\n\t\t\t\t\t\t<List>\r\n\t\t\t\t\t\t\t{queues.map(info => {\r\n\t\t\t\t\t\t\t\treturn <QueueCell info={info} go={go}/>\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</List>\r\n\r\n\t\t\t\t\t</Group>\r\n\t\t\t\t</Div>\r\n\r\n\t\t\t</Panel>\r\n\t\t)\r\n}\r\n\r\nHome.propTypes = {\r\n\tid: PropTypes.string.isRequired,\r\n\tgo: PropTypes.func.isRequired,\r\n\tfetchedUser: PropTypes.shape({\r\n\t\tphoto_200: PropTypes.string,\r\n\t\tfirst_name: PropTypes.string,\r\n\t\tlast_name: PropTypes.string,\r\n\t\tcity: PropTypes.shape({\r\n\t\t\ttitle: PropTypes.string,\r\n\t\t}),\r\n\t}),\r\n};\r\n\r\nexport default Home;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { RichCell, Avatar } from \"@vkontakte/vkui\";\r\n\r\nfunction QueueCell({ info, go}) {\r\n\r\n    return(\r\n        <RichCell\r\n            className={'QueueCellStyle'}\r\n            before={<Avatar size={48} src={info.url} />}\r\n            text = {info.description}\r\n            caption = {info.date.slice(0, 10).split('-').reverse().join('.')} todo коммент\r\n            // after=\"+ 1 500 ₽\"\r\n            onClick={ (e) => {\r\n                go(e);\r\n                global.queue.number = info.name;\r\n                global.queue.idQueue = info.id\r\n            }}\r\n            data-to={'aboutQueue'}\r\n        >\r\n            {info.name}\r\n        </RichCell>\r\n    )\r\n}\r\n\r\nQueueCell.propTypes = {\r\n    info: PropTypes.object,\r\n}\r\n\r\nexport default QueueCell;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {Button, PanelHeader, Panel, Div, Group, Header} from \"@vkontakte/vkui\";\r\nconst MODAL_CARD_ABOUT = 'say-about';\r\n\r\nconst JoinQueue = ({ id, go, setActiveModal}) => {\r\n    // const [search, setSearch] = useState(undefined);\r\n    //\r\n    // const onChange = e => {\r\n    //     setSearch(e.target.value);\r\n    // }\r\n\r\n        return (\r\n            <Panel id={id}>\r\n                <PanelHeader> Войти в очередь </PanelHeader>\r\n                {/*<Group header={<Header mode=\"secondary\">Найти публичную очередь:</Header>}>*/}\r\n                {/*    <Div>*/}\r\n                {/*        <Search value={search} onChange={onChange} after={null}/>*/}\r\n                {/*    </Div>*/}\r\n                {/*</Group>*/}\r\n\r\n                <Group header={<Header mode=\"secondary\">Присоединиться к приватной очереди:</Header>}>\r\n                    <Div className={'EnterDiv'}>\r\n                        <Button size=\"xl\" level=\"2\" onClick={() => setActiveModal(MODAL_CARD_ABOUT)}>\r\n                            Войти с помощью кода\r\n                        </Button>\r\n                        <br/>\r\n                        <Button size=\"xl\" level=\"2\">\r\n                            Войти с помощью QR кода\r\n                        </Button>\r\n                    </Div>\r\n                </Group>\r\n            </Panel>\r\n        );\r\n}\r\n\r\nJoinQueue.propTypes = {\r\n    id: PropTypes.string.isRequired,\r\n    go: PropTypes.func.isRequired,\r\n    fetchedUser: PropTypes.shape({\r\n        photo_200: PropTypes.string,\r\n        first_name: PropTypes.string,\r\n        last_name: PropTypes.string,\r\n        city: PropTypes.shape({\r\n            title: PropTypes.string,\r\n        }),\r\n    }),\r\n};\r\nexport default JoinQueue;","import React, {useState} from 'react';\r\nimport {Button, PanelHeader, Panel,  FormLayout, Input, File, Text} from \"@vkontakte/vkui\";\r\nimport Icon28Attachments from '@vkontakte/icons/dist/28/attachments';\r\nconst MODAL_CARD_CHAT_INVITE = 'chat-invite';\r\n\r\n\r\nconst CreateQueue = ({ id, go, setActiveModal, fetchedUser}) => {\r\n    const [nameQueue, setNameQueue] = useState(\"\");\r\n    const [date, setDate] = useState(\"\");\r\n    const [time, setTime] = useState(\"\");\r\n    const [description, setDescription] = useState(\"\");\r\n    const [avatarName, setAvatarName] = useState(\"\");\r\n\r\n    // let pic; //Картинка очереди\r\n    // let picName;\r\n    // let picURL = '';\r\n\r\n    const createQueueOnServer = () => {\r\n        console.log('Отправлен запрос на создание очереди...');\r\n        console.log('С параметрами:');\r\n        console.log('id : ' + fetchedUser.id);\r\n        console.log('Название очереди: ' + nameQueue);\r\n        console.log('Дата проведения: ' + date);\r\n        console.log('Время проведения: ' + time);\r\n        console.log('Описание очереди: ' + description);\r\n        console.log('Аватарка очереди: ' + global.queue.picURL.replace(/\\s+/g, ' ').trim());\r\n\r\n        fetch('/createQueue', {\r\n            method: 'POST',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json',\r\n            },\r\n            body: JSON.stringify({\r\n                \"userID\": fetchedUser.id,\r\n                \"queueName\": nameQueue,\r\n                \"queueType\": true,\r\n                \"queueTime\": time,\r\n                \"queueDate\": date,\r\n                \"queueAvatarURL\": global.queue.picURL,\r\n                \"queueDescription\": description,\r\n            })\r\n        }).then(function (response) {\r\n            return response.json();\r\n        })\r\n            .then(function (data) {\r\n                console.log('Получен массив очередей: ' + data);\r\n            })\r\n    };\r\n\r\n    const onPhotoUpload = (e) => {\r\n        global.queue.pic = e.target.files[0];\r\n        global.queue.picName = nameQueue.replace(/\\s+/g,'-') + '_' + (e.target.files[0].name).replace(/\\s+/g,'') + getRandomInt(1000);\r\n        global.queue.picURL = 'https://firebasestorage.googleapis.com/v0/b/queuesvkminiapp.appspot.com/o/' + global.queue.picName + '?alt=media&token=bc19b8ba-dc95-4bcf-8914-c7b6163d1b3b';\r\n        setAvatarName(e.target.files[0].name);\r\n        console.log(global.queue.picURL);\r\n        console.log(global.queue.picName);\r\n        console.log(global.queue.pic);\r\n    }\r\n\r\n    const getRandomInt = (max) => {\r\n        return Math.floor(Math.random() * Math.floor(max));\r\n    }\r\n\r\n    return(\r\n        <Panel id={id} >\r\n            <PanelHeader> Создание очереди </PanelHeader>\r\n            <FormLayout>\r\n                <Input top={'Название очереди*'}\r\n                       value={nameQueue}\r\n                       status={nameQueue.trim() ? 'valid' : 'error'}\r\n                       bottom={nameQueue.trim() ? '' : 'Пожалуйста, введите название!'}\r\n                       onChange={e => setNameQueue(e.target.value)}/>\r\n                <Input top={'Дата проведения'} name={'date'} type={'date'} value={date} onChange={e =>setDate(e.target.value)}/>\r\n                <Input top={'Время начала'} name={'time'} type={'time'} value={time} onChange={e => setTime(e.target.value)}/>\r\n                <File top=\"Аватарка очереди\" before={<Icon28Attachments />} controlSize=\"xl\" mode=\"secondary\"\r\n                      onChange={(e) => {onPhotoUpload(e)}}/>\r\n                <Text className={'uploadedImgName'}>{avatarName}</Text>\r\n                <Input top={'Краткое описание очереди'} value={description} onChange={e => setDescription(e.target.value)}/>\r\n                <Button size=\"xl\" onClick={() => {\r\n                    if(nameQueue.trim() !== '') {\r\n                        createQueueOnServer();\r\n\r\n                        fetch('https://firebasestorage.googleapis.com/v0/b/queuesvkminiapp.appspot.com/o?uploadType=media&name=' + global.queue.picName, {\r\n                            method: 'POST',\r\n                            headers: {\r\n                                'Accept': 'application/json',\r\n                                'Content-Type': 'image/png',\r\n                            },\r\n                            body: global.queue.pic\r\n                        }).then(function (response) {\r\n                            return response.json();\r\n                        })\r\n                            .then(function (data) {\r\n                                console.log('Картинка успешно загружена!!!');\r\n                                setActiveModal(MODAL_CARD_CHAT_INVITE);\r\n                            })\r\n                    }\r\n                }}>Создать</Button>\r\n            </FormLayout>\r\n        </Panel>\r\n    );\r\n}\r\n\r\nexport default CreateQueue;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {MiniInfoCell, Panel, PanelHeader, PanelHeaderButton, Group, Text, Div, Avatar, Button} from '@vkontakte/vkui';\r\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\r\nimport './Persik.css';\r\nimport Icon20ArticleOutline from '@vkontakte/icons/dist/20/article_outline';\r\nimport Icon20RecentOutline from '@vkontakte/icons/dist/20/recent_outline';\r\nimport Icon20PlaceOutline from '@vkontakte/icons/dist/20/place_outline';\r\nimport Icon20CalendarOutline from '@vkontakte/icons/dist/20/calendar_outline';\r\nimport UsersList from '../usersList'\r\nimport Icon20Info from '@vkontakte/icons/dist/20/info';\r\n\r\n\r\n// const osName = platform(); - Определяет ОС устройства\r\n\r\nconst AboutQueue = ({id, fetchedUser, go, queues, setActiveModal, setPopout}) => {\r\n\r\n\treturn (\r\n\t\t<Panel id={id}>\r\n\t\t\t<PanelHeader\r\n\t\t\t\tleft={<PanelHeaderButton onClick={go} data-to=\"home\">\r\n\t\t\t\t\t{<Icon28ChevronBack/>}\r\n\t\t\t\t</PanelHeaderButton>}\r\n\t\t\t>\r\n\t\t\t\t{global.queue.number}\r\n\t\t\t</PanelHeader>\r\n\r\n\t\t\t<div className={'AvatarInQueueDiv'}>\r\n\t\t\t<Avatar className={'AvatarInQueue'} size={106} src={queues[global.queue.idQueue - 1].url}/>\r\n\t\t\t</div>\r\n\r\n\t\t\t<Div>\r\n\t\t\t<Group className={'QueueINFO'}>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<br/>\r\n\t\t\t\t\t<br/>\r\n\t\t\t\t{ queues[global.queue.idQueue - 1].description !== '' &&\r\n\t\t\t\t\t<MiniInfoCell\r\n\t\t\t\t\t\tbefore={<Icon20ArticleOutline/>}\r\n\t\t\t\t\t\tmultiline\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{queues[global.queue.idQueue - 1].description}\r\n\t\t\t\t\t</MiniInfoCell>\r\n\t\t\t\t}\r\n\t\t\t\t{ queues[global.queue.idQueue - 1].place !== '' &&\r\n\t\t\t\t\t<MiniInfoCell\r\n\t\t\t\t\t\tbefore={<Icon20PlaceOutline/>}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{queues[global.queue.idQueue - 1].place}\r\n\t\t\t\t\t</MiniInfoCell>\r\n\t\t\t\t}\r\n\r\n\t\t\t\t{ queues[global.queue.idQueue - 1].date !== '' &&\r\n\t\t\t\t\t<MiniInfoCell\r\n\t\t\t\t\t\tbefore={<Icon20CalendarOutline/>}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{queues[global.queue.idQueue - 1].date.slice(0, 10).split('-').reverse().join('.')}\r\n\t\t\t\t\t</MiniInfoCell>\r\n\t\t\t\t}\r\n\t\t\t\t{ queues[global.queue.idQueue - 1].time !== '' &&\r\n\t\t\t\t\t<MiniInfoCell\r\n\t\t\t\t\t\tbefore={<Icon20RecentOutline/>}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{queues[global.queue.idQueue - 1].time.slice(0, 5)}\r\n\t\t\t\t\t</MiniInfoCell>\r\n\t\t\t\t}\r\n\r\n\t\t\t\t<MiniInfoCell\r\n\t\t\t\t\tbefore={<Icon20Info/>}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Text weight=\"semibold\">Код очереди:  {queues[global.queue.idQueue - 1].inviteCode} </Text>\r\n\t\t\t\t</MiniInfoCell>\r\n\r\n\t\t\t\t<Button className={'editQueueButton'} mode={'tertiary'}>Редактировать информацию</Button>\r\n\r\n\t\t\t\t</div>\r\n\t\t\t</Group>\r\n\t\t\t</Div>\r\n\r\n\t\t\t<UsersList setActiveModal={setActiveModal} setPopout={setPopout}  queueCode={queues[global.queue.idQueue - 1].inviteCode} fetchedUser={fetchedUser}/>\r\n\r\n\t\t</Panel>\r\n\t)\r\n}\r\n\r\nAboutQueue.propTypes = {\r\n\tid: PropTypes.string.isRequired,\r\n\tgo: PropTypes.func.isRequired,\r\n}\r\n\r\nexport default AboutQueue;\r\n","import React from 'react';\r\nimport {\r\n    Button, Cell, Header, Div, Group, List, Avatar, platform, IOS, Input, Alert, Placeholder, TabsItem, Tabs, Separator\r\n} from \"@vkontakte/vkui\";\r\nimport unnamed from './img/unnamed.jpg'\r\nimport Icon56InboxOutline from '@vkontakte/icons/dist/56/inbox_outline';\r\nimport cowboy from \"./img/cowboy.jpg\";\r\n\r\nlet counter = 1; //Счётчик, считающий кол-во включений админ-панели\r\nlet counter2= 1; //Счётчик, считающий кол-во включений добавления админов\r\nlet ADDcounter = 1; //Счётчик, считающий кол-во нажатий по добаление человека не из VK\r\nconst osName = platform();\r\nlet menuCounter = 1; //Счётчик открытия меню действий\r\nlet styleForButtons = 'ButtonsDiv'; //Стили для кнопки меню действий для IOS/Android\r\nlet styleForButtonAddAdmin = 'giveAdmin'; //Стили для кнопки меню действий для IOS/Android\r\n\r\nclass UsersList extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        if (osName === IOS){\r\n            styleForButtons = 'ButtonDivIOS';\r\n        }\r\n        this.state = {\r\n            users: [],\r\n            draggable: false,\r\n            buttonText: 'Вкл. режим админа',\r\n            cssAdminButton: 'turnOff',\r\n            cssSkipButton: 'OnlySkipButton',\r\n            CSSButtonDiv: styleForButtons,\r\n            CSSAddNewUserInput: 'turnOff',\r\n            CSSAddNewUserButton: 'turnOff',\r\n            cssAddAdminButton: 'turnOff',\r\n            cssShuffleButton: 'turnOff',\r\n            cssPlusAdminButton: 'turnOff',\r\n            CSSExitQueueButton: 'exitQueueButton',\r\n            CSSEditQueueButton: 'turnOff',\r\n            CSSAddPersonButton: 'turnOff',\r\n            cssButtonGiveAdmin: 'turnOff',\r\n            nameAdminButton: 'Выдать права админа',\r\n            selectables: false,\r\n            CSSMenuDropout: 'turnOff', //turnOff or CSSMenuDropout\r\n            openMenuButton: 'Открыть меню действий',\r\n            activeTab: 'user',\r\n            isAdmin: undefined\r\n        };\r\n\r\n    }\r\n\r\n    // Приём каждые 5 сек\r\n    // async componentDidMount() {\r\n    //     try {\r\n    //         setInterval(async () => {\r\n    //             fetch('/getPeople', {\r\n    //                 method: 'POST',\r\n    //                 headers: {\r\n    //                     'Accept': 'application/json',\r\n    //                     'Content-Type': 'application/json',\r\n    //                 },\r\n    //                 body: JSON.stringify({\r\n    //                     \"queueCODE\": this.props.queueCode,\r\n    //                 })\r\n    //             }).then(function (response) {\r\n    //                 return response.json();\r\n    //             })\r\n    //                 .then(function (data) {\r\n    //                     console.log('Получен массив людей: ' + data);\r\n    //\r\n    //                 })\r\n    //\r\n    //         }, 5000);\r\n    //     } catch(e) {\r\n    //         console.log(e);\r\n    //     }\r\n    // }\r\n\r\n    async componentDidMount() {\r\n        \tconsole.log('Отправлен запрос на получение списка людей, принадлежащих к очереди...')\r\n\r\n            /*ИМИТАЦИЯ ПОЛУЧЕНИЯ ДАННЫХ*/\r\n            let usersArr = [\r\n                {id: 1, name: 'Павел Сергеевич', avatar: cowboy, isAdmin: true},\r\n                {id: 2, name: 'Андрей', avatar: cowboy, isAdmin: true},\r\n                {id: 3, name: 'Моннар бэкендер', avatar: cowboy, isAdmin: false},\r\n                {id: 4, name: 'Ус', avatar: cowboy, isAdmin: false},\r\n                {id: 5, name: 'Человек', isAdmin: false},\r\n                {id: 6, name: 'Тута Хамон', avatar: cowboy, isAdmin: false},\r\n                {id: 7, name: 'Тамерлан', avatar: cowboy, isAdmin: false},\r\n                {id: 8, name: 'Ислам', avatar: cowboy, isAdmin: false},\r\n                {id: 9, name: 'Сергей Павлович', avatar: cowboy, isAdmin: false},\r\n                {id: 10, name: 'Динозавр Рус', isAdmin: true},\r\n                {id: 11, name: 'Кирилл', avatar: cowboy, isAdmin: false},\r\n                {id: 12, name: 'Сергей Донат', avatar: cowboy, isAdmin: false},\r\n                {id: 13, name: 'Александр Сергеевич', avatar: cowboy, isAdmin: false},\r\n                {id: 14, name: 'Реакт', avatar: cowboy, isAdmin: false},\r\n                {id: 15, name: 'Персик :)', isAdmin: false},\r\n                {id: 16, name: 'Иван Лебедев', avatar: cowboy, isAdmin: false},\r\n                {id: 17, name: 'Спотти :)', avatar: cowboy, isAdmin: false},\r\n                {id: 18, name: 'Бенедикт Кукумбербэрмтч', avatar: cowboy, isAdmin: true},\r\n                {id: 19, name: 'Доктор Чтосын', isAdmin: false},\r\n                {id: 20, name: 'В. В.', avatar: cowboy, isAdmin: false},\r\n                {id: 21, name: 'Беда с башкой', avatar: cowboy, isAdmin: false},\r\n                {id: 22, name: 'Чашка золотая', isAdmin: false},\r\n                {id: 23, name: 'Что ещё придумать', avatar: cowboy, isAdmin: false},\r\n                {id: 24, name: 'Рептилойд', isAdmin: false},\r\n            ];\r\n            this.setState({users: usersArr});\r\n\r\n            /*ИМИТАЦИЯ ПОЛУЧЕНИЯ ДАННЫХ*/\r\n\r\n            fetch('/getPeople', {\r\n        \t\tmethod: 'POST',\r\n        \t\theaders: {\r\n        \t\t\t'Accept': 'application/json',\r\n        \t\t\t'Content-Type': 'application/json',\r\n        \t\t},\r\n        \t\tbody: JSON.stringify({\r\n        \t\t\t\"queueCODE\": this.props.queueCode,\r\n        \t\t})\r\n        \t}).then(function (response) {\r\n        \t\treturn response.json();\r\n        \t})\r\n        \t\t.then(function (data) {\r\n        \t\t\tconsole.log('Получен массив людей: ' + data);\r\n        \t\t})\r\n\r\n        // //Асинхронный приём\r\n        //     const response = await fetch('/getPeople', {\r\n        //         method: 'POST',\r\n        //         headers: {\r\n        //             'Accept': 'application/json',\r\n        //             'Content-Type': 'application/json',\r\n        //         },\r\n        //         body: JSON.stringify({\r\n        //             \"queueCODE\": this.props.queueCode,\r\n        //         })\r\n        //     });\r\n        //     const json = await response.json();\r\n        //     console.log('Принят асинхронно запрос на изменение людей :' + json);\r\n        //     //json - это уже обработанный ответ\r\n    }\r\n\r\n    //Функция для перемешивания очереди\r\n    shuffle = (array) => {\r\n        for (let i = array.length - 1; i > 0; i--) {\r\n            let j = Math.floor(Math.random() * (i + 1)); // случайный индекс от 0 до i\r\n\r\n            // let t = array[i]; array[i] = array[j]; array[j] = t\r\n            [array[i], array[j]] = [array[j], array[i]];\r\n        }\r\n        return array;\r\n    }\r\n\r\n    adminButton = () => {\r\n        if (counter2 % 2 === 0){\r\n            this.setState({\r\n                draggable: false,\r\n                buttonText: 'Вкл. режим админа',\r\n            });\r\n\r\n        }else {\r\n            if (this.state.nameAdminButton === 'Скрыть выдачу прав админа') {counter++}\r\n            this.setState({\r\n                selectables: false,\r\n                nameAdminButton: 'Выдать права админа',\r\n                draggable: true,\r\n                buttonText: 'Откл. режим админа',\r\n                CSSMenuDropout: 'turnOff',\r\n                openMenuButton: 'Открыть меню действий',\r\n                cssButtonGiveAdmin: 'turnOff',\r\n            });\r\n            menuCounter++;\r\n        }\r\n        counter2++;\r\n    }\r\n\r\n    addAdminButton = () => {\r\n        if (counter % 2 === 0){\r\n            if (osName === IOS){\r\n                styleForButtons = 'ButtonDivIOS';\r\n            }\r\n            else {\r\n                styleForButtons = 'ButtonsDiv';\r\n            }\r\n            this.setState({\r\n                cssPlusAdminButton: 'turnOff',\r\n                nameAdminButton: 'Выдать права админа',\r\n                selectables: false,\r\n                cssButtonGiveAdmin: 'turnOff',\r\n                CSSButtonDiv: styleForButtons,\r\n            });\r\n        }else {\r\n            if (this.state.buttonText === 'Откл. режим админа') {counter2++}\r\n            if (osName === IOS){\r\n                styleForButtons = 'ButtonDivIOS2';\r\n                styleForButtonAddAdmin = 'giveAdminIOS'\r\n            }\r\n            else {\r\n                styleForButtons = 'ButtonsDiv2';\r\n                styleForButtonAddAdmin = 'giveAdmin'\r\n            }\r\n            this.setState({\r\n                CSSButtonDiv: styleForButtons,\r\n                cssPlusAdminButton: '123',\r\n                nameAdminButton: 'Скрыть выдачу прав админа',\r\n                selectables: true,\r\n                CSSMenuDropout: 'turnOff',\r\n                openMenuButton: 'Открыть меню действий',\r\n                cssButtonGiveAdmin: styleForButtonAddAdmin,\r\n                draggable: false,\r\n                buttonText: 'Вкл. режим админа',\r\n            });\r\n            menuCounter++;\r\n\r\n        }\r\n        counter++;\r\n    }\r\n\r\n    closePopout = () => {\r\n        this.props.setPopout(null);\r\n    }\r\n\r\n    shuffleAlert = () => {\r\n        this.props.setPopout(\r\n            <Alert\r\n                actionsLayout=\"vertical\"\r\n                actions={[{\r\n                    title: 'Перемешать',\r\n                    autoclose: true,\r\n                    mode: 'destructive',\r\n                    action: () => {\r\n                        let newArr = this.shuffle(this.state.users);\r\n                        this.setState({\r\n                            users: newArr,\r\n                            openMenuButton: 'Открыть меню действий',\r\n                            CSSMenuDropout: 'turnOff',\r\n                        });\r\n\r\n                        this.changeUsersPositionOnServer(this.state.users);\r\n                        menuCounter++;\r\n                    }\r\n                }, {\r\n                    title: 'Отмена',\r\n                    autoclose: true,\r\n                    mode: 'cancel'\r\n                }]}\r\n                onClose={this.closePopout}\r\n            >\r\n                <h2>Подтвердите действие</h2>\r\n                <p>Вы уверены, что хотите перемешать очередь?</p>\r\n            </Alert>\r\n        )\r\n    }\r\n\r\n    skipAlert = () => {\r\n        this.props.setPopout(\r\n            <Alert\r\n                actionsLayout=\"vertical\"\r\n                actions={[{\r\n                    title: 'Опуститься ниже',\r\n                    autoclose: true,\r\n                    mode: 'destructive',\r\n                    action: () => {\r\n                        let usersArr = this.state.users;\r\n                        for(let i =0; i<usersArr.length; i++){\r\n                            if (usersArr[i].id === this.props.fetchedUser.id){\r\n                                if (i >= usersArr.length - 2 ) {\r\n                                    this.setState({cssSkipButton: 'turnOff'})\r\n                                }\r\n                                else {\r\n                                    this.setState({cssSkipButton: 'OnlySkipButton'})\r\n                                }\r\n                                let tmp = usersArr[i + 1];\r\n                                usersArr[i + 1] = usersArr[i];\r\n                                usersArr[i] = tmp;\r\n                                this.setState({\r\n                                    users: usersArr\r\n                                })\r\n                                break;\r\n                            }\r\n                        }\r\n                        console.log('Отправлен запрос на обновление списка людей в связи с пропуском позиции...')\r\n                        this.changeUsersPositionOnServer(this.state.users);\r\n                    }\r\n                }, {\r\n                    title: 'Отмена',\r\n                    autoclose: true,\r\n                    mode: 'cancel'\r\n                }]}\r\n                onClose={this.closePopout}\r\n            >\r\n                <h2>Подтвердите действие</h2>\r\n                <p>Вы уверены, что хотите опуститься на одну позицию ниже?</p>\r\n            </Alert>\r\n        )\r\n    }\r\n\r\n    exitAlert = () => {\r\n        this.props.setPopout(\r\n            <Alert\r\n                actionsLayout=\"vertical\"\r\n                actions={[{\r\n                    title: 'Покинуть очередь',\r\n                    autoclose: true,\r\n                    mode: 'destructive',\r\n                    action: () => {\r\n                        this.setState({\r\n                            openMenuButton: 'Открыть меню действий',\r\n                            CSSMenuDropout: 'turnOff',\r\n                        });\r\n                        menuCounter++;\r\n\r\n                        console.log('Отправлен запрос на выход из очереди...');\r\n                        fetch('/exitQueue', {\r\n                            method: 'POST',\r\n                            headers: {\r\n                                'Accept': 'application/json',\r\n                                'Content-Type': 'application/json',\r\n                            },\r\n                            body: JSON.stringify({\r\n                                \"userID\": this.props.fetchedUser.id,\r\n                                \"queueCODE\": this.props.queueCode\r\n                            })\r\n                        }).then(function (response) {\r\n                            return response.json();\r\n                        })\r\n                            .then(function (data) {\r\n                                console.log('Ответ получен! : ' + data);\r\n                            })\r\n\r\n                    }\r\n                }, {\r\n                    title: 'Отмена',\r\n                    autoclose: true,\r\n                    mode: 'cancel'\r\n                }]}\r\n                onClose={this.closePopout}\r\n            >\r\n                <h2>Подтвердите действие</h2>\r\n                <p>Вы уверены, что хотите покинуть очередь? Если вы снова зайдёте в очередь, то окажитесь в конце списка.</p>\r\n            </Alert>\r\n        )\r\n    }\r\n\r\n    changeUsersPositionOnServer = (usersArray) => {\r\n        console.log('Отправлен запрос на изменение порядка людей в очереди...');\r\n        console.log('Новый массив: ' + usersArray);\r\n        fetch('/changeUsersOrder', {\r\n            method: 'POST',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json',\r\n            },\r\n            body: JSON.stringify({\r\n                \"usersArray\": usersArray,\r\n                \"queueCODE\": this.props.queueCode,\r\n            })\r\n        }).then(function (response) {\r\n            return response.json();\r\n        })\r\n            .then(function (data) {\r\n                console.log('Получен массив людей: ' + data);\r\n            })\r\n    }\r\n\r\n    openMenu = () => {\r\n        if (menuCounter % 2 !== 0){\r\n            this.setState({\r\n                openMenuButton: 'Закрыть меню действий',\r\n                CSSMenuDropout: 'CSSMenuDropout',\r\n            })\r\n        }else{\r\n            this.setState({\r\n                openMenuButton: 'Открыть меню действий',\r\n                CSSMenuDropout: 'turnOff',\r\n            })\r\n        }\r\n        menuCounter++;\r\n    }\r\n\r\n    reqAdminUsers = () => {\r\n        if (osName === IOS){\r\n            styleForButtons = 'ButtonDivIOS';\r\n        }\r\n        else {\r\n            styleForButtons = 'ButtonsDiv';\r\n        }\r\n        this.setState({\r\n            cssButtonGiveAdmin: 'turnOff',\r\n            selectables: false,\r\n            nameAdminButton: 'Выдать права админа',\r\n            CSSButtonDiv: styleForButtons,\r\n        })\r\n        this.state.users.map(info => {\r\n                let a = document.getElementById(info.name)\r\n                if (a.checked) {\r\n                    info.isAdmin = true;\r\n                }\r\n        }\r\n        );\r\n        counter++\r\n\r\n        console.log('Отправлен запрос на выдачу админок...');\r\n        this.changeUsersPositionOnServer(this.state.users);\r\n    }\r\n\r\n    AddPersonNotFromVK = () => {\r\n        if(ADDcounter % 2 === 0){\r\n            this.setState({\r\n                CSSAddNewUserInput: 'turnOff',\r\n                CSSAddNewUserButton: 'turnOff',\r\n            });\r\n        }else {\r\n            this.setState({\r\n                CSSAddNewUserInput: 'CSSAddNewUserInput',\r\n                CSSAddNewUserButton: 'CSSAddNewUserButton',\r\n                CSSMenuDropout: 'turnOff',\r\n                openMenuButton: 'Открыть меню действий'\r\n            });\r\n            menuCounter++;\r\n        }\r\n        ADDcounter++;\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n            <br/>\r\n                <Div className={this.state.CSSButtonDiv}>\r\n                <div className={'showActionsButton'}>\r\n\r\n                    <Button size={'xl'} onClick={this.openMenu}>{this.state.openMenuButton}</Button>\r\n\r\n                <div className={this.state.CSSMenuDropout}>\r\n                    <Tabs>\r\n                        <TabsItem onClick={() => {\r\n                            this.setState({\r\n                                activeTab: 'user',\r\n                                cssSkipButton: 'OnlySkipButton',\r\n                                cssAdminButton: 'turnOff',\r\n                                cssAddAdminButton: 'turnOff',\r\n                                cssShuffleButton: 'turnOff',\r\n                                CSSEditQueueButton: 'turnOff',\r\n                                CSSExitQueueButton: 'CSSExitQueueButton',\r\n                                CSSAddNewUserInput: 'turnOff',\r\n                                CSSAddNewUserButton: 'turnOff',\r\n                                CSSAddPersonButton: 'turnOff'\r\n                            });\r\n                        }} selected={this.state.activeTab === 'user'}>Основные</TabsItem>\r\n\r\n                        <TabsItem onClick={() => {\r\n                            this.setState({\r\n                                activeTab: 'admin',\r\n                                cssSkipButton: 'turnOff',\r\n                                cssAdminButton: 'OnlySkipButton',\r\n                                cssAddAdminButton: 'OnlySkipButton',\r\n                                cssShuffleButton: 'OnlySkipButton',\r\n                                CSSEditQueueButton: '123',\r\n                                CSSExitQueueButton: 'turnOff',\r\n                                CSSAddPersonButton: 'AddPersonButton'\r\n                            })\r\n                        }} selected={this.state.activeTab === 'admin'}>Админ-панель</TabsItem>\r\n                    </Tabs>\r\n                    <Separator/>\r\n\r\n                    <Div>\r\n                    <Button className={this.state.cssSkipButton} size={'xl'} onClick={() => this.skipAlert()} mode={'secondary'} stretched={true}>Опуститься на позицию ниже</Button>\r\n                    <Button className={this.state.cssAdminButton} size={'xl'} onClick={this.adminButton} mode={'secondary'} stretched={true}>{this.state.buttonText}</Button>\r\n                    <Button className={this.state.cssAddAdminButton} size={'xl'} onClick={this.addAdminButton} mode={'secondary'} stretched={true}>{this.state.nameAdminButton}</Button>\r\n                    <Button className={this.state.cssShuffleButton} size={'xl'} onClick={() => {this.shuffleAlert()}} mode={'secondary'} stretched={true}>Перемешать очередь</Button>\r\n                    <Button className={this.state.CSSExitQueueButton} size={'xl'} onClick={() => this.exitAlert()} mode={'secondary'} stretched={true}>Покинуть очередь</Button>\r\n                    <Button className={this.state.CSSAddPersonButton} size={'xl'} onClick={() => this.AddPersonNotFromVK()} mode=\"secondary\" stretched={true}>Добавить человека не из VK</Button>\r\n                    </Div>\r\n\r\n                </div>\r\n\r\n                </div>\r\n                </Div>\r\n\r\n                <Group header={\r\n                <Header>Участники</Header>}>\r\n                <Div>\r\n                    <div className={'AddNewUserDiv'}>\r\n                    <Input id={'inputNotVKPerson'} type=\"text\" top={'Введите имя человека:'} className={this.state.CSSAddNewUserInput} onChange={e => global.queue.newUser = e.target.value}/>\r\n                    <Button mode={'outline'} className={this.state.CSSAddNewUserButton} onClick={() => {\r\n                        if(global.queue.newUser !== undefined && global.queue.newUser.trim() !== '') {\r\n                            const newUser = {name: global.queue.newUser};\r\n                            const newUsers = [...this.state.users, newUser];\r\n                            this.setState({\r\n                                users: newUsers,\r\n                                CSSAddNewUserInput: 'turnOff',\r\n                                CSSAddNewUserButton: 'turnOff',\r\n                            });\r\n                            ADDcounter++;\r\n\r\n                            this.changeUsersPositionOnServer(this.state.users);\r\n\r\n                            document.getElementById('inputNotVKPerson').value = '';\r\n                        }\r\n                    }}>Добавить</Button>\r\n                    </div>\r\n\r\n                    <Button className={this.state.cssButtonGiveAdmin} onClick={this.reqAdminUsers} size={'xl'}>Выдать выбранным пользователям права админа</Button>\r\n\r\n                    <List>\r\n                    {this.state.users.map(info => {\r\n                        return <Cell id={info.name} key={info.name} description={info.isAdmin ? 'Admin' : ''}\r\n                                     // onClick={() => window.open(\"http://vk.com/id\"+info.id)}\r\n                                     selectable={this.state.selectables}\r\n                                     className={info.id === this.props.fetchedUser.id ? 'SELFcell' : 'cell'}\r\n                                     draggable={this.state.draggable}\r\n                                     removable={this.state.draggable}\r\n                                     before={ info.avatar ? <Avatar className={'avatar'} size={45} src={info.avatar}>\r\n                                          <Group className={'idAvatar'}>{this.state.users.indexOf(info) + 1}</Group></Avatar>\r\n                                          : <Avatar className={'avatar'} size={45} src={unnamed}>\r\n                                          <Group className={'idAvatar'}>{this.state.users.indexOf(info) + 1}</Group></Avatar>}\r\n                                     onDragFinish={({ from, to }) => {\r\n                            const draggingList = [...this.state.users];\r\n                            draggingList.splice(from, 1);\r\n                            draggingList.splice(to, 0, this.state.users[from]);\r\n                            this.setState({users: draggingList });\r\n\r\n                            console.log('Отправлен запрос на обновление списка из-за перемещения...')\r\n                            this.changeUsersPositionOnServer(this.state.users);\r\n\r\n                        }} onRemove={() => {\r\n                            this.setState({\r\n                                users: [...this.state.users.slice(0, this.state.users.indexOf(info)), ...this.state.users.slice(this.state.users.indexOf(info) +1)]\r\n                            });\r\n                            console.log('Отправлен запрос на обновление списка из-за удаления...')\r\n                            this.changeUsersPositionOnServer(this.state.users);\r\n                        }}><text className={'nameUser'}>{info.name}</text></Cell>\r\n                    })}\r\n                </List>\r\n                </Div>\r\n            </Group>\r\n                {this.state.users.length === 1 &&\r\n                <Placeholder\r\n                    icon={<Icon56InboxOutline/>}\r\n                    action={<Button size=\"l\" mode=\"tertiary\">Пригласите людей\r\n                        с помощью кода: <br/> {this.props.queueCode}</Button>}\r\n                >\r\n                    Здесь одиноко...\r\n                </Placeholder>\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default UsersList\r\n","module.exports = \"data:image/jpeg;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/cowboy.b4f203e4.jpg\";","import \"core-js/features/map\";\r\nimport \"core-js/features/set\";\r\nimport React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport bridge from \"@vkontakte/vk-bridge\";\r\nimport App from \"./App\";\r\n\r\n// Init VK  Mini App\r\nbridge.send(\"VKWebAppInit\");\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n\r\n","import React, { useState, useEffect } from 'react';\r\nimport bridge from '@vkontakte/vk-bridge';\r\nimport '@vkontakte/vkui/dist/vkui.css';\r\nimport {\r\n\tEpic,\r\n\tTabbar,\r\n\tTabbarItem,\r\n\tModalRoot,\r\n\tModalCard,\r\n\tInput,\r\n\tFormLayout,\r\n\tView,\r\n} from \"@vkontakte/vkui\";\r\nimport ListAddOutline28 from '@vkontakte/icons/dist/28/list_add_outline'\r\nimport ListOutline28 from '@vkontakte/icons/dist/28/list_outline'\r\nimport AddSquareOutline28 from '@vkontakte/icons/dist/28/add_square_outline'\r\n\r\nimport Home from './panels/Home';\r\nimport JoinQueue from './panels/JoinQueue';\r\nimport CreateQueue from './panels/CreateQueue'\r\nimport AboutQueue from \"./panels/AboutQueue\";\r\nimport cowboy from \"./img/cowboy.jpg\";\r\n\r\nglobal.queue = {\r\n\tnumber: undefined,\r\n\tidQueue: undefined,\r\n\tuserPlace: undefined,\r\n\tiSAdmin: undefined,\r\n\tnewUser: undefined,\r\n\tpic: undefined,\r\n\tpicName: undefined,\r\n\tpicURL: undefined,\r\n}\r\n\r\nconst MODAL_CARD_ABOUT = 'say-about';\r\nconst MODAL_CARD_CHAT_INVITE = 'chat-invite';\r\n\r\nconst App = () =>{\r\n\r\n\tconst [activePanel, setActivePanel] = useState('home');\r\n\tconst [fetchedUser, setUser] = useState({id: 3}); //{id: 3} - это для теста\r\n\tconst [popout, setPopout] = useState(null);\r\n\tconst [activeStory, setActiveStory] = useState('main');\r\n\tconst [activeModal, setActiveModal] = useState(null);\r\n\tconst [codeInput, setCodeInput] = useState(undefined);\r\n\tconst [queues, setQueues] = useState([]);\r\n\r\n\t//ActiveStory - это View\r\n\t//ActivePanel - это Panel\r\n\r\n\tuseEffect(() => {\r\n\t\tconsole.log('Получение данных о пользователе через VK Bridge')\r\n\t\tbridge.subscribe(({ detail: { type, data }}) => {\r\n\t\t\tif (type === 'VKWebAppUpdateConfig') {\r\n\t\t\t\tconst schemeAttribute = document.createAttribute('scheme');\r\n\t\t\t\tschemeAttribute.value = data.scheme ? data.scheme : 'client_light';\r\n\t\t\t\tdocument.body.attributes.setNamedItem(schemeAttribute);\r\n\t\t\t}\r\n\t\t});\r\n\t\tasync function fetchData() {\r\n\t\t\tconst user = await bridge.send('VKWebAppGetUserInfo');\r\n\t\t\tsetUser(user);\r\n\t\t\tsetPopout(null);\r\n\r\n\t\t\tconsole.log('Отправлен запрос на получение очередей...')\r\n\t\t\tfetch('/getQueues', {\r\n\t\t\t\tmethod: 'POST',\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Accept': 'application/json',\r\n\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t},\r\n\t\t\t\tbody: JSON.stringify({\r\n\t\t\t\t\t\"userID\": user.id,\r\n\t\t\t\t})\r\n\t\t\t}).then(function (response) {\r\n\t\t\t\treturn response.json();\r\n\r\n\t\t\t})\r\n\t\t\t\t.then(function (data) {\r\n\t\t\t\t\tconsole.log('Получен массив очередей: ' + data);\r\n\t\t\t\t\tconsole.log(\"Для пользователя с id: \" + user.id);\r\n\t\t\t\t\t/* ИМИТАЦИЯ ПОЛУЧЕННЫХ ДАННЫХ */\r\n\r\n\t\t\t\t\tqueuesSet(data);\r\n\t\t\t\t})\r\n\t\t\t/* ИМИТАЦИЯ ПОЛУЧЕННЫХ ДАННЫХ */\r\n\t\t\tconst queuesArray = [\r\n\t\t\t\t{ id: 1, name: 'Сдача лабы по проге', date: '', time: '', place: 'ИТМО', description: 'Приём в каб. 406', inviteCode: 'J8D1XI', url: 'https://firebasestorage.googleapis.com/v0/b/queuesvkminiapp.appspot.com/o/43H5.gif?alt=media&token=bc19b8ba-dc95-4bcf-8914-c7b6163d1b3b'},\r\n\t\t\t\t{ id: 2, name: 'Очередь за шавермой', date:'14.12.2020', time: '15:10', place: 'Ларёк 35', description: 'Лучшая шавуха у Ашота', inviteCode: 'F67HN8', url: ''},\r\n\t\t\t\t{ id: 3, name: 'На сдачу экзамена по вождению', date: '25.08.2020', time: '16:00', place: 'Улица Горькавого', description: 'С собой иметь маску и перчатки!', inviteCode: 'LI96C1', url: cowboy},\r\n\t\t\t\t{ id: 4, name: 'Сдача лабы по инфе', date: '24.02.2021', time: '12:25', place:'Москва, ВШЭ', description: 'Жесткий препод', inviteCode: 'N84J4K', url: ''},\r\n\t\t\t];\r\n\r\n\t\t\tqueuesSet(queuesArray);\r\n\t\t}\r\n\r\n\t\tfetchData();\r\n\r\n\r\n\r\n\r\n\t\tasync function queuesSet(queuesArray){\r\n\t\t\tsetQueues(queuesArray);\r\n\t\t}\r\n\t}, []);\r\n\r\n\r\n\tconst go = e => {\r\n\t\tsetActivePanel(e.currentTarget.dataset.to);\r\n\t};\r\n\r\n\tconst onStoryChange = e => {\r\n\t\tsetActiveStory(e.currentTarget.dataset.story);\r\n\t};\r\n\r\n\tconst sendDataToServer = data => {\r\n\t\tif (data !== undefined && data.trim().length === 6) {\r\n\t\t\tconsole.log('Отправлен запрос на вход в очередь...');\r\n\t\t\tconsole.log('Код очереди: '+ data);\r\n\r\n\t\t\t\tfetch('/joinQueue', {\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t'Accept': 'application/json',\r\n\t\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t\t},\r\n\t\t\t\t\tbody: JSON.stringify({\r\n\t\t\t\t\t\t\"serverCode\": data,\r\n\t\t\t\t\t\t\"userID\": fetchedUser.id,\r\n\t\t\t\t\t})\r\n\t\t\t\t}).then(function (response) {\r\n\t\t\t\t\treturn response.json();\r\n\t\t\t\t})\r\n\t\t\t\t\t.then(function (data) {\r\n\t\t\t\t\t\tconsole.log('Ответ на запрос на вход в очередь');\r\n\t\t\t\t\t})\r\n\t\t\t}\r\n\t}\r\n\r\n\tconst modal = (\r\n\t\t<ModalRoot activeModal={activeModal}>\r\n\t\t\t<ModalCard\r\n\t\t\t\tclassName={'numberInputModal'}\r\n\t\t\t\tid={MODAL_CARD_ABOUT}\r\n\t\t\t\tonClose={() =>\r\n\t\t\t\t\tsetActiveModal(null)}\r\n\t\t\t\theader=\"Введите код очереди\"\r\n\t\t\t\tactions={[\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle: 'Присоединиться',\r\n\t\t\t\t\t\tmode: 'primary',\r\n\t\t\t\t\t\taction: () => {\r\n\t\t\t\t\t\t\tsendDataToServer(codeInput);\r\n\t\t\t\t\t\t\tsetActiveModal(null);\r\n\t\t\t\t\t\t\tsetCodeInput(undefined);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t]}\r\n\t\t\t>\r\n\t\t\t\t<FormLayout className={'inputJoin'}>\r\n\t\t\t\t\t\t<Input id='input' className={'inputJoin'} autoFocus={true} type={'text'} minlength={6} maxlength={6}/>\r\n\t\t\t\t</FormLayout>\r\n\t\t\t\t{/*<div className={'inputCodeDiv'}>*/}\r\n\t\t\t\t{/*\t<ReactCodeInput id={'codeINPUT'} type='text' fields={6} onChange={e => setCodeInput(e)} autoFocus={false} {...props}/>*/}\r\n\t\t\t\t{/*</div>*/}\r\n\t\t\t</ModalCard>\r\n\r\n\t\t\t<ModalCard\r\n\t\t\t\tid={MODAL_CARD_CHAT_INVITE}\r\n\t\t\t\tonClose={() => setActiveModal(null)}\r\n\t\t\t\ticon={<span role=\"img\" aria-label=\"Готово!\" className={'emoji'}>&#128588;</span>}\r\n\t\t\t\theader=\"Очередь создана!\"\r\n\t\t\t\tcaption=\"Перейдите на страницу с очередями, чтобы увидеть её!\"\r\n\t\t\t\tactions={[{\r\n\t\t\t\t\ttitle: 'На страницу с очередями',\r\n\t\t\t\t\tmode: 'primary',\r\n\t\t\t\t\taction: () => {\r\n\t\t\t\t\t\tsetActiveModal(null);\r\n\t\t\t\t\t\tsetActiveStory('main');\r\n\t\t\t\t\t\tsetActivePanel('home');\r\n\t\t\t\t\t}}, {\r\n\t\t\t\t\ttitle: 'Скопировать приглашение',\r\n\t\t\t\t\tmode: 'secondary',\r\n\t\t\t\t\taction: () => null\r\n\t\t\t\t}]}\r\n\t\t\t\tactionsLayout=\"vertical\"\r\n\t\t\t>\r\n\t\t\t</ModalCard>\r\n\r\n\t\t</ModalRoot>\r\n\t);\r\n\r\n\treturn (\r\n\t\t<Epic activeStory={activeStory} tabbar={\r\n\t\t\t<Tabbar>\r\n\t\t\t\t<TabbarItem\r\n\t\t\t\t\tonClick={onStoryChange}\r\n\t\t\t\t\tselected={activeStory === 'main'}\r\n\t\t\t\t\tdata-story=\"main\"\r\n\t\t\t\t\ttext=\"Очереди\"\r\n\t\t\t\t><ListOutline28/></TabbarItem>\r\n\t\t\t\t<TabbarItem\r\n\t\t\t\t\tonClick={onStoryChange}\r\n\t\t\t\t\tselected={activeStory === 'createQueue'}\r\n\t\t\t\t\tdata-story=\"createQueue\"\r\n\t\t\t\t\ttext=\"Создать очередь\"\r\n\t\t\t\t><AddSquareOutline28/></TabbarItem>\r\n\t\t\t\t<TabbarItem\r\n\t\t\t\t\tonClick={onStoryChange}\r\n\t\t\t\t\tselected={activeStory === 'joinQueue'}\r\n\t\t\t\t\tdata-story=\"joinQueue\"\r\n\t\t\t\t\t// label=\"12\" - Сколько уведомлений. Может быть потом пригодится\r\n\t\t\t\t\ttext=\"Войти в очередь\"\r\n\t\t\t\t><ListAddOutline28/></TabbarItem>\r\n\t\t\t</Tabbar>\r\n\t\t}>\r\n\r\n\t\t<View id={'main'} activePanel={activePanel} popout={popout} modal={modal}>\r\n\t\t\t<Home id='home' queues={queues} fetchedUser={fetchedUser} go={go} setActiveModal={setActiveModal} setActiveStory={setActiveStory} setQueues={setQueues}/>\r\n\t\t\t<AboutQueue id='aboutQueue' fetchedUser={fetchedUser} go={go} queues={queues} setActiveModal={setActiveModal} setPopout={setPopout}/>\r\n\t\t</View>\r\n\r\n\t\t<View id={'createQueue'} activePanel={'CreateQueue'} popout={popout} modal={modal}>\r\n\t\t\t<CreateQueue id={'CreateQueue'} go={go} setActiveModal={setActiveModal} fetchedUser={fetchedUser}/>\r\n\t\t</View>\r\n\r\n\t\t<View id={'joinQueue'} activePanel={'JoinQueue'} popout={popout} modal={modal}>\r\n\t\t\t<JoinQueue id={'JoinQueue'}  go={go} setActiveModal={setActiveModal}/>\r\n\t\t</View>\r\n\t\t</Epic>\r\n\t);\r\n}\r\n\r\nexport default App;\r\n\r\n"],"sourceRoot":""}