{"version":3,"sources":["App.js","panels/Home.js","QueueCell.js","panels/CreateQueue.js","panels/AboutQueue.js","usersList.js","panels/ChangeQueue.js","panels/Settings.js","img/QueuesLogoNEW150x150.jpg","panels/Instruction.js","img/phone.png","panels/Instruction2.js","img/phone2.png","panels/Instruction3.js","img/phone3.png","panels/Instruction4.js","img/phone4.png","panels/Instruction5.js","img/phone5.png","panels/Instruction6.js","img/phone6.png","index.js"],"names":["global","queue","name","undefined","idQueue","avatarQueue","descriptionQueue","dateQueue","timeQueue","placeQueue","codeQueue","isFirstPlace","userPlace","iSAdmin","newUser","isUserAdmin","userID","pic","picName","picURL","picURLNew","avatarName","joinQueueAvatar","joinQueueName","joinQueueCode","createName","createTime","createDate","createDescription","createPlace","counterForCalendar","changedName","changedDesc","changedDate","changedTime","changedPlace","changedPic","changedPicName","changedPicURL","changedPicURLNew","changedAvatarName","goBackIOS","dataCheck","codeForMsg","osName","platform","App","tutorial","useState","activePanel","setActivePanel","history","setHistory","id","fetchedUser","setUser","popout","setPopout","activeStory","setActiveStory","activeModal","setActiveModal","codeInput","setCodeInput","queues","setQueues","queueCODE","setQueueCODE","snackbar","setSnackbar","copyButtonTitle","setCopyButtonTitle","setJoinQueueName","setJoinQueueAvatar","cssSpinner","setCssSpinner","joinInputStatus","setJoinInputStatus","joinInputStatusText","setJoinInputStatusText","setCSSForCreateQueue","time","setTime","tabbarCSS","setTabbarCSS","messageToAll","setMessageToAll","useEffect","window","addEventListener","setTimeout","goBack","scheme","beginning","console","log","meta","document","createElement","a","bridge","send","user","fetch","method","headers","body","JSON","stringify","location","search","replace","then","response","json","data","queuesSet","catch","e","layout","onClose","before","size","fill","width","height","hash","toUpperCase","length","style","blueBackground","avatar","IOS","pushState","push","queuesArray","content","getElementsByTagName","appendChild","fetchData","subscribe","detail","type","schemeAttribute","createAttribute","value","attributes","setNamedItem","pop","scrollTo","go","currentTarget","dataset","to","changedPioURLNew","onStoryChange","story","sendDataToServer","trim","res","backgroundColor","modal","header","actions","title","mode","action","actionsLayout","bottom","status","placeholder","onChange","target","icon","src","caption","className","autoFocus","minlength","maxlength","substring","role","aria-label","allowNotifications","skip","tabbar","onClick","selected","data-story","data-to","text","homePanelCounter","Home","banner","setBanner","bannerData","map","info","marginTop","level","stretched","vertical","QueueCell","place","date","slice","split","reverse","join","description","code","today","pickedDate","now","Date","toLocaleDateString","nowIOSTime","IOSdateError","todayForMin","CreateQueue","nameQueue","setNameQueue","setDate","setDescription","setAvatarName","setPlace","queueNameStatus","setQueueNameStatus","queueDateStatus","setQueueDateStatus","formStatusHeader","setFormStatusHeader","formStatusDescription","setFormStatusDescription","formStatusVisibility","setFormStatusVisibility","checkPhoto","setCheckPhoto","deleteImgButtonCSS","setDeleteImgButtonCSS","delDivCSS","setDelDivCSS","timeInput","setTimeInput","dateInput","setDateInput","dateInputButton","setDateInputButton","timeInputButton","setTimeInputButton","createQueueOnServer","panel","getRandomInt","max","Math","floor","random","noValidate","top","qualifiedName","getElementById","blur","min","novalidate","validity","rangeUnderflow","getTime","toString","accept","controlSize","files","tmp","tst","tmpArr","onPhotoUpload","testImage","URL","Promise","resolve","reject","tester","Image","onload","onerror","linkifyHtml","require","AboutQueue","cssEdit","setCssEdit","desc","left","weight","multiline","dangerouslySetInnerHTML","__html","defaultProtocol","queueCode","counter","counter2","ADDcounter","menuCounter","styleForButtons","styleForButtonAddAdmin","UsersList","props","shuffle","array","i","j","adminButton","setState","draggable","buttonText","selectables","nameAdminButton","CSSMenuDropout","openMenuButton","cssButtonGiveAdmin","state","CSSAddNewUserInput","CSSAddNewUserButton","copyToClipboard","dummy","select","execCommand","removeChild","addAdminButton","openProfile","addAdminForLast","cssPlusAdminButton","CSSButtonDiv","closePopout","shuffleAlert","autoclose","newArr","users","changeUsersPositionOnServer","skipCommand","skipAlert","usersArr","userid","cssSkipButton","exitAlert","adminsCounter","pplCounter","isadmin","notvkname","exitAlertText","firstToLast","tmpUsersArr","result","userplace","last_name","first_name","photo_100","usersArray","openMenu","activeTab","reqAdminUsers","checked","link","href","setAttribute","click","AddPersonNotFromVK","fetchNotFromVKUser","checkHowManyUsersForExit","deleteUser","deletedUserPlace","refresh","getUsersData","CSSMenuButton","cssAdminButton","cssAddAdminButton","cssShuffleButton","CSSExitQueueButton","CSSEditQueueButton","CSSAddPersonButton","CSSActionsButton","isAdmin","isFirst","cssUsersList","refreshButton","cssMessageButton","this","newUsers","key","selectable","removable","indexOf","onDragFinish","from","draggingList","splice","onRemove","React","Component","nowTime","Ð¡hangeQueue","newNameQueue","setNewNameQueue","newDate","setNewDate","newTime","setNewTime","newDescription","setNewDescription","newAvatarName","setNewAvatarName","newPlace","setNewPlace","newDateStatus","setNewDateStatus","newNameStatus","setNewNameStatus","timeOutTime","changeQueueOnServer","Settings","VKgroup","setVKGroup","switchCheck","setSwitchCheck","switchDisabled","setSwitchDisabled","VKgroupP","getAuthorsInfo","is_allowed","finalResult","asideContent","disabled","queuesLogo","module","exports","Instruction","separator","phone","marginBottom","Instruction2","Instruction3","Instruction4","Instruction5","Instruction6","instr","keys","firstInstr","ReactDOM","render"],"mappings":"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","file":"static/js/main.4c728aa7.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport bridge from '@vkontakte/vk-bridge';\r\nimport '@vkontakte/vkui/dist/vkui.css';\r\nimport {\r\n\tEpic,\r\n\tTabbar,\r\n\tTabbarItem,\r\n\tModalRoot,\r\n\tModalCard,\r\n\tInput,\r\n\tFormLayout,\r\n\tView,\r\n\tAvatar,\r\n\tSnackbar,\r\n\tTextarea,\r\n\tConfigProvider, platform, IOS,\r\n} from \"@vkontakte/vkui\";\r\nimport ListOutline28 from '@vkontakte/icons/dist/28/list_outline'\r\nimport AddSquareOutline28 from '@vkontakte/icons/dist/28/add_square_outline'\r\n\r\nimport Home from './panels/Home';\r\nimport CreateQueue from './panels/CreateQueue'\r\nimport AboutQueue from \"./panels/AboutQueue\";\r\nimport ChangeQueue from \"./panels/ChangeQueue\"\r\nimport Settings from \"./panels/Settings\";\r\nimport Instruction from \"./panels/Instruction\";\r\nimport Instruction2 from \"./panels/Instruction2\";\r\nimport Instruction3 from \"./panels/Instruction3\";\r\nimport Instruction4 from \"./panels/Instruction4\";\r\nimport Instruction5 from \"./panels/Instruction5\";\r\nimport Instruction6 from \"./panels/Instruction6\";\r\nimport Icon16Clear from '@vkontakte/icons/dist/16/clear';\r\nimport Icon16User from '@vkontakte/icons/dist/16/user';\r\nimport Icon16CheckCircle from '@vkontakte/icons/dist/16/check_circle';\r\nimport Icon28SettingsOutline from '@vkontakte/icons/dist/28/settings_outline';\r\n\r\n\r\nglobal.queue = {\r\n\tname: undefined,\r\n\tidQueue: undefined,\r\n\tavatarQueue: '',\r\n\tdescriptionQueue: '',\r\n\tdateQueue: '',\r\n\ttimeQueue: '',\r\n\tplaceQueue: '',\r\n\tcodeQueue: undefined,\r\n\r\n\tisFirstPlace: undefined,\r\n\tuserPlace: undefined,\r\n\tiSAdmin: undefined,\r\n\tnewUser: undefined,\r\n\tisUserAdmin: false,\r\n\tuserID: undefined,\r\n\r\n\tpic: undefined,\r\n\tpicName: undefined,\r\n\tpicURL: undefined,\r\n\tpicURLNew: undefined,\r\n\tavatarName: undefined,\r\n\r\n\tjoinQueueAvatar: undefined,\r\n\tjoinQueueName: undefined,\r\n\tjoinQueueCode: undefined,\r\n\r\n\tcreateName: '',\r\n\tcreateTime: '',\r\n\tcreateDate: '',\r\n\tcreateDescription: '',\r\n\tcreatePlace: '',\r\n\tcounterForCalendar: 0,\r\n\r\n\tchangedName: undefined,\r\n\tchangedDesc: undefined,\r\n\tchangedDate: undefined,\r\n\tchangedTime: undefined,\r\n\tchangedPlace: undefined,\r\n\tchangedPic: undefined,\r\n\tchangedPicName: undefined,\r\n\tchangedPicURL: undefined,\r\n\tchangedPicURLNew: undefined,\r\n\tchangedAvatarName: undefined,\r\n\r\n\tgoBackIOS: false,\r\n\r\n\tdataCheck: false,\r\n\r\n\tcodeForMsg: undefined,\r\n}\r\n\r\nconst MODAL_CARD_ABOUT = 'say-about';\r\nconst MODAL_CARD_CHAT_INVITE = 'chat-invite';\r\nconst MODAL_CARD_QUEUE_INVITE = 'queue-join';\r\nconst MODAL_CARD_FOR_MESSAGE = 'massage-all';\r\nconst osName = platform();\r\n\r\nconst App = (tutorial) =>{\r\n\r\n\tconst [activePanel, setActivePanel] = useState('home');\r\n\tconst [history, setHistory] = useState(['home']) // ÐÐ°Ð½Ð¾ÑÐ¸Ð¼ Ð½Ð°ÑÐ°Ð»ÑÐ½ÑÑ Ð¿Ð°Ð½ÐµÐ»Ñ Ð² Ð¼Ð°ÑÑÐ¸Ð² Ð¸ÑÑÐ¾ÑÐ¸Ð¹.\r\n\tconst [history2, setHistory2] = useState(['home']) // ÐÐ°Ð½Ð¾ÑÐ¸Ð¼ Ð½Ð°ÑÐ°Ð»ÑÐ½ÑÑ Ð¿Ð°Ð½ÐµÐ»Ñ Ð² Ð¼Ð°ÑÑÐ¸Ð² Ð¸ÑÑÐ¾ÑÐ¸Ð¹.\r\n\tconst [fetchedUser, setUser] = useState({id: 6}); //{id: 3} - ÑÑÐ¾ Ð´Ð»Ñ ÑÐµÑÑÐ°\r\n\tconst [popout, setPopout] = useState(null);\r\n\tconst [activeStory, setActiveStory] = useState('main');\r\n\tconst [activeModal, setActiveModal] = useState(null);\r\n\tconst [codeInput, setCodeInput] = useState(undefined);\r\n\tconst [queues, setQueues] = useState([]);\r\n\tconst [queueCODE, setQueueCODE] = useState('');\r\n\tconst [snackbar, setSnackbar] = useState(null);\r\n\tconst [copyButtonTitle, setCopyButtonTitle] = useState('Ð¡ÐºÐ¾Ð¿Ð¸ÑÐ¾Ð²Ð°ÑÑ ÐºÐ¾Ð´');\r\n\tconst [joinQueueResponse, setJoinQueueResponse] = useState('');\r\n\tconst [joinQueueName, setJoinQueueName] = useState('');\r\n\tconst [joinQueueAvatar, setJoinQueueAvatar] = useState('');\r\n\tconst [cssSpinner, setCssSpinner] = useState('defaultSpinner');\r\n\tconst [joinInputStatus, setJoinInputStatus] = useState('');\r\n\tconst [joinInputStatusText, setJoinInputStatusText] = useState('');\r\n\tconst [CSSForCreateQueue, setCSSForCreateQueue] = useState('createQueuePanel');\r\n\tconst [time, setTime] = useState(false);\r\n\tconst [tabbarCSS, setTabbarCSS] = useState('createQueuePanel')\r\n\tconst [showTutor, setShowTutor] = useState(undefined);\r\n\tconst [messageToAll, setMessageToAll] = useState('');\r\n\r\n\t//ActiveStory - ÑÑÐ¾ View\r\n\t//ActivePanel - ÑÑÐ¾ Panel\r\n\tuseEffect(() => {\r\n\t\twindow.addEventListener('popstate', () => setTimeout(() => goBack(), 1));\r\n\t},[global.scheme.goBack])\r\n\r\n\tuseEffect(() => {\r\n\t\tif(!global.scheme.beginning && global.scheme.beginning !== undefined) {\r\n\t\t\tsetTabbarCSS('turnOff');\r\n\t\t\tsetActiveStory('instructionsView');\r\n\t\t\tsetActivePanel('instruction');\r\n\t\t}\r\n\r\n\t\tconsole.log('ÐÐ¾Ð»ÑÑÐµÐ½Ð¸Ðµ Ð´Ð°Ð½Ð½ÑÑ Ð¾ Ð¿Ð¾Ð»ÑÐ·Ð¾Ð²Ð°ÑÐµÐ»Ðµ ÑÐµÑÐµÐ· VK Bridge');\r\n\r\n\t\tlet meta = document.createElement('meta');\r\n\t\tmeta.name = \"referrer\";\r\n\t\tmeta.content = \"no-referrer\";\r\n\t\tdocument.getElementsByTagName('head')[0].appendChild(meta);\r\n\r\n\t\tasync function fetchData() {\r\n\r\n\t\t\tconst user = await bridge.send('VKWebAppGetUserInfo');\r\n\t\t\tsetUser(user);\r\n\t\t\tglobal.queue.userID = user.id;\r\n\t\t\tsetPopout(null);\r\n\r\n\r\n\t\t\tconsole.log('ÐÑÐ¿ÑÐ°Ð²Ð»ÐµÐ½ Ð·Ð°Ð¿ÑÐ¾Ñ Ð½Ð° Ð¿Ð¾Ð»ÑÑÐµÐ½Ð¸Ðµ Ð¾ÑÐµÑÐµÐ´ÐµÐ¹...')\r\n\t\t\tfetch('/getQueues', {\r\n\t\t\t\tmethod: 'POST',\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Accept': 'application/json',\r\n\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t},\r\n\t\t\t\tbody: JSON.stringify({\r\n\t\t\t\t\t\"url\": window.location.search.replace('?', '')\r\n\t\t\t\t})\r\n\t\t\t}).then(function (response) {\r\n\t\t\t\treturn response.json();\r\n\t\t\t})\r\n\t\t\t\t.then(function (data) {\r\n\t\t\t\t\tqueuesSet(data);\r\n\t\t\t\t\tsetCssSpinner('turnOff');\r\n\t\t\t\t}).catch((e) => {\r\n\t\t\t\tsetSnackbar(<Snackbar\r\n\t\t\t\t\tlayout=\"vertical\"\r\n\t\t\t\t\tonClose={() => setSnackbar(null)}\r\n\t\t\t\t\tbefore={<Avatar size={24}><Icon16Clear fill=\"red\" width={14} height={14}/></Avatar>}\r\n\t\t\t\t>\r\n\t\t\t\t\tÐÑÐ¸Ð±ÐºÐ° ÑÐ¾ÐµÐ´Ð¸Ð½ÐµÐ½Ð¸Ñ! ÐÑÐ¾Ð²ÐµÑÑÑÐµ Ð¸Ð½ÑÐµÑÐ½ÐµÑ!\r\n\t\t\t\t</Snackbar>);\r\n\t\t\t})\r\n\r\n\t\t\tif(window.location.hash !== ''){\r\n\t\t\t\tglobal.queue.joinQueueCode = window.location.hash.replace('#', '').toUpperCase();\r\n\t\t\t\tif(global.queue.joinQueueCode.length === 6) {\r\n\t\t\t\t\tfetch('/getQueueToJoin', {\r\n\t\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\t'Accept': 'application/json',\r\n\t\t\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tbody: JSON.stringify({\r\n\t\t\t\t\t\t\t\"queueCODE\": global.queue.joinQueueCode,\r\n\t\t\t\t\t\t\t\"url\": window.location.search.replace('?', '')\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}).then(function (response) {\r\n\t\t\t\t\t\treturn response.json();\r\n\r\n\t\t\t\t\t})\r\n\t\t\t\t\t\t.then(function (data) {\r\n\t\t\t\t\t\t\tif (data === 'alreadyThere') {\r\n\t\t\t\t\t\t\t\tsetSnackbar(<Snackbar\r\n\t\t\t\t\t\t\t\t\tlayout=\"vertical\"\r\n\t\t\t\t\t\t\t\t\tonClose={() => setSnackbar(null)}\r\n\t\t\t\t\t\t\t\t\tbefore={<Avatar size={24} style={blueBackground}><Icon16User fill=\"#fff\" width={14}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t height={14}/></Avatar>}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tÐÑ ÑÐ¶Ðµ Ð½Ð°ÑÐ¾Ð´Ð¸ÑÐµÑÑ Ð² ÑÑÐ¾Ð¹ Ð¾ÑÐµÑÐµÐ´Ð¸!\r\n\t\t\t\t\t\t\t\t</Snackbar>);\r\n\t\t\t\t\t\t\t} else if (data === 'noQueue') {\r\n\t\t\t\t\t\t\t\tsetSnackbar(<Snackbar\r\n\t\t\t\t\t\t\t\t\tlayout=\"vertical\"\r\n\t\t\t\t\t\t\t\t\tonClose={() => setSnackbar(null)}\r\n\t\t\t\t\t\t\t\t\tbefore={<Avatar size={24}><Icon16Clear fill=\"red\" width={14} height={14}/></Avatar>}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tÐÑÐµÑÐµÐ´Ð¸ Ñ Ð²Ð²ÐµÐ´ÑÐ½Ð½ÑÐ¼ ÐºÐ¾Ð´Ð¾Ð¼ Ð¿ÑÐ¸Ð³Ð»Ð°ÑÐµÐ½Ð¸Ñ Ð½Ðµ ÑÑÑÐµÑÑÐ²ÑÐµÑ!\r\n\t\t\t\t\t\t\t\t</Snackbar>)\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tglobal.queue.name = data.name;\r\n\t\t\t\t\t\t\t\tglobal.queue.avatar = data.avatar;\r\n\t\t\t\t\t\t\t\tsetJoinQueueAvatar(data.avatar);\r\n\t\t\t\t\t\t\t\tsetJoinQueueName(data.name);\r\n\t\t\t\t\t\t\t\tsetActiveModal(MODAL_CARD_QUEUE_INVITE);\r\n\t\t\t\t\t\t\t\tif (osName !== IOS) {\r\n\t\t\t\t\t\t\t\t\twindow.history.pushState({history: \"MODAL_CARD_QUEUE_INVITE\"}, \"MODAL_CARD_QUEUE_INVITE\"); // Ð¡Ð¾Ð·Ð´Ð°ÑÐ¼ Ð½Ð¾Ð²ÑÑ Ð·Ð°Ð¿Ð¸ÑÑ Ð² Ð¸ÑÑÐ¾ÑÐ¸Ð¸ Ð±ÑÐ°ÑÐ·ÐµÑÐ°\r\n\t\t\t\t\t\t\t\t\thistory.push(\"MODAL_CARD_QUEUE_INVITE\"); // ÐÐ¾Ð±Ð°Ð²Ð»ÑÐµÐ¼ Ð¿Ð°Ð½ÐµÐ»Ñ Ð² Ð¸ÑÑÐ¾ÑÐ¸Ñ\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tconsole.log('ÐÐ°Ð¿ÑÑÑÐ¸Ð»ÑÑ Ð¸Ð½Ð²Ð°Ð¹Ñ Ð¸ Ð´Ð¾Ð±Ð°Ð²Ð¸Ð»Ð¾ÑÑ ' + history)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\t// window.location.hash = '';\r\n\t\t\t\tawait bridge.send(\"VKWebAppSetLocation\", {\"location\": \"\"});\r\n\t\t\t}\r\n\r\n\t\t\t// /* ÐÐÐÐ¢ÐÐ¦ÐÐ¯ ÐÐÐÐ£Ð§ÐÐÐÐ«Ð¥ ÐÐÐÐÐ«Ð¥ */\r\n\t\t\t// const queuesArray = [\r\n\t\t\t// \t{ id: 1, name: 'Ð¡Ð´Ð°ÑÐ° Ð»Ð°Ð±Ñ Ð¿Ð¾ Ð¿ÑÐ¾Ð³Ðµ', date: '', time: '', place: 'ÐÐ¢ÐÐ', description: 'ÐÑÐ¸ÑÐ¼ Ð² ÐºÐ°Ð±. 406', code: 'J8D1XI', avatar: 'https://firebasestorage.googleapis.com/v0/b/queuesvkminiapp.appspot.com/o/43H5.gif?alt=media&token=bc19b8ba-dc95-4bcf-8914-c7b6163d1b3b'},\r\n\t\t\t// \t{ id: 2, name: 'ÐÑÐµÑÐµÐ´Ñ Ð·Ð° ÑÐ°Ð²ÐµÑÐ¼Ð¾Ð¹', date:'14.12.2020', time: '15:10', place: 'ÐÐ°ÑÑÐº 35', description: 'ÐÑÑÑÐ°Ñ ÑÐ°Ð²ÑÑÐ° Ñ ÐÑÐ¾ÑÐ°', code: 'F67HN8', aavatar: ''},\r\n\t\t\t// \t{ id: 3, name: 'ÐÐ° ÑÐ´Ð°ÑÑ ÑÐºÐ·Ð°Ð¼ÐµÐ½Ð° Ð¿Ð¾ Ð²Ð¾Ð¶Ð´ÐµÐ½Ð¸Ñ', date: '25.08.2020', time: '16:00', place: 'Ð£Ð»Ð¸ÑÐ° ÐÐ¾ÑÑÐºÐ°Ð²Ð¾Ð³Ð¾', description: 'Ð¡ ÑÐ¾Ð±Ð¾Ð¹ Ð¸Ð¼ÐµÑÑ Ð¼Ð°ÑÐºÑ Ð¸ Ð¿ÐµÑÑÐ°ÑÐºÐ¸!', code: 'LI96C1', avatar: cowboy},\r\n\t\t\t// \t{ id: 4, name: 'Ð¡Ð´Ð°ÑÐ° Ð»Ð°Ð±Ñ Ð¿Ð¾ Ð¸Ð½ÑÐµ', date: '24.02.2021', time: '12:25', place:'ÐÐ¾ÑÐºÐ²Ð°, ÐÐ¨Ð­', description: 'ÐÐµÑÑÐºÐ¸Ð¹ Ð¿ÑÐµÐ¿Ð¾Ð´', code: 'N84J4K', avatar: ''},\r\n\t\t\t// ];\r\n\t\t\t//\r\n\t\t\t// queuesSet(queuesArray);\r\n\t\t}\r\n\r\n\t\tfetchData();\r\n\r\n\t\tbridge.subscribe(({ detail: { type, data }}) => {\r\n\t\t\tif (type === 'VKWebAppUpdateConfig') {\r\n\t\t\t\tconst schemeAttribute = document.createAttribute('scheme');\r\n\t\t\t\tschemeAttribute.value = data.scheme ? data.scheme : 'client_light';\r\n\t\t\t\tdocument.body.attributes.setNamedItem(schemeAttribute);\r\n\t\t\t\tglobal.scheme.scheme = schemeAttribute.value;\r\n\t\t\t}else if(type === 'VKWebAppViewRestore'){\r\n\t\t\t\tif(window.location.hash !== ''){\r\n\t\t\t\t\tglobal.queue.joinQueueCode = window.location.hash.replace('#', '').toUpperCase();\r\n\t\t\t\t\tif(global.queue.joinQueueCode.length === 6) {\r\n\t\t\t\t\t\tfetch('/getQueueToJoin', {\r\n\t\t\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\t\t'Accept': 'application/json',\r\n\t\t\t\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tbody: JSON.stringify({\r\n\t\t\t\t\t\t\t\t\"queueCODE\": global.queue.joinQueueCode,\r\n\t\t\t\t\t\t\t\t\"url\": window.location.search.replace('?', '')\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}).then(function (response) {\r\n\t\t\t\t\t\t\treturn response.json();\r\n\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t.then(function (data) {\r\n\t\t\t\t\t\t\t\tif (data === 'alreadyThere') {\r\n\t\t\t\t\t\t\t\t\tsetSnackbar(<Snackbar\r\n\t\t\t\t\t\t\t\t\t\tlayout=\"vertical\"\r\n\t\t\t\t\t\t\t\t\t\tonClose={() => setSnackbar(null)}\r\n\t\t\t\t\t\t\t\t\t\tbefore={<Avatar size={24} style={blueBackground}><Icon16User fill=\"#fff\" width={14}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t height={14}/></Avatar>}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\tÐÑ ÑÐ¶Ðµ Ð½Ð°ÑÐ¾Ð´Ð¸ÑÐµÑÑ Ð² ÑÑÐ¾Ð¹ Ð¾ÑÐµÑÐµÐ´Ð¸!\r\n\t\t\t\t\t\t\t\t\t</Snackbar>);\r\n\t\t\t\t\t\t\t\t} else if (data === 'noQueue') {\r\n\t\t\t\t\t\t\t\t\tsetSnackbar(<Snackbar\r\n\t\t\t\t\t\t\t\t\t\tlayout=\"vertical\"\r\n\t\t\t\t\t\t\t\t\t\tonClose={() => setSnackbar(null)}\r\n\t\t\t\t\t\t\t\t\t\tbefore={<Avatar size={24}><Icon16Clear fill=\"red\" width={14} height={14}/></Avatar>}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\tÐÑÐµÑÐµÐ´Ð¸ Ñ Ð²Ð²ÐµÐ´ÑÐ½Ð½ÑÐ¼ ÐºÐ¾Ð´Ð¾Ð¼ Ð¿ÑÐ¸Ð³Ð»Ð°ÑÐµÐ½Ð¸Ñ Ð½Ðµ ÑÑÑÐµÑÑÐ²ÑÐµÑ!\r\n\t\t\t\t\t\t\t\t\t</Snackbar>)\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tglobal.queue.name = data.name;\r\n\t\t\t\t\t\t\t\t\tglobal.queue.avatar = data.avatar;\r\n\t\t\t\t\t\t\t\t\tsetJoinQueueAvatar(data.avatar);\r\n\t\t\t\t\t\t\t\t\tsetJoinQueueName(data.name);\r\n\t\t\t\t\t\t\t\t\tsetActiveModal(MODAL_CARD_QUEUE_INVITE);\r\n\t\t\t\t\t\t\t\t\tif (osName !== IOS) {\r\n\t\t\t\t\t\t\t\t\t\twindow.history.pushState({history: \"MODAL_CARD_QUEUE_INVITE\"}, \"MODAL_CARD_QUEUE_INVITE\"); // Ð¡Ð¾Ð·Ð´Ð°ÑÐ¼ Ð½Ð¾Ð²ÑÑ Ð·Ð°Ð¿Ð¸ÑÑ Ð² Ð¸ÑÑÐ¾ÑÐ¸Ð¸ Ð±ÑÐ°ÑÐ·ÐµÑÐ°\r\n\t\t\t\t\t\t\t\t\t\thistory.push(\"MODAL_CARD_QUEUE_INVITE\"); // ÐÐ¾Ð±Ð°Ð²Ð»ÑÐµÐ¼ Ð¿Ð°Ð½ÐµÐ»Ñ Ð² Ð¸ÑÑÐ¾ÑÐ¸Ñ\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}).catch((e) => {\r\n\t\t\t\t\t\t\tsetSnackbar(<Snackbar\r\n\t\t\t\t\t\t\t\tlayout=\"vertical\"\r\n\t\t\t\t\t\t\t\tonClose={() => setSnackbar(null)}\r\n\t\t\t\t\t\t\t\tbefore={<Avatar size={24}><Icon16Clear fill=\"red\" width={14} height={14}/></Avatar>}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tÐÑÐ¸Ð±ÐºÐ° ÑÐ¾ÐµÐ´Ð¸Ð½ÐµÐ½Ð¸Ñ! ÐÑÐ¾Ð²ÐµÑÑÑÐµ Ð¸Ð½ÑÐµÑÐ½ÐµÑ!\r\n\t\t\t\t\t\t\t</Snackbar>);\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\t\t\t\tsetSnackbar(null);\r\n\t\t\t\tbridge.send(\"VKWebAppSetLocation\", {\"location\": \"\"});\r\n\t\t\t}\r\n\r\n\t\t});\r\n\r\n\t\tasync function queuesSet(queuesArray){\r\n\t\t\tsetQueues(queuesArray);\r\n\t\t}\r\n\t}, [global.scheme.beginning]);\r\n\r\n\tconst goBack = async () => {\r\n\t\tif (!time) {\r\n\t\t\tsetSnackbar(null);\r\n\t\t\tsetActiveModal(null);\r\n\t\t\tsetPopout(null);\r\n\t\t\tif (history.length === 1) {  // ÐÑÐ»Ð¸ Ð² Ð¼Ð°ÑÑÐ¸Ð²Ðµ Ð¾Ð´Ð½Ð¾ Ð·Ð½Ð°ÑÐµÐ½Ð¸Ðµ:\r\n\t\t\t\tawait bridge.send(\"VKWebAppClose\", {\"status\": \"success\"}); // ÐÑÐ¿ÑÐ°Ð²Ð»ÑÐµÐ¼ bridge Ð½Ð° Ð·Ð°ÐºÑÑÑÐ¸Ðµ ÑÐµÑÐ²Ð¸ÑÐ°.\r\n\t\t\t} else {\r\n\t\t\t\tif (history.length > 1) { // ÐÑÐ»Ð¸ Ð² Ð¼Ð°ÑÑÐ¸Ð²Ðµ Ð±Ð¾Ð»ÑÑÐµ Ð¾Ð´Ð½Ð¾Ð³Ð¾ Ð·Ð½Ð°ÑÐµÐ½Ð¸Ñ:\r\n\t\t\t\t\thistory.pop() // ÑÐ´Ð°Ð»ÑÐµÐ¼ Ð¿Ð¾ÑÐ»ÐµÐ´Ð½Ð¸Ð¹ ÑÐ»ÐµÐ¼ÐµÐ½Ñ Ð² Ð¼Ð°ÑÑÐ¸Ð²Ðµ.\r\n\t\t\t\t\tawait setTimeout(() => setActivePanel(history[history.length - 1]), 400); // ÐÐ·Ð¼ÐµÐ½ÑÐµÐ¼ Ð¼Ð°ÑÑÐ¸Ð² Ñ Ð¸ÑÐ¾ÑÐ¸ÐµÐ¹ Ð¸ Ð¼ÐµÐ½ÑÐµÐ¼ Ð°ÐºÑÐ¸Ð²Ð½ÑÑ Ð¿Ð°Ð½ÐµÐ»Ñ\r\n\t\t\t\t\twindow.scrollTo(0,0);\r\n\t\t\t\t\tawait setTime(true);\r\n\t\t\t\t\tawait setTimeout(() => {setTime(false)}, 800);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tconst go = e => {\r\n\t\tsetActivePanel(e.currentTarget.dataset.to);\r\n\t\tsetSnackbar(null); //ÐÑÐ¸ Ð¿ÐµÑÐµÑÐ¾Ð´Ðµ\r\n\t\twindow.history.pushState( {history: e.currentTarget.dataset.to}, e.currentTarget.dataset.to ); // Ð¡Ð¾Ð·Ð´Ð°ÑÐ¼ Ð½Ð¾Ð²ÑÑ Ð·Ð°Ð¿Ð¸ÑÑ Ð² Ð¸ÑÑÐ¾ÑÐ¸Ð¸  Ð±ÑÐ°ÑÐ·ÐµÑÐ°\r\n\t\thistory.push(e.currentTarget.dataset.to); // ÐÐ¾Ð±Ð°Ð²Ð»ÑÐµÐ¼ Ð¿Ð°Ð½ÐµÐ»Ñ Ð² Ð¸ÑÑÐ¾ÑÐ¸Ñ\r\n\r\n\t\tglobal.queue.counterForCalendar = 0;\r\n\t\tglobal.queue.isFirstPlace = undefined;\r\n\t\tglobal.queue.changedName = undefined;\r\n\t\tglobal.queue.changedDesc = undefined;\r\n\t\tglobal.queue.changedDate = undefined;\r\n\t\tglobal.queue.changedTime = undefined;\r\n\t\tglobal.queue.changedPlace = undefined;\r\n\t\tglobal.queue.changedPic = undefined;\r\n\t\tglobal.queue.changedPicName = undefined;\r\n\t\tglobal.queue.changedPicURL = undefined;\r\n\t\tglobal.queue.changedPioURLNew = undefined;\r\n\t\tglobal.queue.changedAvatarName = undefined;\r\n\r\n\t\t\twindow.scrollTo(0,0);\r\n\t};\r\n\r\n\tconst onStoryChange = e => {\r\n\t\twindow.scrollTo(0,0);\r\n\t\tsetSnackbar(null);\r\n\t\tsetActiveStory(e.currentTarget.dataset.story);\r\n\t};\r\n\r\n\tconst sendDataToServer = data => {\r\n\t\tif (data !== undefined && data.trim().length === 6) {\r\n\t\t\tsetJoinInputStatus('');\r\n\t\t\tsetJoinInputStatusText('');\r\n\t\t\tconsole.log('ÐÑÐ¿ÑÐ°Ð²Ð»ÐµÐ½ Ð·Ð°Ð¿ÑÐ¾Ñ Ð½Ð° Ð²ÑÐ¾Ð´ Ð² Ð¾ÑÐµÑÐµÐ´Ñ...');\r\n\r\n\t\t\t\tfetch('/joinQueue', {\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t'Accept': 'application/json',\r\n\t\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t\t},\r\n\t\t\t\t\tbody: JSON.stringify({\r\n\t\t\t\t\t\t\"serverCode\": data,\r\n\t\t\t\t\t\t\"url\": window.location.search.replace('?', '')\r\n\t\t\t\t\t})\r\n\t\t\t\t}).then(async function (response) {\r\n\t\t\t\t\t\t\tlet res = await response.json();\r\n\t\t\t\t\t\t\tif (osName !== IOS){\r\n\t\t\t\t\t\t\t\thistory.pop() // ÑÐ´Ð°Ð»ÑÐµÐ¼ Ð¿Ð¾ÑÐ»ÐµÐ´Ð½Ð¸Ð¹ ÑÐ»ÐµÐ¼ÐµÐ½Ñ Ð² Ð¼Ð°ÑÑÐ¸Ð²Ðµ.\r\n\t\t\t\t\t\t\t\t// setActivePanel( history[history.length - 1] ) // ÐÐ·Ð¼ÐµÐ½ÑÐµÐ¼ Ð¼Ð°ÑÑÐ¸Ð² Ñ Ð¸ÑÐ¾ÑÐ¸ÐµÐ¹ Ð¸ Ð¼ÐµÐ½ÑÐµÐ¼ Ð°ÐºÑÐ¸Ð²Ð½ÑÑ Ð¿Ð°Ð½ÐµÐ»Ñ.\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (res === 'noQueue') {\r\n\t\t\t\t\t\t\t\tsetActiveModal(null);\r\n\t\t\t\t\t\t\t\tsetCodeInput(undefined);\r\n\t\t\t\t\t\t\t\tsetSnackbar(<Snackbar\r\n\t\t\t\t\t\t\t\t\tlayout=\"vertical\"\r\n\t\t\t\t\t\t\t\t\tonClose={() => setSnackbar(null)}\r\n\t\t\t\t\t\t\t\t\tbefore={<Avatar size={24}><Icon16Clear fill=\"red\" width={14} height={14}/></Avatar>}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tÐÑÐµÑÐµÐ´Ð¸ Ñ Ð²Ð²ÐµÐ´ÑÐ½Ð½ÑÐ¼ ÐºÐ¾Ð´Ð¾Ð¼ Ð½Ðµ ÑÑÑÐµÑÑÐ²ÑÐµÑ!\r\n\t\t\t\t\t\t\t\t</Snackbar>)\r\n\t\t\t\t\t\t\t} else if (res === 'alreadyThere') {\r\n\t\t\t\t\t\t\t\tsetActiveModal(null);\r\n\t\t\t\t\t\t\t\tsetCodeInput(undefined);\r\n\t\t\t\t\t\t\t\tsetSnackbar(<Snackbar\r\n\t\t\t\t\t\t\t\t\tlayout=\"vertical\"\r\n\t\t\t\t\t\t\t\t\tonClose={() => setSnackbar(null)}\r\n\t\t\t\t\t\t\t\t\tbefore={<Avatar size={24} style={blueBackground}><Icon16User fill=\"#fff\" width={14} height={14}/></Avatar>}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tÐÑ ÑÐ¶Ðµ Ð½Ð°ÑÐ¾Ð´Ð¸ÑÐµÑÑ Ð² ÑÑÐ¾Ð¹ Ð¾ÑÐµÑÐµÐ´Ð¸!\r\n\t\t\t\t\t\t\t\t</Snackbar>)\r\n\t\t\t\t\t\t\t} else if (res === 'success') {\r\n\t\t\t\t\t\t\t\tsetActiveModal(null);\r\n\t\t\t\t\t\t\t\tsetCodeInput(undefined);\r\n\t\t\t\t\t\t\t\tsetSnackbar(<Snackbar\r\n\t\t\t\t\t\t\t\t\tlayout=\"vertical\"\r\n\t\t\t\t\t\t\t\t\tonClose={() => setSnackbar(null)}\r\n\t\t\t\t\t\t\t\t\tbefore={<Avatar size={24} style={blueBackground}><Icon16CheckCircle fill=\"#fff\" width={14} height={14}/></Avatar>}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tÐÑ ÑÑÐ¿ÐµÑÐ½Ð¾ Ð¿ÑÐ¸ÑÐ¾ÐµÐ´Ð¸Ð½Ð¸Ð»Ð¸ÑÑ Ðº Ð¾ÑÐµÑÐµÐ´Ð¸!\r\n\t\t\t\t\t\t\t\t</Snackbar>)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t}).then(async function (res) {\r\n\t\t\t\t\tfetch('/getQueues', {\r\n\t\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\t'Accept': 'application/json',\r\n\t\t\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tbody: JSON.stringify({\r\n\t\t\t\t\t\t\t\"url\": window.location.search.replace('?', '')\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}).then(function (response) {\r\n\t\t\t\t\t\treturn response.json();\r\n\r\n\t\t\t\t\t})\r\n\t\t\t\t\t\t.then(function (data) {\r\n\t\t\t\t\t\t\tsetQueues(data);\r\n\t\t\t\t\t\t})\r\n\t\t\t\t}).catch((e) => {\r\n\t\t\t\t\tsetSnackbar(<Snackbar\r\n\t\t\t\t\t\tlayout=\"vertical\"\r\n\t\t\t\t\t\tonClose={() => setSnackbar(null)}\r\n\t\t\t\t\t\tbefore={<Avatar size={24}><Icon16Clear fill=\"red\" width={14} height={14}/></Avatar>}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tÐÑÐ¸Ð±ÐºÐ° ÑÐ¾ÐµÐ´Ð¸Ð½ÐµÐ½Ð¸Ñ! ÐÑÐ¾Ð²ÐµÑÑÑÐµ Ð¸Ð½ÑÐµÑÐ½ÐµÑ!\r\n\t\t\t\t\t</Snackbar>);\r\n\t\t\t\t})\r\n\r\n\t\t\t}else{\r\n\t\t\tsetJoinInputStatus('error');\r\n\t\t\tsetJoinInputStatusText('ÐÐ¾Ð»Ð¶Ð½Ð¾ Ð±ÑÑÑ 6 ÑÐ¸Ð¼Ð²Ð¾Ð»Ð¾Ð²!')\r\n\t\t}\r\n\t}\r\n\r\n\tconst updateQueues = data => {\r\n\t\tconsole.log('ÐÑÐ¿ÑÐ°Ð²Ð»ÐµÐ½ Ð·Ð°Ð¿ÑÐ¾Ñ Ð½Ð° Ð¿Ð¾Ð»ÑÑÐµÐ½Ð¸Ðµ Ð¾ÑÐµÑÐµÐ´ÐµÐ¹...')\r\n\t\tfetch('/getQueues', {\r\n\t\t\tmethod: 'POST',\r\n\t\t\theaders: {\r\n\t\t\t\t'Accept': 'application/json',\r\n\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t},\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\t\"url\": window.location.search.replace('?', '')\r\n\t\t\t})\r\n\t\t}).then(function (response) {\r\n\t\t\treturn response.json();\r\n\r\n\t\t})\r\n\t\t\t.then(function (data) {\r\n\t\t\t\tsetQueues(data);\r\n\t\t\t}).catch((e) => {\r\n\t\t\tsetSnackbar(<Snackbar\r\n\t\t\t\tlayout=\"vertical\"\r\n\t\t\t\tonClose={() => setSnackbar(null)}\r\n\t\t\t\tbefore={<Avatar size={24}><Icon16Clear fill=\"red\" width={14} height={14}/></Avatar>}\r\n\t\t\t>\r\n\t\t\t\tÐÑÐ¸Ð±ÐºÐ° ÑÐ¾ÐµÐ´Ð¸Ð½ÐµÐ½Ð¸Ñ! ÐÑÐ¾Ð²ÐµÑÑÑÐµ Ð¸Ð½ÑÐµÑÐ½ÐµÑ!\r\n\t\t\t</Snackbar>);\r\n\t\t})\r\n\t}\r\n\r\n\tconst blueBackground = {\r\n\t\tbackgroundColor: 'var(--accent)'\r\n\t};\r\n\r\n\tconst modal = (\r\n\t\t<ModalRoot activeModal={activeModal}>\r\n\t\t\t<ModalCard\r\n\t\t\t\tid={MODAL_CARD_FOR_MESSAGE}\r\n\t\t\t\tonClose={() => {\r\n\t\t\t\t\tsetActiveModal(null)\r\n\t\t\t\t\tsetMessageToAll('')\r\n\t\t\t\t\tif (osName !== IOS) {\r\n\t\t\t\t\t\thistory.pop() // ÑÐ´Ð°Ð»ÑÐµÐ¼ Ð¿Ð¾ÑÐ»ÐµÐ´Ð½Ð¸Ð¹ ÑÐ»ÐµÐ¼ÐµÐ½Ñ Ð² Ð¼Ð°ÑÑÐ¸Ð²Ðµ.\r\n\t\t\t\t\t}\r\n\t\t\t\t\tsetJoinInputStatus('');\r\n\t\t\t\t\tsetJoinInputStatusText('');\r\n\t\t\t\t}}\r\n\t\t\t\theader=\"ÐÐ²ÐµÐ´Ð¸ÑÐµ ÑÐµÐºÑÑ ÑÐ¾Ð¾Ð±ÑÐµÐ½Ð¸Ñ\"\r\n\t\t\t\tactions={[\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle: 'ÐÑÐ¿ÑÐ°Ð²Ð¸ÑÑ',\r\n\t\t\t\t\t\tmode: 'primary',\r\n\t\t\t\t\t\taction: () => {\r\n\t\t\t\t\t\t\tif (messageToAll !== '') {\r\n\t\t\t\t\t\t\t\tfetch('/sendMessageToAll', {\r\n\t\t\t\t\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\t\t\t\t'Accept': 'application/json',\r\n\t\t\t\t\t\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tbody: JSON.stringify({\r\n\t\t\t\t\t\t\t\t\t\t\"queueCODE\": global.queue.codeForMsg,\r\n\t\t\t\t\t\t\t\t\t\t\"message\": messageToAll,\r\n\t\t\t\t\t\t\t\t\t\t\"url\": window.location.search.replace('?', '')\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\tsetActiveModal(null);\r\n\t\t\t\t\t\t\t\tsetMessageToAll('')\r\n\t\t\t\t\t\t\t\tsetJoinInputStatus('');\r\n\t\t\t\t\t\t\t\tsetJoinInputStatusText('');\r\n\r\n\t\t\t\t\t\t\t\tsetSnackbar(<Snackbar\r\n\t\t\t\t\t\t\t\t\tlayout=\"vertical\"\r\n\t\t\t\t\t\t\t\t\tonClose={() => setSnackbar(null)}\r\n\t\t\t\t\t\t\t\t\tbefore={<Avatar size={24} style={blueBackground}><Icon16CheckCircle fill=\"#fff\" width={14} height={14}/></Avatar>}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tÐÑÐ¿ÑÐ°Ð²Ð»ÐµÐ½Ð¾!\r\n\t\t\t\t\t\t\t\t</Snackbar>);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tsetJoinInputStatusText('ÐÐ²ÐµÐ´Ð¸ÑÐµ ÑÑÐ¾-Ð½Ð¸Ð±ÑÐ´Ñ!');\r\n\t\t\t\t\t\t\t\tsetJoinInputStatus('error');\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t]}\r\n\t\t\t\tactionsLayout=\"vertical\"\r\n\t\t\t>\r\n\t\t\t\t<FormLayout>\r\n\t\t\t\t<Textarea bottom={joinInputStatusText} status={joinInputStatus} placeholder=\"Ð¢ÐµÐºÑÑ ÑÐ¾Ð¾Ð±ÑÐµÐ½Ð¸Ñ...\" value={messageToAll} onChange={(e) =>{\r\n\t\t\t\t\tsetMessageToAll(e.target.value)\r\n\t\t\t\t\tif(e.target.value.length === 0){\r\n\t\t\t\t\t\tsetJoinInputStatusText('ÐÐ²ÐµÐ´Ð¸ÑÐµ ÑÑÐ¾-Ð½Ð¸Ð±ÑÐ´Ñ!');\r\n\t\t\t\t\t\tsetJoinInputStatus('error');\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tsetJoinInputStatusText('');\r\n\t\t\t\t\t\tsetJoinInputStatus('');\r\n\t\t\t\t\t}\r\n\t\t\t\t}}/>\r\n\t\t\t</FormLayout>\r\n\r\n\t\t\t</ModalCard>\r\n\t\t\t<ModalCard\r\n\t\t\t\tid={MODAL_CARD_QUEUE_INVITE}\r\n\t\t\t\tonClose={() => {\r\n\t\t\t\t\tsetActiveModal(null)\r\n\t\t\t\t\tif (osName !== IOS) {\r\n\t\t\t\t\t\thistory.pop() // ÑÐ´Ð°Ð»ÑÐµÐ¼ Ð¿Ð¾ÑÐ»ÐµÐ´Ð½Ð¸Ð¹ ÑÐ»ÐµÐ¼ÐµÐ½Ñ Ð² Ð¼Ð°ÑÑÐ¸Ð²Ðµ.\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// history.pop() // ÑÐ´Ð°Ð»ÑÐµÐ¼ Ð¿Ð¾ÑÐ»ÐµÐ´Ð½Ð¸Ð¹ ÑÐ»ÐµÐ¼ÐµÐ½Ñ Ð² Ð¼Ð°ÑÑÐ¸Ð²Ðµ.\r\n\t\t\t\t\t// setActivePanel( history[history.length - 1] ) // ÐÐ·Ð¼ÐµÐ½ÑÐµÐ¼ Ð¼Ð°ÑÑÐ¸Ð² Ñ Ð¸ÑÐ¾ÑÐ¸ÐµÐ¹ Ð¸ Ð¼ÐµÐ½ÑÐµÐ¼ Ð°ÐºÑÐ¸Ð²Ð½ÑÑ Ð¿Ð°Ð½ÐµÐ»Ñ.\r\n\t\t\t\t}}\r\n\t\t\t\ticon={<Avatar src={joinQueueAvatar} size={72} />}\r\n\t\t\t\theader={joinQueueName}\r\n\t\t\t\tcaption=\"ÐÑÐ¸Ð³Ð»Ð°ÑÐµÐ½Ð¸Ðµ Ð² Ð¾ÑÐµÑÐµÐ´Ñ\"\r\n\t\t\t\tactions={[{\r\n\t\t\t\t\ttitle: 'ÐÑÐ¸ÑÐ¾ÐµÐ´Ð¸Ð½Ð¸ÑÑÑÑ',\r\n\t\t\t\t\tmode: 'primary',\r\n\t\t\t\t\taction: () => {\r\n\t\t\t\t\t\t// if (osName !== IOS) {\r\n\t\t\t\t\t\t// \thistory.pop() // ÑÐ´Ð°Ð»ÑÐµÐ¼ Ð¿Ð¾ÑÐ»ÐµÐ´Ð½Ð¸Ð¹ ÑÐ»ÐµÐ¼ÐµÐ½Ñ Ð² Ð¼Ð°ÑÑÐ¸Ð²Ðµ.\r\n\t\t\t\t\t\t// }\r\n\t\t\t\t\t\tsendDataToServer(global.queue.joinQueueCode);\r\n\t\t\t\t\t\tsetActiveModal(null);\r\n\t\t\t\t\t}\r\n\t\t\t\t}]}\r\n\t\t\t\tactionsLayout=\"vertical\"\r\n\t\t\t>\r\n\t\t\t</ModalCard>\r\n\r\n\r\n\t\t\t<ModalCard\r\n\t\t\t\tclassName={'numberInputModal'}\r\n\t\t\t\tid={MODAL_CARD_ABOUT}\r\n\t\t\t\tonClose={() => {\r\n\t\t\t\t\tsetActiveModal(null)\r\n\t\t\t\t\tsetJoinInputStatus('');\r\n\t\t\t\t\tsetJoinInputStatusText('');\r\n\t\t\t\t\tif (osName !== IOS) {\r\n\t\t\t\t\t\thistory.pop() // ÑÐ´Ð°Ð»ÑÐµÐ¼ Ð¿Ð¾ÑÐ»ÐµÐ´Ð½Ð¸Ð¹ ÑÐ»ÐµÐ¼ÐµÐ½Ñ Ð² Ð¼Ð°ÑÑÐ¸Ð²Ðµ.\r\n\t\t\t\t\t\tsetActivePanel(history[history.length - 1]) // ÐÐ·Ð¼ÐµÐ½ÑÐµÐ¼ Ð¼Ð°ÑÑÐ¸Ð² Ñ Ð¸ÑÐ¾ÑÐ¸ÐµÐ¹ Ð¸ Ð¼ÐµÐ½ÑÐµÐ¼ Ð°ÐºÑÐ¸Ð²Ð½ÑÑ Ð¿Ð°Ð½ÐµÐ»Ñ.\r\n\t\t\t\t\t}\r\n\t\t\t\t\tsetCodeInput(undefined)\r\n\t\t\t\t}}\r\n\t\t\t\theader=\"ÐÐ²ÐµÐ´Ð¸ÑÐµ ÐºÐ¾Ð´ Ð¾ÑÐµÑÐµÐ´Ð¸\"\r\n\t\t\t\tactions={[\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle: 'ÐÑÐ¸ÑÐ¾ÐµÐ´Ð¸Ð½Ð¸ÑÑÑÑ',\r\n\t\t\t\t\t\tmode: 'primary',\r\n\t\t\t\t\t\taction: () => {\r\n\t\t\t\t\t\t\tif(codeInput !== undefined) {\r\n\t\t\t\t\t\t\t\tsendDataToServer(codeInput.toUpperCase());\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\tsetJoinInputStatus('error');\r\n\t\t\t\t\t\t\t\tsetJoinInputStatusText('ÐÐ²ÐµÐ´Ð¸ÑÐµ ÐºÐ¾Ð´')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t]}\r\n\t\t\t>\r\n\t\t\t\t<FormLayout className={'inputJoin'}>\r\n\t\t\t\t\t\t<Input id='input' bottom={joinInputStatusText} status={joinInputStatus} className={'inputJoin'} autoFocus={false} type={'text'}\r\n\t\t\t\t\t\t\t   minlength={6} maxlength={6} value={codeInput} onChange={(e) =>{\r\n\r\n\t\t\t\t\t\t\t   \tsetCodeInput(e.target.value.substring(0, 6))\r\n\t\t\t\t\t\t\t\tif(e.target.value.length === 6){\r\n\t\t\t\t\t\t\t\t\tsetJoinInputStatusText('');\r\n\t\t\t\t\t\t\t\t\tsetJoinInputStatus('valid');\r\n\t\t\t\t\t\t\t\t\t// history.pop() // ÑÐ´Ð°Ð»ÑÐµÐ¼ Ð¿Ð¾ÑÐ»ÐµÐ´Ð½Ð¸Ð¹ ÑÐ»ÐµÐ¼ÐµÐ½Ñ Ð² Ð¼Ð°ÑÑÐ¸Ð²Ðµ.\r\n\t\t\t\t\t\t\t\t\t// setActivePanel( history[history.length - 1] ) // ÐÐ·Ð¼ÐµÐ½ÑÐµÐ¼ Ð¼Ð°ÑÑÐ¸Ð² Ñ Ð¸ÑÐ¾ÑÐ¸ÐµÐ¹ Ð¸ Ð¼ÐµÐ½ÑÐµÐ¼ Ð°ÐºÑÐ¸Ð²Ð½ÑÑ Ð¿Ð°Ð½ÐµÐ»Ñ.\r\n\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\tsetJoinInputStatusText('ÐÐ¾Ð»Ð¶Ð½Ð¾ Ð±ÑÑÑ 6 ÑÐ¸Ð¼Ð²Ð¾Ð»Ð¾Ð²!');\r\n\t\t\t\t\t\t\t\t\tsetJoinInputStatus('error');\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}}/>\r\n\t\t\t\t</FormLayout>\r\n\t\t\t</ModalCard>\r\n\r\n\t\t\t<ModalCard\r\n\t\t\t\tid={MODAL_CARD_CHAT_INVITE}\r\n\t\t\t\tonClose={() => {\r\n\t\t\t\t\tsetActiveModal(null)\r\n\t\t\t\t\tsetCopyButtonTitle('Ð¡ÐºÐ¾Ð¿Ð¸ÑÐ¾Ð²Ð°ÑÑ ÐºÐ¾Ð´')\r\n\t\t\t\t\tif (osName !== IOS) {\r\n\t\t\t\t\t\thistory.pop() // ÑÐ´Ð°Ð»ÑÐµÐ¼ Ð¿Ð¾ÑÐ»ÐµÐ´Ð½Ð¸Ð¹ ÑÐ»ÐµÐ¼ÐµÐ½Ñ Ð² Ð¼Ð°ÑÑÐ¸Ð²Ðµ.\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// history.pop() // ÑÐ´Ð°Ð»ÑÐµÐ¼ Ð¿Ð¾ÑÐ»ÐµÐ´Ð½Ð¸Ð¹ ÑÐ»ÐµÐ¼ÐµÐ½Ñ Ð² Ð¼Ð°ÑÑÐ¸Ð²Ðµ.\r\n\t\t\t\t\t// setActivePanel( history[history.length - 1] ) // ÐÐ·Ð¼ÐµÐ½ÑÐµÐ¼ Ð¼Ð°ÑÑÐ¸Ð² Ñ Ð¸ÑÐ¾ÑÐ¸ÐµÐ¹ Ð¸ Ð¼ÐµÐ½ÑÐµÐ¼ Ð°ÐºÑÐ¸Ð²Ð½ÑÑ Ð¿Ð°Ð½ÐµÐ»Ñ.\r\n\t\t\t\t}}\r\n\t\t\t\ticon={<span role=\"img\" aria-label=\"ÐÐ¾ÑÐ¾Ð²Ð¾!\" className={'emoji'}>&#128588;</span>}\r\n\t\t\t\theader=\"ÐÑÐµÑÐµÐ´Ñ ÑÐ¾Ð·Ð´Ð°Ð½Ð°!\"\r\n\t\t\t\tcaption=\"ÐÐµÑÐµÐ¹Ð´Ð¸ÑÐµ Ð½Ð° ÑÑÑÐ°Ð½Ð¸ÑÑ Ñ Ð¾ÑÐµÑÐµÐ´ÑÐ¼Ð¸, ÑÑÐ¾Ð±Ñ ÑÐ²Ð¸Ð´ÐµÑÑ ÐµÑ!\"\r\n\t\t\t\tactions={[{\r\n\t\t\t\t\ttitle: 'ÐÐ° ÑÑÑÐ°Ð½Ð¸ÑÑ Ñ Ð¾ÑÐµÑÐµÐ´ÑÐ¼Ð¸',\r\n\t\t\t\t\tmode: 'primary',\r\n\t\t\t\t\taction: () => {\r\n\t\t\t\t\t\t// history.pop() // ÑÐ´Ð°Ð»ÑÐµÐ¼ Ð¿Ð¾ÑÐ»ÐµÐ´Ð½Ð¸Ð¹ ÑÐ»ÐµÐ¼ÐµÐ½Ñ Ð² Ð¼Ð°ÑÑÐ¸Ð²Ðµ.\r\n\t\t\t\t\t\t// setActivePanel( history[history.length - 1] ) // ÐÐ·Ð¼ÐµÐ½ÑÐµÐ¼ Ð¼Ð°ÑÑÐ¸Ð² Ñ Ð¸ÑÐ¾ÑÐ¸ÐµÐ¹ Ð¸ Ð¼ÐµÐ½ÑÐµÐ¼ Ð°ÐºÑÐ¸Ð²Ð½ÑÑ Ð¿Ð°Ð½ÐµÐ»Ñ.\r\n\t\t\t\t\t\t// window.history.pushState( {panel: \"home\"}, \"home\" ); // Ð¡Ð¾Ð·Ð´Ð°ÑÐ¼ Ð½Ð¾Ð²ÑÑ Ð·Ð°Ð¿Ð¸ÑÑ Ð² Ð¸ÑÑÐ¾ÑÐ¸Ð¸ Ð±ÑÐ°ÑÐ·ÐµÑÐ°\r\n\t\t\t\t\t\t// history.push(\"home\"); // ÐÐ¾Ð±Ð°Ð²Ð»ÑÐµÐ¼ Ð¿Ð°Ð½ÐµÐ»Ñ Ð² Ð¸ÑÑÐ¾ÑÐ¸Ñ\r\n\t\t\t\t\t\tif (osName !== IOS) {\r\n\t\t\t\t\t\t\thistory.pop() // ÑÐ´Ð°Ð»ÑÐµÐ¼ Ð¿Ð¾ÑÐ»ÐµÐ´Ð½Ð¸Ð¹ ÑÐ»ÐµÐ¼ÐµÐ½Ñ Ð² Ð¼Ð°ÑÑÐ¸Ð²Ðµ.\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tsetPopout(null);\r\n\t\t\t\t\t\tsetActiveModal(null);\r\n\t\t\t\t\t\tsetActiveStory('main');\r\n\t\t\t\t\t\tsetActivePanel('home');\r\n\t\t\t\t\t\tsetCopyButtonTitle('Ð¡ÐºÐ¾Ð¿Ð¸ÑÐ¾Ð²Ð°ÑÑ ÐºÐ¾Ð´');\r\n\t\t\t\t\t}}, {\r\n\t\t\t\t\ttitle: 'ÐÑÐ¸Ð³Ð»Ð°ÑÐ¸ÑÑ Ð´ÑÑÐ·ÐµÐ¹',\r\n\t\t\t\t\tmode: 'secondary',\r\n\t\t\t\t\taction: () => {\r\n\t\t\t\t\t\tbridge.send(\"VKWebAppShare\", {\"link\": `https://vk.com/app7551421_199833891#${queueCODE}`});\r\n\t\t\t\t\t}\r\n\t\t\t\t}, {\r\n\t\t\t\t\ttitle: copyButtonTitle,\r\n\t\t\t\t\tmode: 'secondary',\r\n\t\t\t\t\taction: async () => {\r\n\t\t\t\t\t\t// copyToClipboard(queueCODE);\r\n\t\t\t\t\t\tawait bridge.send(\"VKWebAppCopyText\", {\"text\": queueCODE});\r\n\t\t\t\t\t\tsetCopyButtonTitle('Ð¡ÐºÐ¾Ð¿Ð¸ÑÐ¾Ð²Ð°Ð½Ð¾!')\r\n\t\t\t\t\t}\r\n\t\t\t\t\t}]}\r\n\t\t\t\tactionsLayout=\"vertical\"\r\n\t\t\t>\r\n\t\t\t</ModalCard>\r\n\t\t</ModalRoot>\r\n\t);\r\n\tconst allowNotifications = async () => {\r\n\t\tawait bridge.send(\"VKWebAppAllowMessagesFromGroup\", {\"group_id\": 198211683});\r\n\t}\r\n\r\n\tconst skip = async () => {\r\n\t\tglobal.queue.beginning = true\r\n\t\tsetTabbarCSS('createQueuePanel');\r\n\t\tsetActiveStory('main');\r\n\t\tsetActivePanel('home')\r\n\t\tawait bridge.send(\"VKWebAppStorageSet\", {\"key\": \"firstInstruction\", \"value\": \"true\"});\r\n\t}\r\n\r\n\treturn (\r\n\t\t<ConfigProvider>\r\n\t\t<Epic activeStory={activeStory} tabbar={\r\n\t\t\t<Tabbar className={tabbarCSS}>\r\n\t\t\t\t<TabbarItem\r\n\t\t\t\t\tonClick={onStoryChange}\r\n\t\t\t\t\tselected={activeStory === 'main'}\r\n\t\t\t\t\tdata-story=\"main\"\r\n\t\t\t\t\tdata-to='home'\r\n\t\t\t\t\ttext=\"ÐÑÐµÑÐµÐ´Ð¸\"\r\n\t\t\t\t><ListOutline28/></TabbarItem>\r\n\t\t\t\t<TabbarItem\r\n\t\t\t\t\tonClick={onStoryChange}\r\n\t\t\t\t\tselected={activeStory === 'createQueue'}\r\n\t\t\t\t\tdata-story=\"createQueue\"\r\n\t\t\t\t\tdata-to=\"createQueuePanel\"\r\n\t\t\t\t\ttext=\"Ð¡Ð¾Ð·Ð´Ð°ÑÑ Ð¾ÑÐµÑÐµÐ´Ñ\"\r\n\t\t\t\t><AddSquareOutline28/></TabbarItem>\r\n\t\t\t\t<TabbarItem\r\n\t\t\t\t\tonClick={onStoryChange}\r\n\t\t\t\t\tselected={activeStory === 'settings'}\r\n\t\t\t\t\tdata-story=\"settings\"\r\n\t\t\t\t\t// label=\"12\" - Ð¡ÐºÐ¾Ð»ÑÐºÐ¾ ÑÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ð¹. ÐÐ¾Ð¶ÐµÑ Ð±ÑÑÑ Ð¿Ð¾ÑÐ¾Ð¼ Ð¿ÑÐ¸Ð³Ð¾Ð´Ð¸ÑÑÑ\r\n\t\t\t\t\ttext=\"ÐÐ°ÑÑÑÐ¾Ð¹ÐºÐ¸\"\r\n\t\t\t\t><Icon28SettingsOutline/></TabbarItem>\r\n\r\n\t\t\t</Tabbar>\r\n\t\t}>\r\n\r\n\t\t\t<View id={'main'} activePanel={activePanel} popout={popout} modal={modal} history={history}>\r\n\t\t\t\t<Home id='home' cssSpinner={cssSpinner} history={history} setCssSpinner={setCssSpinner} snackbar={snackbar} setSnackbar={setSnackbar} setJoinQueueAvatar={setJoinQueueAvatar} setJoinQueueName={setJoinQueueName} queues={queues} fetchedUser={fetchedUser} go={go} setActiveModal={setActiveModal} setActiveStory={setActiveStory} setQueues={setQueues}/>\r\n\t\t\t\t<AboutQueue id='aboutQueue' snackbar={snackbar} history={history} setHistory={setHistory} setSnackbar={setSnackbar} setActiveStory={setActiveStory} fetchedUser={fetchedUser} go={go} queues={queues} setActivePanel={setActivePanel} setActiveModal={setActiveModal} setPopout={setPopout} setQueues={setQueues}/>\r\n\t\t\t\t<ChangeQueue id='changeQueue' setPopout={setPopout} history={history} setSnackbar={setSnackbar} snackbar={snackbar} fetchedUser={fetchedUser} go={go} setActivePanel={setActivePanel} setQueues={setQueues}/>\r\n\t\t\t</View>\r\n\r\n\t\t\t<View id={'instructionsView'} activePanel={activePanel}>\r\n\t\t\t\t<Instruction id={'instruction'} setActivePanel={setActivePanel} skip={skip} setTabbarCSS={setTabbarCSS}/>\r\n\t\t\t\t<Instruction2 id={'instruction2'} setActivePanel={setActivePanel} skip={skip}/>\r\n\t\t\t\t<Instruction3 id={'instruction3'} setActivePanel={setActivePanel} skip={skip}/>\r\n\t\t\t\t<Instruction4 id={'instruction4'} setActivePanel={setActivePanel} skip={skip}/>\r\n\t\t\t\t<Instruction5 id={'instruction5'} setActivePanel={setActivePanel} skip={skip}/>\r\n\t\t\t\t<Instruction6 id={'instruction6'} setActivePanel={setActivePanel} setActiveStory={setActiveStory} skip={skip} allowNotifications={allowNotifications}/>\r\n\t\t\t</View>\r\n\r\n\t\t\t<View id={'createQueue'} activePanel={'CreateQueue'} popout={popout} modal={modal} history={history}>\r\n\t\t\t\t<CreateQueue id={'CreateQueue'} setCSSForCreateQueue={setCSSForCreateQueue} history={history} setSnackbar={setSnackbar} setPopout={setPopout} snackbar={snackbar} go={go} setActiveModal={setActiveModal} fetchedUser={fetchedUser} setQueueCODE={setQueueCODE}/>\r\n\t\t\t</View>\r\n\r\n\t\t\t<View id={'settings'} activePanel={'Settings'} popout={popout} modal={modal}>\r\n\t\t\t\t<Settings id={'Settings'} go={go} fetchedUser={fetchedUser} setSnackbar={setSnackbar} snackbar={snackbar}/>\r\n\t\t\t</View>\r\n\t\t</Epic>\r\n\t\t</ConfigProvider>\r\n\t);\r\n}\r\n\r\nexport default App;\r\n","import React, {useEffect, useState} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport QueueCell from \"../QueueCell\";\r\nimport Icon56UsersOutline from '@vkontakte/icons/dist/56/users_outline';\r\nimport {\r\n\tPlaceholder,\r\n\tList,\r\n\tDiv,\r\n\tGroup,\r\n\tPanelHeader,\r\n\tPanel,\r\n\tButton,\r\n\tSnackbar,\r\n\tAvatar,\r\n\tSpinner,\r\n\tSeparator, IOS, platform, FixedLayout, PromoBanner\r\n} from \"@vkontakte/vkui\";\r\nimport ListAddOutline28 from '@vkontakte/icons/dist/28/list_add_outline'\r\nimport Icon16Clear from '@vkontakte/icons/dist/16/clear';\r\nimport bridge from \"@vkontakte/vk-bridge\";\r\n\r\nconst MODAL_CARD_ABOUT = 'say-about';\r\nconst osName = platform();\r\n\r\nlet homePanelCounter = 0;\r\n\r\nconst Home = ({ id, cssSpinner, history, setCssSpinner, snackbar, setSnackbar, setJoinQueueAvatar, setJoinQueueName, go, fetchedUser, queues, setActiveStory, setQueues, setActiveModal}) => {\r\n\r\n\tconst [banner, setBanner] = useState(undefined);\r\n\r\n\tuseEffect(() => {\r\n\t\tglobal.queue.userID = fetchedUser.id;\r\n\r\n\t\tif (homePanelCounter !== 0) {\r\n\t\t\tsetCssSpinner('defaultSpinner');\r\n\t\t\tconsole.log('ÐÑÐ¿ÑÐ°Ð²Ð»ÐµÐ½ Ð·Ð°Ð¿ÑÐ¾Ñ Ð½Ð° Ð¿Ð¾Ð»ÑÑÐµÐ½Ð¸Ðµ Ð¾ÑÐµÑÐµÐ´ÐµÐ¹...')\r\n\r\n\t\t\tfetch('/getQueues', {\r\n\t\t\t\tmethod: 'POST',\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Accept': 'application/json',\r\n\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t},\r\n\t\t\t\tbody: JSON.stringify({\r\n\t\t\t\t\t\"url\": window.location.search.replace('?', '')\r\n\t\t\t\t})\r\n\t\t\t}).then(function (response) {\r\n\t\t\t\treturn response.json();\r\n\t\t\t})\r\n\t\t\t\t.then(function (data) {\r\n\t\t\t\t\tqueuesSet(data);\r\n\t\t\t\t\tsetCssSpinner('turnOff');\r\n\t\t\t\t}).catch((e) => {\r\n\t\t\t\tsetSnackbar(<Snackbar\r\n\t\t\t\t\tlayout=\"vertical\"\r\n\t\t\t\t\tonClose={() => setSnackbar(null)}\r\n\t\t\t\t\tbefore={<Avatar size={24}><Icon16Clear fill=\"red\" width={14} height={14}/></Avatar>}\r\n\t\t\t\t>\r\n\t\t\t\t\tÐÑÐ¸Ð±ÐºÐ° ÑÐ¾ÐµÐ´Ð¸Ð½ÐµÐ½Ð¸Ñ! ÐÑÐ¾Ð²ÐµÑÑÑÐµ Ð¸Ð½ÑÐµÑÐ½ÐµÑ!\r\n\t\t\t\t</Snackbar>);\r\n\t\t\t})\r\n\r\n\t\t}\r\n\t\thomePanelCounter++;\r\n\t\t// /* ÐÐÐÐ¢ÐÐ¦ÐÐ¯ ÐÐÐÐ£Ð§ÐÐÐÐ«Ð¥ ÐÐÐÐÐ«Ð¥ */\r\n\t\t// const queuesArray = [\r\n\t\t// \t{ id: 1, name: 'Ð¡Ð´Ð°ÑÐ° Ð»Ð°Ð±Ñ Ð¿Ð¾ Ð¿ÑÐ¾Ð³Ðµ', date: '', time: '', place: 'ÐÐ¢ÐÐ', description: 'ÐÑÐ¸ÑÐ¼ Ð² ÐºÐ°Ð±. 406', code: 'J8D1XI', avatar: 'https://firebasestorage.googleapis.com/v0/b/queuesvkminiapp.appspot.com/o/43H5.gif?alt=media&token=bc19b8ba-dc95-4bcf-8914-c7b6163d1b3b'},\r\n\t\t// \t{ id: 2, name: 'ÐÑÐµÑÐµÐ´Ñ Ð·Ð° ÑÐ°Ð²ÐµÑÐ¼Ð¾Ð¹', date:'14.12.2020', time: '15:10', place: 'ÐÐ°ÑÑÐº 35', description: 'ÐÑÑÑÐ°Ñ ÑÐ°Ð²ÑÑÐ° Ñ ÐÑÐ¾ÑÐ°', code: 'F67HN8', aavatar: ''},\r\n\t\t// \t{ id: 3, name: 'ÐÐ° ÑÐ´Ð°ÑÑ ÑÐºÐ·Ð°Ð¼ÐµÐ½Ð° Ð¿Ð¾ Ð²Ð¾Ð¶Ð´ÐµÐ½Ð¸Ñ', date: '25.08.2020', time: '16:00', place: 'Ð£Ð»Ð¸ÑÐ° ÐÐ¾ÑÑÐºÐ°Ð²Ð¾Ð³Ð¾', description: 'Ð¡ ÑÐ¾Ð±Ð¾Ð¹ Ð¸Ð¼ÐµÑÑ Ð¼Ð°ÑÐºÑ Ð¸ Ð¿ÐµÑÑÐ°ÑÐºÐ¸!', code: 'LI96C1', avatar: cowboy},\r\n\t\t// \t{ id: 4, name: 'Ð¡Ð´Ð°ÑÐ° Ð»Ð°Ð±Ñ Ð¿Ð¾ Ð¸Ð½ÑÐµ', date: '24.02.2021', time: '12:25', place:'ÐÐ¾ÑÐºÐ²Ð°, ÐÐ¨Ð­', description: 'ÐÐµÑÑÐºÐ¸Ð¹ Ð¿ÑÐµÐ¿Ð¾Ð´', code: 'N84J4K', avatar: ''},\r\n\t\t// ];\r\n\t\t//\r\n\t\t// queuesSet(queuesArray);\r\n\t\t//\r\n\t\t// /* ÐÐÐÐ¢ÐÐ¦ÐÐ¯ ÐÐÐÐ£Ð§ÐÐÐÐ«Ð¥ ÐÐÐÐÐ«Ð¥ */\r\n\r\n\t\tbridge.send(\"VKWebAppGetAds\", {}).then(data => {\r\n\t\t\tsetBanner(<PromoBanner\r\n\t\t\t\tonClose={()=>{setBanner(undefined)}}\r\n\t\t\t\tbannerData={data}/>)\r\n\t\t}).catch(data => console.log(data));\r\n\r\n\t\tasync function queuesSet(queuesArray){\r\n\t\t\tsetQueues(queuesArray);\r\n\t\t}\r\n\r\n\t}, []);\r\n\r\n\tconst blueBackground = {\r\n\t\tbackgroundColor: 'var(--accent)'\r\n\t};\r\n\r\n\r\n\t\treturn (\r\n\t\t\t<Panel id={id}>\r\n\t\t\t\t<PanelHeader>ÐÐ°ÑÐ¸ Ð¾ÑÐµÑÐµÐ´Ð¸</PanelHeader>\r\n\r\n\t\t\t\t<Div>\r\n\t\t\t\t\t<Group>\r\n\t\t\t\t\t\t<List>\r\n\t\t\t\t\t\t\t{queues.map(info => {\r\n\t\t\t\t\t\t\t\treturn <QueueCell info={info} go={go}/>\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</List>\r\n\t\t\t\t\t</Group>\r\n\t\t\t\t</Div>\r\n\r\n\t\t\t\t<Spinner className={cssSpinner} size=\"large\" style={{marginTop: 20}}/>\r\n\r\n\t\t\t\t{queues.length !== 0 &&\r\n\t\t\t\t<Div className={'EnterDiv'}>\r\n\t\t\t\t\t<Button className={'joinBTN'} size=\"l\" level=\"2\" before={<ListAddOutline28/>} onClick={() => {\r\n\t\t\t\t\t\tsetActiveModal(MODAL_CARD_ABOUT)\r\n\t\t\t\t\t\tif (osName !== IOS) {\r\n\t\t\t\t\t\t\twindow.history.pushState({history: \"MODAL_CARD_ABOUT\"}, \"MODAL_CARD_ABOUT\"); // Ð¡Ð¾Ð·Ð´Ð°ÑÐ¼ Ð½Ð¾Ð²ÑÑ Ð·Ð°Ð¿Ð¸ÑÑ Ð² Ð¸ÑÑÐ¾ÑÐ¸Ð¸ Ð±ÑÐ°ÑÐ·ÐµÑÐ°\r\n\t\t\t\t\t\t\thistory.push(\"MODAL_CARD_ABOUT\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}}>\r\n\t\t\t\t\t\tÐÐ¾Ð¹ÑÐ¸ Ñ Ð¿Ð¾Ð¼Ð¾ÑÑÑ ÐºÐ¾Ð´Ð°\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Div>\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t\t{queues.length === 0 && cssSpinner === 'turnOff' &&\r\n\r\n\t\t\t\t<Div>\r\n\t\t\t\t\t<Separator/>\r\n\t\t\t\t\t<Placeholder\r\n\t\t\t\t\t\ticon={<Icon56UsersOutline/>}\r\n\t\t\t\t\t\taction={<Button size=\"l\" mode=\"tertiary\" onClick={() => {\r\n\t\t\t\t\t\t\tsetActiveModal(MODAL_CARD_ABOUT)\r\n\t\t\t\t\t\t\tif (osName !== IOS) {\r\n\t\t\t\t\t\t\t\twindow.history.pushState({history: \"MODAL_CARD_ABOUT\"}, \"MODAL_CARD_ABOUT\"); // Ð¡Ð¾Ð·Ð´Ð°ÑÐ¼ Ð½Ð¾Ð²ÑÑ Ð·Ð°Ð¿Ð¸ÑÑ Ð² Ð¸ÑÑÐ¾ÑÐ¸Ð¸ Ð±ÑÐ°ÑÐ·ÐµÑÐ°\r\n\t\t\t\t\t\t\t\thistory.push(\"MODAL_CARD_ABOUT\");\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}}>ÐÐ¾Ð¹ÑÐ¸ Ð² Ð¾ÑÐµÑÐµÐ´Ñ Ñ Ð¿Ð¾Ð¼Ð¾ÑÑÑ ÐºÐ¾Ð´Ð°</Button>}\r\n\t\t\t\t\t\tstretched\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tÐÑ Ð½Ðµ ÑÐ¾ÑÑÐ¾Ð¸ÑÐµ Ð² Ð¾ÑÐµÑÐµÐ´ÑÑ\r\n\t\t\t\t\t</Placeholder>\r\n\t\t\t\t</Div>\r\n\t\t\t\t}\r\n\t\t\t\t<FixedLayout vertical=\"bottom\">\r\n\t\t\t\t\t{banner}\r\n\t\t\t\t</FixedLayout>\r\n\r\n\t\t\t\t{snackbar}\r\n\t\t\t</Panel>\r\n\t\t)\r\n}\r\n\r\nHome.propTypes = {\r\n\tid: PropTypes.string.isRequired,\r\n\tgo: PropTypes.func.isRequired,\r\n\tfetchedUser: PropTypes.shape({\r\n\t\tphoto_200: PropTypes.string,\r\n\t\tfirst_name: PropTypes.string,\r\n\t\tlast_name: PropTypes.string,\r\n\t\tcity: PropTypes.shape({\r\n\t\t\ttitle: PropTypes.string,\r\n\t\t}),\r\n\t}),\r\n};\r\n\r\nexport default Home;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { RichCell, Avatar } from \"@vkontakte/vkui\";\r\n\r\nfunction QueueCell({ info, go}) {\r\n\r\n\r\n    return(\r\n        <RichCell\r\n            className={'QueueCellStyle'}\r\n            before={<Avatar size={48} src={info.avatar} />}\r\n            text = {info.place}\r\n            caption = {info.date.slice(0, 10).split('-').reverse().join('.')}\r\n            // after=\"+ 1 500 â½\"\r\n            onClick={ (e) => {\r\n                go(e);\r\n                global.queue.name = info.name;\r\n                global.queue.idQueue = info.id;\r\n                global.queue.avatarQueue = info.avatar;\r\n                global.queue.descriptionQueue = info.description;\r\n                global.queue.dateQueue = info.date;\r\n                global.queue.timeQueue = info.time;\r\n                global.queue.placeQueue = info.place;\r\n                global.queue.codeQueue = info.code;\r\n\r\n            }}\r\n            data-to={'aboutQueue'}\r\n        >\r\n            {info.name}\r\n        </RichCell>\r\n    )\r\n}\r\n\r\nQueueCell.propTypes = {\r\n    info: PropTypes.object,\r\n}\r\n\r\nexport default QueueCell;","import React, {useState, useEffect} from 'react';\r\nimport {\r\n    Button,\r\n    PanelHeader,\r\n    Panel,\r\n    FormLayout,\r\n    Input,\r\n    File,\r\n    Text,\r\n    FormStatus,\r\n    ScreenSpinner,\r\n    Avatar, Snackbar, Div, FormLayoutGroup, IOS, platform, Header\r\n} from \"@vkontakte/vkui\";\r\nimport Icon28Attachments from '@vkontakte/icons/dist/28/attachments';\r\nimport Icon16Clear from '@vkontakte/icons/dist/16/clear';\r\nimport Icon12Cancel from '@vkontakte/icons/dist/12/cancel';\r\nimport Icon28CalendarOutline from '@vkontakte/icons/dist/28/calendar_outline';\r\nimport Icon28RecentOutline from '@vkontakte/icons/dist/28/recent_outline';\r\n\r\nconst MODAL_CARD_CHAT_INVITE = 'chat-invite';\r\n\r\n\r\n\r\nlet now = new Date().toLocaleDateString('en-GB');\r\nlet nowTime = now.split('.').reverse().join('-');\r\n\r\nlet nowIOSTime = now.split('/').reverse().join('-');\r\nlet IOSdateError = true;\r\nlet today;\r\nlet todayForMin = new Date(nowIOSTime);\r\nlet pickedDate;\r\nlet imgERR = false;\r\nconst osName = platform();\r\n\r\nconst CreateQueue = ({ snackbar, id, go, history, setActiveModal, fetchedUser, setQueueCODE, setPopout, setSnackbar}) => {\r\n    const [nameQueue, setNameQueue] = useState(global.queue.createName);\r\n    const [date, setDate] = useState(global.queue.createDate);\r\n    const [time, setTime] = useState(global.queue.createTime);\r\n    const [description, setDescription] = useState(global.queue.createDescription);\r\n    const [avatarName, setAvatarName] = useState(\"\");\r\n    const [place, setPlace] = useState(global.queue.createPlace);\r\n    const [queueNameStatus, setQueueNameStatus] = useState('');\r\n    const [queueDateStatus, setQueueDateStatus] = useState('');\r\n    const [formStatusHeader, setFormStatusHeader] = useState('');\r\n    const [formStatusDescription, setFormStatusDescription] = useState('');\r\n    const [formStatusVisibility, setFormStatusVisibility] = useState(false);\r\n    const [checkPhoto, setCheckPhoto] = useState(false);\r\n    const [uploadedPhoto, setUploadedPhoto] = useState(undefined);\r\n    const [deleteImgButtonCSS, setDeleteImgButtonCSS] = useState('turnOff');\r\n    const [delDivCSS, setDelDivCSS] = useState('turnOff');\r\n    const [timeInput, setTimeInput] = useState('turnOff');\r\n    const [dateInput, setDateInput] = useState('turnOff');\r\n    const [dateInputButton, setDateInputButton] = useState('dateAndTimeInputButton');\r\n    const [timeInputButton, setTimeInputButton] = useState('timeInputButton');\r\n\r\n    useEffect(() => {\r\n        setAvatarName(global.queue.avatarName);\r\n        if(global.queue.avatarName !== undefined){\r\n            setDeleteImgButtonCSS('deleteImgButton');\r\n            setDelDivCSS('divForDel');\r\n        }\r\n    })\r\n\r\n    const createQueueOnServer = async () => {\r\n        setPopout(<ScreenSpinner/>);\r\n        console.log('ÐÑÐ¿ÑÐ°Ð²Ð»ÐµÐ½ Ð·Ð°Ð¿ÑÐ¾Ñ Ð½Ð° ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ðµ Ð¾ÑÐµÑÐµÐ´Ð¸...');\r\n\r\n        try {\r\n            fetch('/createQueue', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Accept': 'application/json',\r\n                    'Content-Type': 'application/json',\r\n                },\r\n                body: JSON.stringify({\r\n                    \"queueName\": nameQueue,\r\n                    \"queuePlace\": place,\r\n                    \"queueTime\": time,\r\n                    \"queueDate\": date,\r\n                    \"queueAvatarURL\": global.queue.picURLNew,\r\n                    \"queueDescription\": description,\r\n                    \"url\": window.location.search.replace('?', '')\r\n                })\r\n            }).then(function (response) {\r\n                return response.json();\r\n            })\r\n                .then(async function (data) {\r\n                    if (data === 'LIMIT REACHED') {\r\n                        setSnackbar(<Snackbar\r\n                            layout=\"vertical\"\r\n                            onClose={() => setSnackbar(null)}\r\n                            before={<Avatar size={24}><Icon16Clear fill=\"red\" width={14} height={14}/></Avatar>}\r\n                        >\r\n                            ÐÐ¸Ð¼Ð¸Ñ Ð² ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ð¸ 5 Ð¾ÑÐµÑÐµÐ´ÐµÐ¹ Ð² Ð´ÐµÐ½Ñ Ð¸ÑÑÐµÑÐ¿Ð°Ð½!\r\n                        </Snackbar>)\r\n                        setPopout(null);\r\n\r\n                    } else {\r\n                        setQueueCODE(data);\r\n\r\n                        if(global.queue.picURLNew === undefined){\r\n                            setPopout(null);\r\n                            setActiveModal(MODAL_CARD_CHAT_INVITE);\r\n                            if (osName !== IOS) {\r\n                                window.history.pushState({panel: \"MODAL_CARD_CHAT_INVITE\"}, \"MODAL_CARD_CHAT_INVITE\"); // Ð¡Ð¾Ð·Ð´Ð°ÑÐ¼ Ð½Ð¾Ð²ÑÑ Ð·Ð°Ð¿Ð¸ÑÑ Ð² Ð¸ÑÑÐ¾ÑÐ¸Ð¸ Ð±ÑÐ°ÑÐ·ÐµÑÐ°\r\n                                history.push(\"MODAL_CARD_CHAT_INVITE\");\r\n                            }\r\n                        }else{\r\n                            setTimeout(() => setPopout(null), 3000);\r\n                            setTimeout(() => setActiveModal(MODAL_CARD_CHAT_INVITE), 3000);\r\n                            if (osName !== IOS) {\r\n                                window.history.pushState({panel: \"MODAL_CARD_CHAT_INVITE\"}, \"MODAL_CARD_CHAT_INVITE\"); // Ð¡Ð¾Ð·Ð´Ð°ÑÐ¼ Ð½Ð¾Ð²ÑÑ Ð·Ð°Ð¿Ð¸ÑÑ Ð² Ð¸ÑÑÐ¾ÑÐ¸Ð¸ Ð±ÑÐ°ÑÐ·ÐµÑÐ°\r\n                                history.push(\"MODAL_CARD_CHAT_INVITE\");\r\n                            }\r\n                        }\r\n                        global.queue.picURL = undefined;\r\n                        global.queue.pic = undefined;\r\n                        global.queue.picURLNew = undefined;\r\n\r\n                        // window.history.pushState( {panel: \"MODAL_CARD_CHAT_INVITE\"}, \"MODAL_CARD_CHAT_INVITE\" ); // Ð¡Ð¾Ð·Ð´Ð°ÑÐ¼ Ð½Ð¾Ð²ÑÑ Ð·Ð°Ð¿Ð¸ÑÑ Ð² Ð¸ÑÑÐ¾ÑÐ¸Ð¸ Ð±ÑÐ°ÑÐ·ÐµÑÐ°\r\n                        // history.push(\"MODAL_CARD_CHAT_INVITE\");\r\n                    }\r\n                }).catch((e) => {\r\n                console.log(e);\r\n                setPopout(null);\r\n                setSnackbar(<Snackbar\r\n                    layout=\"vertical\"\r\n                    onClose={() => setSnackbar(null)}\r\n                    before={<Avatar size={24}><Icon16Clear fill=\"red\" width={14} height={14}/></Avatar>}\r\n                >\r\n                    ÐÑÐ¸Ð±ÐºÐ° ÑÐ¾ÐµÐ´Ð¸Ð½ÐµÐ½Ð¸Ñ! ÐÑÐ¾Ð²ÐµÑÑÑÐµ Ð¸Ð½ÑÐµÑÐ½ÐµÑ!\r\n                </Snackbar>);\r\n            })\r\n        } catch (e) {\r\n            console.log('ÐÑÐ¸Ð±ÐºÐ° Ð¿ÑÐ¸ ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ð¸ Ð¾ÑÐµÑÐµÐ´Ð¸...');\r\n        }\r\n    };\r\n\r\n    const onPhotoUpload = (e) => {\r\n        let type = e.target.files[0].type;\r\n        let tmp = type.split('/');\r\n        type = tmp[tmp.length-1];\r\n        let tst = e.target.files[0].name.split('.' + type);\r\n        if(tst.length !== 2 && type === 'jpeg'){\r\n            type = 'jpg';\r\n            tst = e.target.files[0].name.split('.' + type);\r\n        }\r\n\r\n        let tmpArr = e.target.files[0].name.split('.' + type);\r\n        global.queue.pic = e.target.files[0];\r\n        global.queue.picName = nameQueue.replace(/\\s+/g, '-').replace('?', '')\r\n                .replace('!', '').replace('!', '')\r\n            + '_' + (e.target.files[0].name).replace(/\\s+/g, '')\r\n            + getRandomInt(1000);\r\n\r\n        global.queue.picURL = 'https://firebasestorage.googleapis.com/v0/b/queuesvkminiapp.appspot.com/o/' + global.queue.picName + '?alt=media&token=bc19b8ba-dc95-4bcf-8914-c7b6163d1b3b';\r\n        global.queue.picURLNew = 'https://firebasestorage.googleapis.com/v0/b/queuesvkminiapp.appspot.com/o/' + global.queue.picName.replace(tmpArr[0], tmpArr[0] + '_200x200') + '?alt=media&token=bc19b8ba-dc95-4bcf-8914-c7b6163d1b3b';\r\n        global.queue.avatarName = e.target.files[0].name;\r\n        setAvatarName(e.target.files[0].name);\r\n    }\r\n\r\n    const getRandomInt = (max) => {\r\n        return Math.floor(Math.random() * Math.floor(max));\r\n    }\r\n\r\n    return (\r\n        <Panel id={id}>\r\n            <PanelHeader> Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ </PanelHeader>\r\n            <FormLayout noValidate={true}>\r\n                {formStatusVisibility &&\r\n                <FormStatus header={formStatusHeader} mode=\"error\">\r\n                    {formStatusDescription}\r\n                </FormStatus>\r\n                }\r\n\r\n                <Input id={'qName'} top={'ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ Ð¾ÑÐµÑÐµÐ´Ð¸*'}\r\n                       value={nameQueue}\r\n                       maxlength=\"32\"\r\n                       status={queueNameStatus}\r\n                       onClick={()=>{\r\n                           setDateInput('turnOff');\r\n                           setTimeInput('turnOff');\r\n                           setTimeInputButton('dateAndTimeInputButton');\r\n                           setDateInputButton('dateAndTimeInputButton')\r\n                       }}\r\n                       onChange={e => {\r\n                           if (e.target.value.trim() === '') {\r\n                               setFormStatusVisibility(true);\r\n                               setFormStatusHeader('ÐÐ²ÐµÐ´Ð¸ÑÐµ Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ Ð¾ÑÐµÑÐµÐ´Ð¸!')\r\n                           } else {\r\n                               setFormStatusVisibility(false);\r\n                               setFormStatusDescription('');\r\n                               setFormStatusHeader('');\r\n                           }\r\n                           global.queue.createName = e.target.value.trim();\r\n                           e.target.value.trim() ? setQueueNameStatus('valid') : setQueueNameStatus('error');\r\n                           setNameQueue(e.target.value.substring(0, 32));\r\n                       }}/>\r\n                <Input id={'qPlace'} top={'ÐÐµÑÑÐ¾ Ð¿ÑÐ¾Ð²ÐµÐ´ÐµÐ½Ð¸Ñ'} maxlength=\"40\" value={place} onClick={()=>{\r\n                    setDateInput('turnOff');\r\n                    setTimeInput('turnOff');\r\n                    setDateInputButton('dateAndTimeInputButton');\r\n                    setTimeInputButton('dateAndTimeInputButton');\r\n                }} onChange={e => {\r\n                    setPlace(e.target.value.substring(0, 40));\r\n                    global.queue.createPlace = e.target.value;\r\n                }}/>\r\n\r\n                <FormLayoutGroup top=\"ÐÐ°ÑÐ° Ð¿ÑÐ¾Ð²ÐµÐ´ÐµÐ½Ð¸Ñ*\">\r\n                    <Button className={dateInputButton} before={<Icon28CalendarOutline/>} stretched={true} size={'xl'} mode={'secondary'} onClick={(qualifiedName, value)=>{\r\n                        document.getElementById('qName').blur();\r\n                        document.getElementById('qDesc').blur();\r\n                        document.getElementById('qPlace').blur();\r\n                        setDateInput('dateInput');\r\n                        setDateInputButton('turnOff');\r\n\r\n                    }}>ÐÑÐ±ÑÐ°ÑÑ Ð´Ð°ÑÑ</Button>\r\n                    <div className={dateInput}>\r\n                        <Input id={'dateID'}\r\n                               className={dateInput}\r\n                               min={todayForMin}\r\n                               top=\"ÐÐ°ÑÐ° Ð¿ÑÐ¾Ð²ÐµÐ´ÐµÐ½Ð¸Ñ*\"\r\n                               novalidate\r\n                               name={'date'} type={'date'}\r\n                               value={date}\r\n                               status={queueDateStatus}\r\n                               onChange={e => {\r\n                                   today = new Date(nowIOSTime);\r\n                                   pickedDate = new Date(e.target.value);\r\n                                   let dataCheck = document.getElementById('dateID')\r\n\r\n                                   if (dataCheck.validity.rangeUnderflow) {\r\n                                       setQueueDateStatus('error');\r\n                                       setFormStatusVisibility(true);\r\n                                       global.queue.dataCheck = false;\r\n                                       if (formStatusHeader === 'ÐÐ²ÐµÐ´Ð¸ÑÐµ Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ Ð¾ÑÐµÑÐµÐ´Ð¸!') {\r\n                                           setFormStatusHeader('ÐÐµÐ²ÐµÑÐ½Ð°Ñ Ð´Ð°ÑÐ° Ð¸ Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ!');\r\n                                           setFormStatusDescription('ÐÐ¾Ð¶Ð°Ð»ÑÐ¹ÑÑÐ°, Ð¿ÑÐ¾Ð²ÐµÑÑÑÐµ, ÑÑÐ¾ Ð´Ð°ÑÐ° Ð°ÐºÑÑÐ°Ð»ÑÐ½Ð°.');\r\n                                       } else {\r\n                                           setFormStatusHeader('ÐÐµÐ²ÐµÑÐ½Ð°Ñ Ð´Ð°ÑÐ°!');\r\n                                           setFormStatusDescription('ÐÐ¾Ð¶Ð°Ð»ÑÐ¹ÑÑÐ°, Ð¿ÑÐ¾Ð²ÐµÑÑÑÐµ, ÑÑÐ¾ Ð´Ð°ÑÐ° Ð°ÐºÑÑÐ°Ð»ÑÐ½Ð°.');\r\n                                       }\r\n                                   } else {\r\n                                       setFormStatusVisibility(false);\r\n                                       setQueueDateStatus('valid');\r\n                                       global.queue.dataCheck = true;\r\n                                   }\r\n                                   if (queueDateStatus === 'error') {\r\n                                       setFormStatusVisibility(true);\r\n                                       setFormStatusHeader('ÐÐµÐ²ÐµÑÐ½Ð°Ñ Ð´Ð°ÑÐ°!');\r\n                                       setFormStatusDescription('ÐÐ¾Ð¶Ð°Ð»ÑÐ¹ÑÑÐ°, Ð¿ÑÐ¾Ð²ÐµÑÑÑÐµ, ÑÑÐ¾ Ð´Ð°ÑÐ° Ð°ÐºÑÑÐ°Ð»ÑÐ½Ð°.');\r\n                                       global.queue.dataCheck = false;\r\n                                   } else {\r\n                                       global.queue.dataCheck = true;\r\n                                       setFormStatusVisibility(false);\r\n                                   }\r\n\r\n                                   if (today.getTime() > pickedDate.getTime()) {\r\n                                       IOSdateError = false;\r\n                                       global.queue.dataCheck = false;\r\n                                       setQueueDateStatus('error');\r\n                                       setFormStatusVisibility(true);\r\n                                       if (formStatusHeader === 'ÐÐ²ÐµÐ´Ð¸ÑÐµ Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ Ð¾ÑÐµÑÐµÐ´Ð¸!') {\r\n                                           setFormStatusHeader('ÐÐµÐ²ÐµÑÐ½Ð°Ñ Ð´Ð°ÑÐ° Ð¸ Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ!');\r\n                                           setFormStatusDescription('ÐÐ¾Ð¶Ð°Ð»ÑÐ¹ÑÑÐ°, Ð¿ÑÐ¾Ð²ÐµÑÑÑÐµ, ÑÑÐ¾ Ð´Ð°ÑÐ° Ð°ÐºÑÑÐ°Ð»ÑÐ½Ð°.');\r\n                                       } else {\r\n                                           setFormStatusHeader('ÐÐµÐ²ÐµÑÐ½Ð°Ñ Ð´Ð°ÑÐ°!');\r\n                                           setFormStatusDescription('ÐÐ¾Ð¶Ð°Ð»ÑÐ¹ÑÑÐ°, Ð¿ÑÐ¾Ð²ÐµÑÑÑÐµ, ÑÑÐ¾ Ð´Ð°ÑÐ° Ð°ÐºÑÑÐ°Ð»ÑÐ½Ð°.');\r\n                                       }\r\n                                   } else {\r\n                                       global.queue.dataCheck = true;\r\n                                       IOSdateError = true;\r\n                                       setFormStatusVisibility(false);\r\n                                   }\r\n\r\n                                   if (e.target.value === '' || pickedDate.toString() === 'Invalid Date') {\r\n                                       setQueueDateStatus('error');\r\n                                       setFormStatusVisibility(true);\r\n                                       setFormStatusHeader('ÐÐ²ÐµÐ´Ð¸ÑÐµ Ð´Ð°ÑÑ!')\r\n                                   }\r\n                                   setDate(e.target.value)\r\n                                   global.queue.createDate = e.target.value;\r\n                               }}/>\r\n                    </div>\r\n                </FormLayoutGroup>\r\n\r\n                <FormLayoutGroup top=\"ÐÑÐµÐ¼Ñ Ð¿ÑÐ¾Ð²ÐµÐ´ÐµÐ½Ð¸Ñ\">\r\n                    <Button className={timeInputButton} before={<Icon28RecentOutline/>} stretched={true} size={'xl'} mode={'secondary'} onClick={(qualifiedName, value)=>{\r\n                        document.getElementById('qName').blur();\r\n                        document.getElementById('qDesc').blur();\r\n                        document.getElementById('qPlace').blur();\r\n                        setTimeInput('timeInput');\r\n                        setTimeInputButton('turnOff');\r\n\r\n                    }}>ÐÑÐ±ÑÐ°ÑÑ Ð²ÑÐµÐ¼Ñ</Button>\r\n\r\n                    <div className={timeInput}>\r\n                        <Input id={'timeID'} className={timeInput} top=\"ÐÑÐµÐ¼Ñ Ð½Ð°ÑÐ°Ð»Ð°\" name={'time'} type={'time'} value={time} onChange={e => {\r\n                            setTime(e.target.value);\r\n                            global.queue.createTime = e.target.value;\r\n                        }}/>\r\n                    </div>\r\n                </FormLayoutGroup>\r\n\r\n                <File id={'fileInputID'} top=\"ÐÐ²Ð°ÑÐ°ÑÐºÐ° Ð¾ÑÐµÑÐµÐ´Ð¸\" accept=\"image/*\" before={<Icon28Attachments/>} controlSize=\"xl\"\r\n                      mode=\"secondary\"\r\n                      onChange={(e) => {\r\n                          setDeleteImgButtonCSS('deleteImgButton');\r\n                          setDelDivCSS('divForDel');\r\n                          onPhotoUpload(e);\r\n                      }}/>\r\n                <div className={delDivCSS}>\r\n                    <Text className={'uploadedImgName'}>{avatarName}<Button className={deleteImgButtonCSS}\r\n                                                                            mode={'tertiary'}\r\n                                                                            before={<Icon12Cancel/>}\r\n                                                                            onClick={()=>{\r\n                                                                                setAvatarName('');\r\n                                                                                global.queue.picURLNew = undefined;\r\n                                                                                global.queue.picURL = undefined;\r\n                                                                                setDeleteImgButtonCSS('turnOff');\r\n                                                                                setDelDivCSS('turnOff');\r\n                                                                                global.queue.avatarName = undefined;\r\n                                                                                document.getElementById('fileInputID').value = \"\";\r\n                                                                            }}/></Text>\r\n\r\n                </div>\r\n                <Input id={'qDesc'} top={'ÐÑÐ°ÑÐºÐ¾Ðµ Ð¾Ð¿Ð¸ÑÐ°Ð½Ð¸Ðµ Ð¾ÑÐµÑÐµÐ´Ð¸'} maxlength=\"100\" value={description}\r\n                    bottom={'Ð Ð¾Ð¿Ð¸ÑÐ°Ð½Ð¸Ð¸ Ð²Ñ Ð¼Ð¾Ð¶ÐµÑÐµ ÑÐºÐ°Ð·Ð°ÑÑ ÑÑÑÐ»ÐºÑ Ð½Ð° ÐºÐ¾Ð½ÑÐµÑÐµÐ½ÑÐ¸Ñ Ð¸Ð»Ð¸ Ð¶Ðµ Ð¿ÑÐ¾ÑÑÐ¾ Ð´Ð¾Ð±Ð°Ð²Ð¸ÑÑ Ð´Ð¾Ð¿Ð¾Ð»Ð½Ð¸ÑÐµÐ»ÑÐ½ÑÑ Ð¸Ð½ÑÐ¾ÑÐ¼Ð°ÑÐ¸Ñ Ð¾Ð± Ð¾ÑÐµÑÐµÐ´Ð¸.'}\r\n                       onClick={()=>{\r\n                    setDateInput('turnOff');\r\n                    setTimeInput('turnOff');\r\n                    setDateInputButton('dateAndTimeInputButton');\r\n                    setTimeInputButton('dateAndTimeInputButton');\r\n                }} onChange={e => {\r\n                    setDescription(e.target.value.substring(0, 100))\r\n                    global.queue.createDescription = e.target.value;\r\n                }}/>\r\n                <Button size=\"xl\" onClick={async () => {\r\n\r\n                    setTimeout('', 200);\r\n                    let dataCheck = document.getElementById('dateID');\r\n\r\n                    if (!global.queue.dataCheck || !IOSdateError) {\r\n                        setQueueDateStatus('error');\r\n                        setFormStatusVisibility(true);\r\n\r\n                        if (formStatusHeader === 'ÐÐ²ÐµÐ´Ð¸ÑÐµ Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ Ð¾ÑÐµÑÐµÐ´Ð¸!') {\r\n                            setFormStatusHeader('ÐÐµÐ²ÐµÑÐ½Ð°Ñ Ð´Ð°ÑÐ° Ð¸ Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ!');\r\n                            setFormStatusDescription('ÐÐ¾Ð¶Ð°Ð»ÑÐ¹ÑÑÐ°, Ð¿ÑÐ¾Ð²ÐµÑÑÑÐµ, ÑÑÐ¾ Ð´Ð°ÑÐ° Ð°ÐºÑÑÐ°Ð»ÑÐ½Ð°.');\r\n                            setDateInput('dateInput');\r\n                            setDateInputButton('turnOff');\r\n                        } else {\r\n                            setFormStatusHeader('ÐÐµÐ²ÐµÑÐ½Ð°Ñ Ð´Ð°ÑÐ°!');\r\n                            setFormStatusDescription('ÐÐ¾Ð¶Ð°Ð»ÑÐ¹ÑÑÐ°, Ð¿ÑÐ¾Ð²ÐµÑÑÑÐµ, ÑÑÐ¾ Ð´Ð°ÑÐ° Ð°ÐºÑÑÐ°Ð»ÑÐ½Ð°.');\r\n                            setDateInput('dateInput');\r\n                            setDateInputButton('turnOff');\r\n                        }\r\n                        window.scrollTo(0,0);\r\n\r\n                    }\r\n\r\n                    if (nameQueue.trim() !== '' && date.trim() !== '' && IOSdateError && global.queue.dataCheck && !dataCheck.validity.rangeUnderflow) {\r\n                        setPopout(<ScreenSpinner/>);\r\n                        setFormStatusVisibility(false);\r\n                        setCheckPhoto(false);\r\n                        try {\r\n                        await fetch('/checkCreation', {\r\n                            method: 'POST',\r\n                            headers: {\r\n                                'Accept': 'application/json',\r\n                                'Content-Type': 'application/json',\r\n                            },\r\n                            body: JSON.stringify({\r\n                                \"url\": window.location.search.replace('?', '')\r\n                            })\r\n                        }).then(function (response) {\r\n                            return response.json();\r\n                        })\r\n                            .then(async function (data) {\r\n                                if (data === 'LIMIT REACHED') {\r\n                                    setSnackbar(<Snackbar\r\n                                        layout=\"vertical\"\r\n                                        onClose={() => setSnackbar(null)}\r\n                                        before={<Avatar size={24}><Icon16Clear fill=\"red\" width={14}\r\n                                                                               height={14}/></Avatar>}\r\n                                    >\r\n                                        ÐÐ¸Ð¼Ð¸Ñ Ð² ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ð¸ 5 Ð¾ÑÐµÑÐµÐ´ÐµÐ¹ Ð² Ð´ÐµÐ½Ñ Ð¸ÑÑÐµÑÐ¿Ð°Ð½!\r\n                                    </Snackbar>)\r\n                                    setPopout(null);\r\n                                }else {\r\n                                    if (global.queue.picURL !== undefined) {\r\n                                        console.log(global.queue.picURL);\r\n                                        try {\r\n                                            await fetch('https://firebasestorage.googleapis.com/v0/b/queuesvkminiapp.appspot.com/o?uploadType=media&name=' + global.queue.picName, {\r\n                                                method: 'POST',\r\n                                                headers: {\r\n                                                    'Accept': 'application/json',\r\n                                                    'Content-Type': 'image/png',\r\n                                                },\r\n                                                body: global.queue.pic\r\n                                            }).then(function (response) {\r\n                                                return response.json();\r\n                                            })\r\n                                                .then(async function (data) {\r\n                                                    console.log('ÐÐ°ÑÑÐ¸Ð½ÐºÐ° ÑÑÐ¿ÐµÑÐ½Ð¾ Ð·Ð°Ð³ÑÑÐ¶ÐµÐ½Ð°!');\r\n                                                })\r\n                                        } catch (e) {\r\n                                            setPopout(null);\r\n                                        }\r\n\r\n                                        async function testImage(URL) {\r\n                                            return new Promise((resolve, reject) => {\r\n                                                let tester = new Image();\r\n                                                tester.src = URL;\r\n                                                tester.onload = () => {\r\n                                                    setCheckPhoto(false);\r\n                                                    resolve(global.queue.picURL);\r\n                                                    return 'ok';\r\n                                                }\r\n                                                tester.onerror = () => {\r\n                                                    setCheckPhoto(true);\r\n                                                    reject();\r\n                                                    setPopout(null);\r\n                                                    setSnackbar(<Snackbar\r\n                                                        layout=\"vertical\"\r\n                                                        onClose={() => setSnackbar(null)}\r\n                                                        before={<Avatar size={24}><Icon16Clear fill=\"red\" width={14}\r\n                                                                                               height={14}/></Avatar>}\r\n                                                    >\r\n                                                        ÐÐ°ÑÑÐ¸Ð½ÐºÐ° Ð¿Ð¾Ð²ÑÐµÐ¶Ð´ÐµÐ½Ð°! ÐÑÐ±ÐµÑÐ¸ÑÐµ Ð´ÑÑÐ³ÑÑ.\r\n                                                    </Snackbar>);\r\n                                                    setCheckPhoto(false);\r\n                                                };\r\n                                            });\r\n                                        }\r\n\r\n\r\n                                        await testImage(global.queue.picURL);\r\n                                    }\r\n                                    console.log(checkPhoto);\r\n                                    if (!checkPhoto) {\r\n                                        await createQueueOnServer();\r\n                                        global.queue.createPlace = '';\r\n                                        global.queue.createDescription = '';\r\n                                        global.queue.createTime = '';\r\n                                        global.queue.createDate = '';\r\n                                        global.queue.createName = '';\r\n                                        global.queue.avatarName = undefined;\r\n                                        setNameQueue('');\r\n                                        setDate('');\r\n                                        setDescription('');\r\n                                        setTime('');\r\n                                        setAvatarName('');\r\n                                        setPlace('');\r\n                                        setDeleteImgButtonCSS('turnOff');\r\n                                        setDelDivCSS('turnOff');\r\n                                        setQueueDateStatus('');\r\n                                        setQueueNameStatus('');\r\n                                    }\r\n                                    setCheckPhoto(false);\r\n                                }\r\n                            });}\r\n                            catch (e) {\r\n                                setPopout(null);\r\n                                setSnackbar(<Snackbar\r\n                                    layout=\"vertical\"\r\n                                    onClose={() => setSnackbar(null)}\r\n                                    before={<Avatar size={24}><Icon16Clear fill=\"red\" width={14} height={14}/></Avatar>}\r\n                                >\r\n                                    ÐÑÐ¸Ð±ÐºÐ° ÑÐ¾ÐµÐ´Ð¸Ð½ÐµÐ½Ð¸Ñ! ÐÑÐ¾Ð²ÐµÑÑÑÐµ Ð¸Ð½ÑÐµÑÐ½ÐµÑ!\r\n                                </Snackbar>);\r\n                            }\r\n                    }else {\r\n                        if (date.trim() === '' && nameQueue.trim() === '') {\r\n                            setQueueNameStatus('error');\r\n                            setQueueDateStatus('error');\r\n                            setFormStatusVisibility(true);\r\n                            setFormStatusHeader('ÐÐ²ÐµÐ´Ð¸ÑÐµ Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ Ð¸ Ð´Ð°ÑÑ!');\r\n                            setPopout(null);\r\n                            setDateInput('dateInput');\r\n                            setDateInputButton('turnOff');\r\n                            window.scrollTo(0,0);\r\n\r\n                        } else if ((!IOSdateError || !global.queue.dataCheck) && nameQueue.trim() === '') {\r\n                            setQueueNameStatus('error');\r\n                            setQueueDateStatus('error');\r\n                            setFormStatusVisibility(true);\r\n                            setFormStatusHeader('ÐÐ²ÐµÐ´Ð¸ÑÐµ Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ Ð¸ ÐºÐ¾ÑÑÐµÐºÑÐ½ÑÑ Ð´Ð°ÑÑ!');\r\n                            setPopout(null);\r\n                            setDateInput('dateInput');\r\n                            setDateInputButton('turnOff');\r\n                            window.scrollTo(0,0);\r\n\r\n                        } else if (nameQueue.trim() === '') {\r\n                            setQueueNameStatus('error');\r\n                            setFormStatusVisibility(true);\r\n                            setFormStatusHeader('ÐÐ²ÐµÐ´Ð¸ÑÐµ Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ!')\r\n                            setFormStatusDescription('');\r\n                            setPopout(null);\r\n                            window.scrollTo(0,0);\r\n\r\n                        } else if (date.trim() === '') {\r\n                            setQueueDateStatus('error');\r\n                            setFormStatusVisibility(true);\r\n                            setFormStatusHeader('ÐÐ²ÐµÐ´Ð¸ÑÐµ Ð´Ð°ÑÑ!')\r\n                            setPopout(null);\r\n                            setDateInput('dateInput');\r\n                            setDateInputButton('turnOff');\r\n                            window.scrollTo(0,0);\r\n                        }\r\n                    }\r\n\r\n                }}>Ð¡Ð¾Ð·Ð´Ð°ÑÑ</Button>\r\n            </FormLayout>\r\n            {snackbar}\r\n        </Panel>\r\n    );\r\n}\r\n\r\nexport default CreateQueue;","import React, {useState} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n\tMiniInfoCell,\r\n\tPanel,\r\n\tPanelHeader,\r\n\tPanelHeaderButton,\r\n\tGroup,\r\n\tText,\r\n\tDiv,\r\n\tAvatar,\r\n\tButton,\r\n\tHeadline\r\n} from '@vkontakte/vkui';\r\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\r\nimport './Persik.css';\r\nimport Icon20ArticleOutline from '@vkontakte/icons/dist/20/article_outline';\r\nimport Icon20RecentOutline from '@vkontakte/icons/dist/20/recent_outline';\r\nimport Icon20PlaceOutline from '@vkontakte/icons/dist/20/place_outline';\r\nimport Icon20CalendarOutline from '@vkontakte/icons/dist/20/calendar_outline';\r\nimport UsersList from '../usersList'\r\nimport Icon20Info from '@vkontakte/icons/dist/20/info';\r\nimport Icon20ShareOutline from '@vkontakte/icons/dist/20/share_outline';\r\nimport bridge from \"@vkontakte/vk-bridge\";\r\n\r\nlet linkify = require('linkifyjs');\r\nlet linkifyHtml = require('linkifyjs/html');\r\n\r\n// const osName = platform(); - ÐÐ¿ÑÐµÐ´ÐµÐ»ÑÐµÑ ÐÐ¡ ÑÑÑÑÐ¾Ð¹ÑÑÐ²Ð°\r\n\r\nconst AboutQueue = ({id, snackbar, history, setHistory, fetchedUser, setSnackbar, go, queues, setActiveModal, setPopout, setActivePanel, setActiveStory, setQueues}) => {\r\n\r\n\tconst [cssEdit, setCssEdit] = useState('turnOff');\r\n\tconst [desc] = useState(global.queue.descriptionQueue);\r\n\r\n\t\treturn (\r\n\t\t\t<Panel id={id}>\r\n\t\t\t\t<PanelHeader\r\n\t\t\t\t\tleft={<PanelHeaderButton onClick={() => {\r\n\t\t\t\t\t\tsetSnackbar(null);\r\n\t\t\t\t\t\thistory.pop()\r\n\t\t\t\t\t\tsetActivePanel(history[history.length - 1])\r\n\t\t\t\t\t}}>\r\n\t\t\t\t\t\t{<Icon28ChevronBack/>}\r\n\t\t\t\t\t</PanelHeaderButton>}\r\n\t\t\t\t>\r\n\t\t\t\t\tÐÑÐµÑÐµÐ´Ñ\r\n\t\t\t\t</PanelHeader>\r\n\r\n\t\t\t\t<div className={'AvatarInQueueDiv'}>\r\n\t\t\t\t\t<Avatar className={'AvatarInQueue'} size={106} src={global.queue.avatarQueue}/>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<Div>\r\n\t\t\t\t\t<Group className={'QueueINFO'}>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t<Headline weight=\"medium\" className={\"HeaderOfQueue\"}>{global.queue.name}</Headline>\r\n\t\t\t\t\t\t\t{global.queue.descriptionQueue.trim() !== '' &&\r\n\t\t\t\t\t\t\t<MiniInfoCell\r\n\t\t\t\t\t\t\t\tbefore={<Icon20ArticleOutline/>}\r\n\t\t\t\t\t\t\t\tmultiline\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<div className=\"Container\" dangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t\t\t\t__html: linkifyHtml(desc, {\r\n\t\t\t\t\t\t\t\t\t\tdefaultProtocol: 'https'\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}}></div>\r\n\t\t\t\t\t\t\t</MiniInfoCell>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t{global.queue.placeQueue.trim() !== '' &&\r\n\t\t\t\t\t\t\t<MiniInfoCell\r\n\t\t\t\t\t\t\t\tbefore={<Icon20PlaceOutline/>}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{global.queue.placeQueue}\r\n\t\t\t\t\t\t\t</MiniInfoCell>\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t{global.queue.dateQueue !== '' &&\r\n\t\t\t\t\t\t\t<MiniInfoCell\r\n\t\t\t\t\t\t\t\tbefore={<Icon20CalendarOutline/>}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{global.queue.dateQueue.slice(0, 10).split('-').reverse().join('.')}\r\n\t\t\t\t\t\t\t</MiniInfoCell>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t{global.queue.timeQueue !== '' &&\r\n\t\t\t\t\t\t\t<MiniInfoCell\r\n\t\t\t\t\t\t\t\tbefore={<Icon20RecentOutline/>}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{global.queue.timeQueue.slice(0, 5)}\r\n\t\t\t\t\t\t\t</MiniInfoCell>\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t<MiniInfoCell\r\n\t\t\t\t\t\t\t\tbefore={<Icon20Info/>}\r\n\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<div className={'shareButton'}>\r\n\t\t\t\t\t\t\t\t\t<Text weight=\"semibold\">\r\n\t\t\t\t\t\t\t\t\t\tÐÐ¾Ð´ Ð¾ÑÐµÑÐµÐ´Ð¸: {global.queue.codeQueue} </Text>\r\n\t\t\t\t\t\t\t\t\t<Button mode={'tertiary'} onClick={() => {\r\n\t\t\t\t\t\t\t\t\t\tbridge.send(\"VKWebAppShare\", {\"link\": `https://vk.com/app7551421_199833891#${global.queue.codeQueue}`});\r\n\t\t\t\t\t\t\t\t\t}}><Icon20ShareOutline className={'shareButtonOutline'} width={23}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t   height={23}/></Button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t</MiniInfoCell>\r\n\r\n\t\t\t\t\t\t\t<Button className={cssEdit} onClick={(e) => {\r\n\t\t\t\t\t\t\t\tgo(e)\r\n\t\t\t\t\t\t\t\tglobal.queue.pic = undefined;\r\n\t\t\t\t\t\t\t\tglobal.queue.picURL = undefined;\r\n\t\t\t\t\t\t\t}} data-to=\"changeQueue\" mode={'tertiary'}>Ð ÐµÐ´Ð°ÐºÑÐ¸ÑÐ¾Ð²Ð°ÑÑ\r\n\t\t\t\t\t\t\t\tÐ¸Ð½ÑÐ¾ÑÐ¼Ð°ÑÐ¸Ñ</Button>\r\n\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Group>\r\n\t\t\t\t</Div>\r\n\r\n\t\t\t\t<UsersList go={go} history={history} setHistory={setHistory} snackbar={snackbar}\r\n\t\t\t\t\t\t   setSnackbar={setSnackbar} setQueues={setQueues} setCssEdit={setCssEdit}\r\n\t\t\t\t\t\t   setActiveStory={setActiveStory} setActivePanel={setActivePanel}\r\n\t\t\t\t\t\t   setActiveModal={setActiveModal} setPopout={setPopout} queueCode={global.queue.codeQueue}\r\n\t\t\t\t\t\t   fetchedUser={fetchedUser}/>\r\n\r\n\t\t\t</Panel>\r\n\t\t)\r\n}\r\nAboutQueue.propTypes = {\r\n\tid: PropTypes.string.isRequired,\r\n\tgo: PropTypes.func.isRequired,\r\n}\r\n\r\nexport default AboutQueue;\r\n","import React from 'react';\r\nimport {\r\n    Alert,\r\n    Avatar,\r\n    Button,\r\n    Cell,\r\n    Div,\r\n    Group,\r\n    Header,\r\n    Input,\r\n    IOS,\r\n    List,\r\n    Placeholder,\r\n    platform,\r\n    Separator, Snackbar, Spinner,\r\n    Tabs,\r\n    TabsItem\r\n} from \"@vkontakte/vkui\";\r\nimport Icon56UserAddOutline from '@vkontakte/icons/dist/56/user_add_outline';\r\nimport bridge from \"@vkontakte/vk-bridge\";\r\nimport Icon16CheckCircle from '@vkontakte/icons/dist/16/check_circle';\r\n\r\n\r\nlet counter = 1; //Ð¡ÑÑÑÑÐ¸Ðº, ÑÑÐ¸ÑÐ°ÑÑÐ¸Ð¹ ÐºÐ¾Ð»-Ð²Ð¾ Ð²ÐºÐ»ÑÑÐµÐ½Ð¸Ð¹ Ð°Ð´Ð¼Ð¸Ð½-Ð¿Ð°Ð½ÐµÐ»Ð¸\r\nlet counter2= 1; //Ð¡ÑÑÑÑÐ¸Ðº, ÑÑÐ¸ÑÐ°ÑÑÐ¸Ð¹ ÐºÐ¾Ð»-Ð²Ð¾ Ð²ÐºÐ»ÑÑÐµÐ½Ð¸Ð¹ Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð¸Ñ Ð°Ð´Ð¼Ð¸Ð½Ð¾Ð²\r\nlet ADDcounter = 1; //Ð¡ÑÑÑÑÐ¸Ðº, ÑÑÐ¸ÑÐ°ÑÑÐ¸Ð¹ ÐºÐ¾Ð»-Ð²Ð¾ Ð½Ð°Ð¶Ð°ÑÐ¸Ð¹ Ð¿Ð¾ Ð´Ð¾Ð±Ð°Ð»ÐµÐ½Ð¸Ðµ ÑÐµÐ»Ð¾Ð²ÐµÐºÐ° Ð½Ðµ Ð¸Ð· VK\r\nconst osName = platform();\r\nconst blueBackground = {\r\n    backgroundColor: 'var(--accent)'\r\n};\r\nlet menuCounter = 1; //Ð¡ÑÑÑÑÐ¸Ðº Ð¾ÑÐºÑÑÑÐ¸Ñ Ð¼ÐµÐ½Ñ Ð´ÐµÐ¹ÑÑÐ²Ð¸Ð¹\r\nlet styleForButtons = 'ButtonsDiv'; //Ð¡ÑÐ¸Ð»Ð¸ Ð´Ð»Ñ ÐºÐ½Ð¾Ð¿ÐºÐ¸ Ð¼ÐµÐ½Ñ Ð´ÐµÐ¹ÑÑÐ²Ð¸Ð¹ Ð´Ð»Ñ IOS/Android\r\nlet styleForButtonAddAdmin = 'giveAdmin'; //Ð¡ÑÐ¸Ð»Ð¸ Ð´Ð»Ñ ÐºÐ½Ð¾Ð¿ÐºÐ¸ Ð¼ÐµÐ½Ñ Ð´ÐµÐ¹ÑÑÐ²Ð¸Ð¹ Ð´Ð»Ñ IOS/Android\r\nconst MODAL_CARD_FOR_MESSAGE = 'massage-all';\r\n\r\nclass UsersList extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        if (osName === IOS){\r\n            styleForButtons = 'ButtonDivIOS';\r\n        }\r\n        this.state = {\r\n            users: [],\r\n            draggable: false,\r\n            buttonText: 'ÐÐºÐ». Ð¿ÐµÑÐµÐ¼ÐµÑÐµÐ½Ð¸Ðµ/ÑÐ´Ð°Ð»ÐµÐ½Ð¸Ðµ',\r\n            cssAdminButton: 'turnOff',\r\n            cssSkipButton: 'OnlySkipButton',\r\n            CSSButtonDiv: styleForButtons,\r\n            CSSAddNewUserInput: 'turnOff',\r\n            CSSAddNewUserButton: 'turnOff',\r\n            cssAddAdminButton: 'turnOff',\r\n            cssShuffleButton: 'turnOff',\r\n            cssPlusAdminButton: 'turnOff',\r\n            CSSExitQueueButton: 'exitQueueButton',\r\n            CSSEditQueueButton: 'turnOff',\r\n            CSSAddPersonButton: 'turnOff',\r\n            cssButtonGiveAdmin: 'turnOff',\r\n            CSSActionsButton: '',\r\n            nameAdminButton: 'ÐÑÐ´Ð°ÑÑ Ð¿ÑÐ°Ð²Ð° Ð°Ð´Ð¼Ð¸Ð½Ð°',\r\n            selectables: false,\r\n            CSSMenuDropout: 'turnOff', //turnOff or CSSMenuDropout\r\n            openMenuButton: 'ÐÑÐºÑÑÑÑ Ð¼ÐµÐ½Ñ Ð´ÐµÐ¹ÑÑÐ²Ð¸Ð¹',\r\n            activeTab: 'user',\r\n            isAdmin: undefined,\r\n            isFirst: 'turnOff',\r\n            cssSpinner: 'defaultSpinner',\r\n            cssUsersList: 'turnOff',\r\n            exitAlertText: '',\r\n            CSSMenuButton: 'turnOff',\r\n            refreshButton: 'refreshButton',\r\n            addAdminForLast: false,\r\n            cssMessageButton: 'turnOff',\r\n            openProfile: true,\r\n        };\r\n        if( global.scheme.scheme === 'client_dark' || global.scheme.scheme === 'space_gray') {\r\n            this.setState({\r\n                CSSActionsButton: 'showActionsButtonDark'\r\n            });\r\n\r\n        }else{\r\n            this.setState({\r\n                CSSActionsButton: 'showActionsButton'\r\n            });\r\n        }\r\n        menuCounter = 1;\r\n        counter = 1;\r\n        counter2= 1;\r\n        ADDcounter = 1;\r\n    }\r\n\r\n    async componentDidMount() {\r\n        \tconsole.log('ÐÑÐ¿ÑÐ°Ð²Ð»ÐµÐ½ Ð·Ð°Ð¿ÑÐ¾Ñ Ð½Ð° Ð¿Ð¾Ð»ÑÑÐµÐ½Ð¸Ðµ ÑÐ¿Ð¸ÑÐºÐ° Ð»ÑÐ´ÐµÐ¹, Ð¿ÑÐ¸Ð½Ð°Ð´Ð»ÐµÐ¶Ð°ÑÐ¸Ñ Ðº Ð¾ÑÐµÑÐµÐ´Ð¸...')\r\n            this.setState({\r\n                CSSMenuButton: 'turnOff'\r\n            })\r\n\r\n            fetch('/getPeople', {\r\n        \t\tmethod: 'POST',\r\n        \t\theaders: {\r\n        \t\t\t'Accept': 'application/json',\r\n        \t\t\t'Content-Type': 'application/json',\r\n        \t\t},\r\n        \t\tbody: JSON.stringify({\r\n        \t\t\t\"queueCODE\": this.props.queueCode,\r\n                    \"url\": window.location.search.replace('?', '')\r\n        \t\t})\r\n        \t}).then(function (response) {\r\n        \t\treturn response.json();\r\n        \t})\r\n        \t\t.then(async function (data) {\r\n                    let usersArr = await getUsersData(data);\r\n        \t\t    return usersArr;\r\n\r\n        \t\t}).then((usersArr) =>{\r\n                this.setState({\r\n                    users: usersArr,\r\n                    cssSpinner: 'turnOff'\r\n                })\r\n                if(global.queue.isUserAdmin) {\r\n                    this.props.setCssEdit('editQueueButton');\r\n                }\r\n                this.setState({\r\n                    CSSMenuButton: '',\r\n                })\r\n            })\r\n        //ÐÑÐ»Ð¸ ÑÑÐ¾, ÑÐ¾ Ð¼Ð¾Ð¶Ð½Ð¾ Ð´Ð¾Ð±Ð°Ð²Ð¸ÑÑ .bind(this) Ð¿ÐµÑÐµÐ´ .catch\r\n\r\n        menuCounter = 1;\r\n\r\n        async function getUsersData(data){\r\n            console.log('ÐÐ¾Ð»ÑÑÐµÐ½Ð¸Ðµ Ð´Ð°Ð½Ð½ÑÑ Ð¾ Ð¿Ð¾Ð»ÑÐ·Ð¾Ð²Ð°ÑÐµÐ»ÑÑ ÑÐµÑÐµÐ· VK Bridge')\r\n            let tmpUsersArr = data;\r\n            let user = undefined;\r\n\r\n            //Ð·Ð°Ð¿ÑÐ¾Ñ Ð½Ð° Ð¿Ð¾Ð»ÑÑÐµÐ½Ð¸Ðµ Ð¸Ð½ÑÑ Ð¾ Ð»ÑÐ´ÑÑ\r\n            await fetch('/getUsersInfo', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Accept': 'application/json',\r\n                    'Content-Type': 'application/json',\r\n                },\r\n                body: JSON.stringify({\r\n                    \"url\": window.location.search.replace('?', ''),\r\n                    \"usersArr\": data,\r\n                })\r\n            }).then(function (response) {\r\n                return response.json();\r\n            }).then(function (result){\r\n                user = result.response;\r\n            })\r\n            for(let i = 0; i < tmpUsersArr.length; i++){\r\n                if(tmpUsersArr[i].notvkname === null) {\r\n\r\n                    if (global.queue.userID === user[i].id && tmpUsersArr[i].userplace === 1 && tmpUsersArr.length > 1) {\r\n                        global.queue.isFirstPlace = true;\r\n                    } else if (global.queue.userID === user[i].id && tmpUsersArr[i].userplace !== 1) {\r\n                        global.queue.isFirstPlace = false;\r\n                    }\r\n\r\n                    if(global.queue.userID === tmpUsersArr[i].userid && tmpUsersArr[i].isadmin){\r\n                        global.queue.isUserAdmin = true;\r\n\r\n                    }else if (global.queue.userID === tmpUsersArr[i].userid && !tmpUsersArr[i].isadmin){\r\n                        global.queue.isUserAdmin = false;\r\n                    }\r\n                    tmpUsersArr[i].name = user[i].last_name + \" \" + user[i].first_name;\r\n                    tmpUsersArr[i].avatar = user[i].photo_100;\r\n                }else{\r\n                    tmpUsersArr[i].name = tmpUsersArr[i].notvkname;\r\n                }\r\n            }\r\n            return tmpUsersArr;\r\n        }\r\n\r\n    }\r\n\r\n    //Ð¤ÑÐ½ÐºÑÐ¸Ñ Ð´Ð»Ñ Ð¿ÐµÑÐµÐ¼ÐµÑÐ¸Ð²Ð°Ð½Ð¸Ñ Ð¾ÑÐµÑÐµÐ´Ð¸\r\n    shuffle = (array) => {\r\n        for (let i = array.length - 1; i > 0; i--) {\r\n            let j = Math.floor(Math.random() * (i + 1)); // ÑÐ»ÑÑÐ°Ð¹Ð½ÑÐ¹ Ð¸Ð½Ð´ÐµÐºÑ Ð¾Ñ 0 Ð´Ð¾ i\r\n\r\n            // let t = array[i]; array[i] = array[j]; array[j] = t\r\n            [array[i], array[j]] = [array[j], array[i]];\r\n        }\r\n        return array;\r\n    }\r\n\r\n    adminButton = () => {\r\n        if (counter2 % 2 === 0){\r\n            this.setState({\r\n                draggable: false,\r\n                buttonText: 'ÐÐºÐ». Ð¿ÐµÑÐµÐ¼ÐµÑÐµÐ½Ð¸Ðµ/ÑÐ´Ð°Ð»ÐµÐ½Ð¸Ðµ',\r\n            });\r\n\r\n        }else {\r\n            // if (this.state.nameAdminButton === 'Ð¡ÐºÑÑÑÑ Ð²ÑÐ´Ð°ÑÑ Ð¿ÑÐ°Ð² Ð°Ð´Ð¼Ð¸Ð½Ð°') {counter++}\r\n            this.setState({\r\n                selectables: false,\r\n                nameAdminButton: 'ÐÑÐ´Ð°ÑÑ Ð¿ÑÐ°Ð²Ð° Ð°Ð´Ð¼Ð¸Ð½Ð°',\r\n                draggable: true,\r\n                buttonText: 'ÐÑÐºÐ». Ð¿ÐµÑÐµÐ¼ÐµÑÐµÐ½Ð¸Ðµ/ÑÐ´Ð°Ð»ÐµÐ½Ð¸Ðµ',\r\n                CSSMenuDropout: 'turnOff',\r\n                openMenuButton: 'ÐÑÐºÑÑÑÑ Ð¼ÐµÐ½Ñ Ð´ÐµÐ¹ÑÑÐ²Ð¸Ð¹',\r\n                cssButtonGiveAdmin: 'turnOff',\r\n            });\r\n            menuCounter++;\r\n        }\r\n        counter2++;\r\n        if (this.state.CSSAddNewUserInput !== 'turnOff') {\r\n            this.setState({\r\n                CSSAddNewUserInput: 'turnOff',\r\n                CSSAddNewUserButton: 'turnOff',\r\n            });\r\n            ADDcounter++;\r\n        }\r\n        if (this.state.cssButtonGiveAdmin !== 'turnOff') {\r\n            this.setState({\r\n                nameAdminButton: 'ÐÑÐ´Ð°ÑÑ Ð¿ÑÐ°Ð²Ð° Ð°Ð´Ð¼Ð¸Ð½Ð°',\r\n                selectables: false,\r\n                cssButtonGiveAdmin: 'turnOff',\r\n            })\r\n            counter++;\r\n        }\r\n    }\r\n\r\n    copyToClipboard = (text) => {\r\n        let dummy = document.createElement(\"textarea\");\r\n        // to avoid breaking orgain page when copying more words\r\n        // cant copy when adding below this code\r\n        // dummy.style.display = 'none'\r\n        document.body.appendChild(dummy);\r\n        //Be careful if you use texarea. setAttribute('value', value), which works with \"input\" does not work with \"textarea\". â Eduard\r\n        dummy.value = text;\r\n        dummy.select();\r\n        document.execCommand(\"copy\");\r\n        document.body.removeChild(dummy);\r\n    }\r\n\r\n    addAdminButton = () => {\r\n        this.setState({\r\n            openProfile: false,\r\n        })\r\n        if (this.state.addAdminForLast && counter % 2 === 0) {\r\n            counter++;\r\n        }\r\n        if (counter % 2 === 0){\r\n            if (osName === IOS){\r\n                styleForButtons = 'ButtonDivIOS';\r\n            }\r\n\r\n            else {\r\n                styleForButtons = 'ButtonsDiv';\r\n            }\r\n            this.setState({\r\n                cssPlusAdminButton: 'turnOff',\r\n                nameAdminButton: 'ÐÑÐ´Ð°ÑÑ Ð¿ÑÐ°Ð²Ð° Ð°Ð´Ð¼Ð¸Ð½Ð°',\r\n                selectables: false,\r\n                cssButtonGiveAdmin: 'turnOff',\r\n                CSSButtonDiv: styleForButtons,\r\n            });\r\n            counter++;\r\n            this.setState({\r\n                openProfile: true,\r\n            });\r\n        }else {\r\n            if (this.state.buttonText === 'ÐÑÐºÐ». Ð¿ÐµÑÐµÐ¼ÐµÑÐµÐ½Ð¸Ðµ/ÑÐ´Ð°Ð»ÐµÐ½Ð¸Ðµ') {counter2++}\r\n            if (osName === IOS){\r\n                styleForButtons = 'ButtonDivIOS2';\r\n                styleForButtonAddAdmin = 'giveAdminIOS'\r\n            }\r\n            else {\r\n                styleForButtons = 'ButtonsDiv2';\r\n                styleForButtonAddAdmin = 'giveAdmin'\r\n            }\r\n            this.setState({\r\n                CSSButtonDiv: styleForButtons,\r\n                cssPlusAdminButton: '123',\r\n                nameAdminButton: 'Ð¡ÐºÑÑÑÑ Ð²ÑÐ´Ð°ÑÑ Ð¿ÑÐ°Ð² Ð°Ð´Ð¼Ð¸Ð½Ð°',\r\n                selectables: true,\r\n                CSSMenuDropout: 'turnOff',\r\n                openMenuButton: 'ÐÑÐºÑÑÑÑ Ð¼ÐµÐ½Ñ Ð´ÐµÐ¹ÑÑÐ²Ð¸Ð¹',\r\n                cssButtonGiveAdmin: styleForButtonAddAdmin,\r\n                draggable: false,\r\n                buttonText: 'ÐÐºÐ». Ð¿ÐµÑÐµÐ¼ÐµÑÐµÐ½Ð¸Ðµ/ÑÐ´Ð°Ð»ÐµÐ½Ð¸Ðµ',\r\n            });\r\n            menuCounter++;\r\n            counter++;\r\n        }\r\n        if (this.state.CSSAddNewUserInput !== 'turnOff' && !this.state.addAdminForLast) {\r\n            this.setState({\r\n                CSSAddNewUserInput: 'turnOff',\r\n                CSSAddNewUserButton: 'turnOff',\r\n            });\r\n            ADDcounter++;\r\n        }\r\n        this.setState({\r\n            addAdminForLast: false,\r\n        })\r\n    }\r\n\r\n    closePopout = () => {\r\n        this.props.setPopout(null);\r\n        if (osName !== IOS) {\r\n            this.props.history.pop()\r\n        }\r\n    }\r\n\r\n    shuffleAlert = () => {\r\n        if (osName !== IOS) {\r\n            this.props.history.push(\"alert\");\r\n            window.history.pushState({history: \"alert\"}, \"alert\");\r\n        }\r\n        this.props.setPopout(\r\n            <Alert\r\n                actionsLayout=\"vertical\"\r\n                actions={[{\r\n                    title: 'ÐÐµÑÐµÐ¼ÐµÑÐ°ÑÑ',\r\n                    autoclose: true,\r\n                    mode: 'destructive',\r\n                    action: () => {\r\n                        let newArr = this.shuffle(this.state.users);\r\n                        // if (osName !== IOS) {\r\n                        //     this.props.history.pop()\r\n                        // }\r\n                        this.setState({\r\n                            users: newArr,\r\n                            openMenuButton: 'ÐÑÐºÑÑÑÑ Ð¼ÐµÐ½Ñ Ð´ÐµÐ¹ÑÑÐ²Ð¸Ð¹',\r\n                            CSSMenuDropout: 'turnOff',\r\n                            nameAdminButton: 'ÐÑÐ´Ð°ÑÑ Ð¿ÑÐ°Ð²Ð° Ð°Ð´Ð¼Ð¸Ð½Ð°',\r\n                        });\r\n                        if (this.state.CSSAddNewUserInput !== 'turnOff') {\r\n                            ADDcounter++;\r\n                            this.setState({\r\n                                CSSAddNewUserInput: 'turnOff',\r\n                                CSSAddNewUserButton: 'turnOff',\r\n                            });\r\n                        }\r\n                        if (this.state.cssButtonGiveAdmin !== 'turnOff') {\r\n                            counter++;\r\n                            this.setState({\r\n                                nameAdminButton: 'ÐÑÐ´Ð°ÑÑ Ð¿ÑÐ°Ð²Ð° Ð°Ð´Ð¼Ð¸Ð½Ð°',\r\n                                selectables: false,\r\n                                cssButtonGiveAdmin: 'turnOff',\r\n                            })\r\n                        }\r\n                        if (this.state.buttonText === 'ÐÑÐºÐ». Ð¿ÐµÑÐµÐ¼ÐµÑÐµÐ½Ð¸Ðµ/ÑÐ´Ð°Ð»ÐµÐ½Ð¸Ðµ') {\r\n                            counter2++;\r\n                            this.setState({\r\n                                draggable: false,\r\n                                buttonText: 'ÐÐºÐ». Ð¿ÐµÑÐµÐ¼ÐµÑÐµÐ½Ð¸Ðµ/ÑÐ´Ð°Ð»ÐµÐ½Ð¸Ðµ',\r\n                            });\r\n                        }\r\n\r\n                        this.changeUsersPositionOnServer(this.state.users);\r\n                        menuCounter++;\r\n                    }\r\n                }, {\r\n                    title: 'ÐÑÐ¼ÐµÐ½Ð°',\r\n                    autoclose: true,\r\n                    mode: 'cancel',\r\n                    action:() => {\r\n                        // if (osName !== IOS) {\r\n                        //     this.props.history.pop()\r\n                        // }\r\n                    }\r\n                }]}\r\n                onClose={this.closePopout}\r\n            >\r\n                <h2>ÐÐ¾Ð´ÑÐ²ÐµÑÐ´Ð¸ÑÐµ Ð´ÐµÐ¹ÑÑÐ²Ð¸Ðµ</h2>\r\n                <p>ÐÑ ÑÐ²ÐµÑÐµÐ½Ñ, ÑÑÐ¾ ÑÐ¾ÑÐ¸ÑÐµ Ð¿ÐµÑÐµÐ¼ÐµÑÐ°ÑÑ Ð¾ÑÐµÑÐµÐ´Ñ?</p>\r\n            </Alert>\r\n        )\r\n    }\r\n\r\n    skipCommand = () => {\r\n        fetch('/skipPosition', {\r\n            method: 'POST',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json',\r\n            },\r\n            body: JSON.stringify({\r\n                \"queueCODE\": this.props.queueCode,\r\n                \"url\": window.location.search.replace('?', '')\r\n            })\r\n        }).then(function (response) {\r\n            return response.json();\r\n        })\r\n            .then(function (data) {\r\n            }).catch((e) => {\r\n            // this.props.setSnackbar(<Snackbar\r\n            //     layout=\"vertical\"\r\n            //     onClose={() => this.props.setSnackbar(null)}\r\n            //     before={<Avatar size={24}><Icon16Clear fill=\"red\" width={14} height={14}/></Avatar>}\r\n            // >\r\n            //     ÐÑÐ¸Ð±ÐºÐ° ÑÐ¾ÐµÐ´Ð¸Ð½ÐµÐ½Ð¸Ñ! ÐÑÐ¾Ð²ÐµÑÑÑÐµ Ð¸Ð½ÑÐµÑÐ½ÐµÑ!\r\n            // </Snackbar>);\r\n        });\r\n    }\r\n\r\n    skipAlert = () => {\r\n        if (osName !== IOS) {\r\n            this.props.history.push(\"alert\");\r\n            window.history.pushState({history: \"alert\"}, \"alert\");\r\n        }\r\n        this.props.setPopout(\r\n            <Alert\r\n                actionsLayout=\"vertical\"\r\n                actions={[{\r\n                    title: 'ÐÐ¿ÑÑÑÐ¸ÑÑÑÑ Ð½Ð¸Ð¶Ðµ',\r\n                    autoclose: true,\r\n                    mode: 'destructive',\r\n                    action: () => {\r\n                        // if (osName !== IOS) {\r\n                        //     this.props.history.pop()\r\n                        // }\r\n                        let usersArr = this.state.users;\r\n                        global.queue.isFirstPlace = false;\r\n                        for(let i =0; i<usersArr.length; i++){\r\n                            if (usersArr[i].userid === this.props.fetchedUser.id){\r\n                                if (i >= usersArr.length - 2 ) {\r\n                                    this.setState({cssSkipButton: 'turnOff'})\r\n                                }\r\n                                else {\r\n                                    this.setState({cssSkipButton: 'OnlySkipButton'})\r\n                                }\r\n                                let tmp = usersArr[i + 1];\r\n                                usersArr[i + 1] = usersArr[i];\r\n                                usersArr[i] = tmp;\r\n                                this.setState({\r\n                                    users: usersArr\r\n                                })\r\n                                break;\r\n                            }\r\n                        }\r\n                        console.log('ÐÑÐ¾Ð¿ÑÑÐº Ð¾Ð´Ð½Ð¾Ð¹ Ð¿Ð¾Ð·Ð¸ÑÐ¸Ð¸...')\r\n                        this.skipCommand();\r\n                    }\r\n                }, {\r\n                    title: 'ÐÑÐ¼ÐµÐ½Ð°',\r\n                    autoclose: true,\r\n                    mode: 'cancel',\r\n                    action:() => {\r\n                        // if (osName !== IOS) {\r\n                        //     this.props.history.pop()\r\n                        // }\r\n                    }\r\n                }]}\r\n                onClose={this.closePopout}\r\n            >\r\n                <h2>ÐÐ¾Ð´ÑÐ²ÐµÑÐ´Ð¸ÑÐµ Ð´ÐµÐ¹ÑÑÐ²Ð¸Ðµ</h2>\r\n                <p>ÐÑ ÑÐ²ÐµÑÐµÐ½Ñ, ÑÑÐ¾ ÑÐ¾ÑÐ¸ÑÐµ Ð¾Ð¿ÑÑÑÐ¸ÑÑÑÑ Ð½Ð° Ð¾Ð´Ð½Ñ Ð¿Ð¾Ð·Ð¸ÑÐ¸Ñ Ð½Ð¸Ð¶Ðµ?</p>\r\n            </Alert>\r\n        )\r\n    }\r\n\r\n    messageToAll = () => {\r\n        global.queue.codeForMsg = this.props.queueCode\r\n        if (osName !== IOS) {\r\n            this.props.history.push(\"message\");\r\n            window.history.pushState({history: \"message\"}, \"message\");\r\n        }\r\n        this.setState({\r\n            CSSMenuDropout: 'turnOff',\r\n            openMenuButton: 'ÐÑÐºÑÑÑÑ Ð¼ÐµÐ½Ñ Ð´ÐµÐ¹ÑÑÐ²Ð¸Ð¹',\r\n        });\r\n        menuCounter++;\r\n        if (this.state.cssButtonGiveAdmin !== 'turnOff') {\r\n            this.setState({\r\n                nameAdminButton: 'ÐÑÐ´Ð°ÑÑ Ð¿ÑÐ°Ð²Ð° Ð°Ð´Ð¼Ð¸Ð½Ð°',\r\n                selectables: false,\r\n                cssButtonGiveAdmin: 'turnOff',\r\n            })\r\n            counter++;\r\n        }\r\n        if (this.state.buttonText === 'ÐÑÐºÐ». Ð¿ÐµÑÐµÐ¼ÐµÑÐµÐ½Ð¸Ðµ/ÑÐ´Ð°Ð»ÐµÐ½Ð¸Ðµ') {\r\n            counter2++;\r\n            this.setState({\r\n                draggable: false,\r\n                buttonText: 'ÐÐºÐ». Ð¿ÐµÑÐµÐ¼ÐµÑÐµÐ½Ð¸Ðµ/ÑÐ´Ð°Ð»ÐµÐ½Ð¸Ðµ',\r\n            });\r\n        }\r\n        this.props.setActiveModal(MODAL_CARD_FOR_MESSAGE)\r\n    }\r\n\r\n    exitAlert = () => {\r\n        if (osName !== IOS) {\r\n            this.props.history.push(\"alert\");\r\n            window.history.pushState({history: \"alert\"}, \"alert\");\r\n        }\r\n\r\n        //ÐÑÐ¾Ð²ÐµÑÐºÐ°, ÑÑÑÐ¾Ð±Ñ Ð±ÑÐ» ÑÐ¾ÑÑ Ð±Ñ Ð¾Ð´Ð¸Ð½ Ð°Ð´Ð¼Ð¸Ð½\r\n        let adminsCounter = 0;\r\n        let pplCounter = 0;\r\n        for(let i = 0; i< this.state.users.length; i++){\r\n            if(this.state.users[i].isadmin && this.state.users[i].notvkname === null){\r\n                adminsCounter++;\r\n            }\r\n        }\r\n\r\n        for(let i = 0; i< this.state.users.length; i++){\r\n            if(this.state.users[i].notvkname === null){\r\n                pplCounter++;\r\n            }\r\n        }\r\n\r\n        if(adminsCounter === 1 && global.queue.isUserAdmin && pplCounter !== 1){\r\n            this.props.setPopout(\r\n                <Alert\r\n                    actionsLayout=\"vertical\"\r\n                    actions={[{\r\n                        title: 'ÐÐµÑÐµÐ´Ð°ÑÑ Ð¿ÑÐ°Ð²Ð° Ð°Ð´Ð¼Ð¸Ð½Ð°',\r\n                        autoclose: true,\r\n                        mode: 'default',\r\n                        action: () => {\r\n                            this.setState({\r\n                                addAdminForLast: true,\r\n                                openMenuButton: 'ÐÑÐºÑÑÑÑ Ð¼ÐµÐ½Ñ Ð´ÐµÐ¹ÑÑÐ²Ð¸Ð¹',\r\n                                CSSMenuDropout: 'turnOff',\r\n                            });\r\n                            this.addAdminButton();\r\n\r\n                        }\r\n                    }, {\r\n                        title: 'ÐÑÐ¼ÐµÐ½Ð°',\r\n                        autoclose: true,\r\n                        mode: 'cancel'\r\n                    }]}\r\n                    onClose={this.closePopout}\r\n                >\r\n                    <h2>ÐÐµÐ²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ Ð¿Ð¾ÐºÐ¸Ð½ÑÑÑ Ð¾ÑÐµÑÐµÐ´Ñ</h2>\r\n                    <p>ÐÑ ÐµÐ´Ð¸Ð½ÑÑÐ²ÐµÐ½Ð½ÑÐ¹ Ð°Ð´Ð¼Ð¸Ð½! ÐÐ°Ð·Ð½Ð°ÑÑÑÐµ ÐºÐ¾Ð³Ð¾-Ð½Ð¸Ð±ÑÐ´Ñ Ð°Ð´Ð¼Ð¸Ð½Ð¾Ð¼, ÑÑÐ¾Ð±Ñ Ð¿Ð¾ÐºÐ¸Ð½ÑÑÑ Ð¾ÑÐµÑÐµÐ´Ñ.</p>\r\n                </Alert>\r\n            )\r\n\r\n        }else {\r\n\r\n            this.props.setPopout(\r\n                <Alert\r\n                    actionsLayout=\"vertical\"\r\n                    actions={[{\r\n                        title: 'ÐÐ¾ÐºÐ¸Ð½ÑÑÑ Ð¾ÑÐµÑÐµÐ´Ñ',\r\n                        autoclose: true,\r\n                        mode: 'destructive',\r\n                        action: () => {\r\n                            this.setState({\r\n                                openMenuButton: 'ÐÑÐºÑÑÑÑ Ð¼ÐµÐ½Ñ Ð´ÐµÐ¹ÑÑÐ²Ð¸Ð¹',\r\n                                CSSMenuDropout: 'turnOff',\r\n                            });\r\n                            menuCounter++;\r\n                            console.log('ÐÑÐ¿ÑÐ°Ð²Ð»ÐµÐ½ Ð·Ð°Ð¿ÑÐ¾Ñ Ð½Ð° Ð²ÑÑÐ¾Ð´ Ð¸Ð· Ð¾ÑÐµÑÐµÐ´Ð¸...');\r\n                            fetch('/exitQueue', {\r\n                                method: 'POST',\r\n                                headers: {\r\n                                    'Accept': 'application/json',\r\n                                    'Content-Type': 'application/json',\r\n                                },\r\n                                body: JSON.stringify({\r\n                                    \"queueCODE\": this.props.queueCode,\r\n                                    \"url\": window.location.search.replace('?', '')\r\n                                })\r\n                            }).then(function (response) {\r\n                                return response.json();\r\n                            })\r\n                                .then(function (data) {\r\n                                }).catch((e) => {\r\n                                // this.props.setSnackbar(<Snackbar\r\n                                //     layout=\"vertical\"\r\n                                //     onClose={() => this.props.setSnackbar(null)}\r\n                                //     before={<Avatar size={24}><Icon16Clear fill=\"red\" width={14} height={14}/></Avatar>}\r\n                                // >\r\n                                //     ÐÑÐ¸Ð±ÐºÐ° ÑÐ¾ÐµÐ´Ð¸Ð½ÐµÐ½Ð¸Ñ! ÐÑÐ¾Ð²ÐµÑÑÑÐµ Ð¸Ð½ÑÐµÑÐ½ÐµÑ!\r\n                                // </Snackbar>);\r\n                            });\r\n                            this.props.setActivePanel('home');\r\n                            // this.props.history.pop()\r\n                            if (osName !== IOS) {\r\n                                this.props.history.pop()\r\n                            }\r\n                        }\r\n                    }, {\r\n                        title: 'ÐÑÐ¼ÐµÐ½Ð°',\r\n                        autoclose: true,\r\n                        mode: 'cancel',\r\n                        action: () => {\r\n                            // if (osName !== IOS) {\r\n                            //     this.props.history.pop()\r\n                            // }\r\n                        }\r\n                    }]}\r\n                    onClose={this.closePopout}\r\n                >\r\n                    <h2>ÐÐ¾Ð´ÑÐ²ÐµÑÐ´Ð¸ÑÐµ Ð´ÐµÐ¹ÑÑÐ²Ð¸Ðµ</h2>\r\n                    <p>{this.state.exitAlertText}</p>\r\n                </Alert>);\r\n        }\r\n    }\r\n\r\n    firstToLast = () => {\r\n        if (osName !== IOS) {\r\n            this.props.history.push(\"alert\");\r\n            window.history.pushState({history: \"alert\"}, \"alert\");\r\n        }\r\n        this.props.setPopout(\r\n            <Alert\r\n                actionsLayout=\"vertical\"\r\n                actions={[{\r\n                    title: 'Ð ÐºÐ¾Ð½ÐµÑ Ð¾ÑÐµÑÐµÐ´Ð¸',\r\n                    autoclose: true,\r\n                    mode: 'destructive',\r\n                    action: () => {\r\n                        // if (osName !== IOS) {\r\n                        //     this.props.history.pop()\r\n                        // }\r\n                        this.setState({\r\n                            openMenuButton: 'ÐÑÐºÑÑÑÑ Ð¼ÐµÐ½Ñ Ð´ÐµÐ¹ÑÑÐ²Ð¸Ð¹',\r\n                            CSSMenuDropout: 'turnOff',\r\n                        })\r\n\r\n        fetch('/firstToLast', {\r\n            method: 'POST',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json',\r\n            },\r\n            body: JSON.stringify({\r\n                \"queueCODE\": this.props.queueCode,\r\n                \"url\": window.location.search.replace('?', '')\r\n            })\r\n        }).then(function (response) {\r\n            return response.json();\r\n        })\r\n            .then(async function (data) {\r\n                let tmpUsersArr = data;\r\n                let user = undefined;\r\n\r\n                //todo Ð·Ð°Ð¿ÑÐ¾Ñ Ð½Ð° Ð¿Ð¾Ð»ÑÑÐµÐ½Ð¸Ðµ Ð¸Ð½ÑÑ Ð¾ Ð»ÑÐ´ÑÑ\r\n                await fetch('/getUsersInfo', {\r\n                    method: 'POST',\r\n                    headers: {\r\n                        'Accept': 'application/json',\r\n                        'Content-Type': 'application/json',\r\n                    },\r\n                    body: JSON.stringify({\r\n                        \"url\": window.location.search.replace('?', ''),\r\n                        \"usersArr\": data,\r\n                    })\r\n                }).then(function (response) {\r\n                    return response.json();\r\n                }).then(function (result){\r\n                    user = result.response;\r\n                })\r\n                for(let i = 0; i < tmpUsersArr.length; i++){\r\n                    if(tmpUsersArr[i].notvkname === null) {\r\n\r\n                        if (global.queue.userID === user[i].id && tmpUsersArr[i].userplace === 1 && tmpUsersArr.length > 1) {\r\n                            global.queue.isFirstPlace = true;\r\n                        } else if (global.queue.userID === user[i].id && tmpUsersArr[i].userplace !== 1) {\r\n                            global.queue.isFirstPlace = false;\r\n                        }\r\n\r\n                        if(global.queue.userID === tmpUsersArr[i].userid && tmpUsersArr[i].isadmin){\r\n                            global.queue.isUserAdmin = true;\r\n\r\n                        }else if (global.queue.userID === tmpUsersArr[i].userid && !tmpUsersArr[i].isadmin){\r\n                            global.queue.isUserAdmin = false;\r\n                        }\r\n                        tmpUsersArr[i].name = user[i].last_name + \" \" + user[i].first_name;\r\n                        tmpUsersArr[i].avatar = user[i].photo_100;\r\n                    }else{\r\n                        tmpUsersArr[i].name = tmpUsersArr[i].notvkname;\r\n                    }\r\n                }\r\n                return tmpUsersArr;\r\n\r\n            }).then((usersArr) =>{\r\n            this.setState({\r\n                users: usersArr\r\n            })\r\n        }).catch((e) => {\r\n            // this.props.setSnackbar(<Snackbar\r\n            //     layout=\"vertical\"\r\n            //     onClose={() => this.props.setSnackbar(null)}\r\n            //     before={<Avatar size={24}><Icon16Clear fill=\"red\" width={14} height={14}/></Avatar>}\r\n            // >\r\n            //     ÐÑÐ¸Ð±ÐºÐ° ÑÐ¾ÐµÐ´Ð¸Ð½ÐµÐ½Ð¸Ñ! ÐÑÐ¾Ð²ÐµÑÑÑÐµ Ð¸Ð½ÑÐµÑÐ½ÐµÑ!\r\n            // </Snackbar>);\r\n        });\r\n    }} , {\r\n                    title: 'ÐÑÐ¼ÐµÐ½Ð°',\r\n                    autoclose: true,\r\n                    mode: 'cancel',\r\n                    action:() => {\r\n                        // if (osName !== IOS) {\r\n                        //     this.props.history.pop()\r\n                        // }\r\n                    }\r\n                }]}\r\n                onClose={this.closePopout}\r\n            >\r\n                <h2>ÐÐ¾Ð´ÑÐ²ÐµÑÐ´Ð¸ÑÐµ Ð´ÐµÐ¹ÑÑÐ²Ð¸Ðµ</h2>\r\n                <p>ÐÑ ÑÐ²ÐµÑÐµÐ½Ñ, ÑÑÐ¾ ÑÐ¾ÑÐ¸ÑÐµ ÑÐ¿ÑÑÑÐ¸ÑÑÑÑ Ð² ÐºÐ¾Ð½ÐµÑ Ð¾ÑÐµÑÐµÐ´Ð¸?</p>\r\n            </Alert>\r\n        )\r\n    }\r\n\r\n\r\n    changeUsersPositionOnServer = (usersArray) => {\r\n        if(usersArray.length > 1) {\r\n            console.log('ÐÑÐ¿ÑÐ°Ð²Ð»ÐµÐ½ Ð·Ð°Ð¿ÑÐ¾Ñ Ð½Ð° Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ðµ Ð¿Ð¾ÑÑÐ´ÐºÐ° Ð»ÑÐ´ÐµÐ¹ Ð² Ð¾ÑÐµÑÐµÐ´Ð¸...');\r\n            fetch('/changeUsersOrder', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Accept': 'application/json',\r\n                    'Content-Type': 'application/json',\r\n                },\r\n                body: JSON.stringify({\r\n                    \"usersArray\": usersArray,\r\n                    \"queueCODE\": this.props.queueCode,\r\n                    \"url\": window.location.search.replace('?', '')\r\n                })\r\n            }).then(function (response) {\r\n                return response.json();\r\n            })\r\n                .then(async function (data) {\r\n                    let tmpUsersArr = data;\r\n                    let user = undefined;\r\n\r\n                    //todo Ð·Ð°Ð¿ÑÐ¾Ñ Ð½Ð° Ð¿Ð¾Ð»ÑÑÐµÐ½Ð¸Ðµ Ð¸Ð½ÑÑ Ð¾ Ð»ÑÐ´ÑÑ\r\n                    await fetch('/getUsersInfo', {\r\n                        method: 'POST',\r\n                        headers: {\r\n                            'Accept': 'application/json',\r\n                            'Content-Type': 'application/json',\r\n                        },\r\n                        body: JSON.stringify({\r\n                            \"url\": window.location.search.replace('?', ''),\r\n                            \"usersArr\": data,\r\n                        })\r\n                    }).then(function (response) {\r\n                        return response.json();\r\n                    }).then(function (result) {\r\n                        user = result.response;\r\n                    })\r\n                    for (let i = 0; i < tmpUsersArr.length; i++) {\r\n                        if (tmpUsersArr[i].notvkname === null) {\r\n\r\n                            if (global.queue.userID === user[i].id && tmpUsersArr[i].userplace === 1 && tmpUsersArr.length > 1) {\r\n                                global.queue.isFirstPlace = true;\r\n                            } else if (global.queue.userID === user[i].id && tmpUsersArr[i].userplace !== 1) {\r\n                                global.queue.isFirstPlace = false;\r\n                            }\r\n\r\n                            if (global.queue.userID === tmpUsersArr[i].userid && tmpUsersArr[i].isadmin) {\r\n                                global.queue.isUserAdmin = true;\r\n\r\n                            } else if (global.queue.userID === tmpUsersArr[i].userid && !tmpUsersArr[i].isadmin) {\r\n                                global.queue.isUserAdmin = false;\r\n                            }\r\n                            tmpUsersArr[i].name = user[i].last_name + \" \" + user[i].first_name;\r\n                            tmpUsersArr[i].avatar = user[i].photo_100;\r\n                        } else {\r\n                            tmpUsersArr[i].name = tmpUsersArr[i].notvkname;\r\n                        }\r\n                    }\r\n                    return tmpUsersArr;\r\n\r\n                }).then((usersArr) => {\r\n                this.setState({\r\n                    users: usersArr\r\n                })\r\n            }).catch((e) => {\r\n                // this.props.setSnackbar(<Snackbar\r\n                //     layout=\"vertical\"\r\n                //     onClose={() => this.props.setSnackbar(null)}\r\n                //     before={<Avatar size={24}><Icon16Clear fill=\"red\" width={14} height={14}/></Avatar>}\r\n                // >\r\n                //     ÐÑÐ¸Ð±ÐºÐ° ÑÐ¾ÐµÐ´Ð¸Ð½ÐµÐ½Ð¸Ñ! ÐÑÐ¾Ð²ÐµÑÑÑÐµ Ð¸Ð½ÑÐµÑÐ½ÐµÑ!\r\n                // </Snackbar>);\r\n            })\r\n        }\r\n    }\r\n\r\n    openMenu = () => {\r\n        let usersArr = this.state.users;\r\n        for(let i =0; i<usersArr.length; i++){\r\n            if (usersArr[i].userid === this.props.fetchedUser.id){\r\n                if (i >= usersArr.length - 1 ) {\r\n                    this.setState({cssSkipButton: 'turnOff'})\r\n                }\r\n                else {\r\n                    this.setState({cssSkipButton: 'OnlySkipButton'})\r\n                }}}\r\n        if(this.state.activeTab === 'admin'){\r\n            this.setState({cssSkipButton: 'turnOff'});\r\n        }\r\n        if (menuCounter % 2 !== 0){\r\n            if(global.scheme.scheme === 'client_dark' || global.scheme.scheme === 'space_gray') {\r\n                this.setState({\r\n                    openMenuButton: 'ÐÐ°ÐºÑÑÑÑ Ð¼ÐµÐ½Ñ Ð´ÐµÐ¹ÑÑÐ²Ð¸Ð¹',\r\n                    CSSMenuDropout: 'CSSMenuDropoutDark',\r\n                })\r\n\r\n            }else{\r\n                this.setState({\r\n                    openMenuButton: 'ÐÐ°ÐºÑÑÑÑ Ð¼ÐµÐ½Ñ Ð´ÐµÐ¹ÑÑÐ²Ð¸Ð¹',\r\n                    CSSMenuDropout: 'CSSMenuDropout',\r\n                })\r\n\r\n            }\r\n        }else{\r\n            this.setState({\r\n                openMenuButton: 'ÐÑÐºÑÑÑÑ Ð¼ÐµÐ½Ñ Ð´ÐµÐ¹ÑÑÐ²Ð¸Ð¹',\r\n                CSSMenuDropout: 'turnOff',\r\n            })\r\n        }\r\n        menuCounter++;\r\n    }\r\n\r\n    reqAdminUsers = () => {\r\n        if (osName === IOS){\r\n            styleForButtons = 'ButtonDivIOS';\r\n        } else {\r\n            styleForButtons = 'ButtonsDiv';\r\n        }\r\n        this.setState({\r\n            cssButtonGiveAdmin: 'turnOff',\r\n            selectables: false,\r\n            nameAdminButton: 'ÐÑÐ´Ð°ÑÑ Ð¿ÑÐ°Ð²Ð° Ð°Ð´Ð¼Ð¸Ð½Ð°',\r\n            CSSButtonDiv: styleForButtons,\r\n            openProfile: true,\r\n        })\r\n        this.state.users.map(info => {\r\n                let a = document.getElementById(info.name)\r\n                if (a.checked) {\r\n                    info.isadmin = true;\r\n                }\r\n        });\r\n        counter++\r\n\r\n        console.log('ÐÑÐ¿ÑÐ°Ð²Ð»ÐµÐ½ Ð·Ð°Ð¿ÑÐ¾Ñ Ð½Ð° Ð²ÑÐ´Ð°ÑÑ Ð°Ð´Ð¼Ð¸Ð½Ð¾Ðº...');\r\n        fetch('/addNewAdmins', {\r\n            method: 'POST',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json',\r\n            },\r\n            body: JSON.stringify({\r\n                \"usersArray\": this.state.users,\r\n                \"queueCODE\": this.props.queueCode,\r\n                \"url\": window.location.search.replace('?', '')\r\n            })\r\n        }).then(function (response) {\r\n            return response.json();\r\n        })\r\n            .then(async function (data) {\r\n                let tmpUsersArr = data;\r\n                let user = undefined;\r\n\r\n                await fetch('/getUsersInfo', {\r\n                    method: 'POST',\r\n                    headers: {\r\n                        'Accept': 'application/json',\r\n                        'Content-Type': 'application/json',\r\n                    },\r\n                    body: JSON.stringify({\r\n                        \"url\": window.location.search.replace('?', ''),\r\n                        \"usersArr\": data,\r\n                    })\r\n                }).then(function (response) {\r\n                    return response.json();\r\n                }).then(function (result){\r\n                    user = result.response;\r\n                })\r\n                for(let i = 0; i < tmpUsersArr.length; i++){\r\n                    if(tmpUsersArr[i].notvkname === null) {\r\n\r\n                        if (global.queue.userID === user[i].id && tmpUsersArr[i].userplace === 1 && tmpUsersArr.length > 1) {\r\n                            global.queue.isFirstPlace = true;\r\n                        } else if (global.queue.userID === user[i].id && tmpUsersArr[i].userplace !== 1) {\r\n                            global.queue.isFirstPlace = false;\r\n                        }\r\n\r\n                        if(global.queue.userID === tmpUsersArr[i].userid && tmpUsersArr[i].isadmin){\r\n                            global.queue.isUserAdmin = true;\r\n\r\n                        }else if (global.queue.userID === tmpUsersArr[i].userid && !tmpUsersArr[i].isadmin){\r\n                            global.queue.isUserAdmin = false;\r\n                        }\r\n                        tmpUsersArr[i].name = user[i].last_name + \" \" + user[i].first_name;\r\n                        tmpUsersArr[i].avatar = user[i].photo_100;\r\n                    }else{\r\n                        tmpUsersArr[i].name = tmpUsersArr[i].notvkname;\r\n                    }\r\n                }\r\n                return tmpUsersArr;\r\n\r\n            }).then((usersArr) =>{\r\n            this.setState({\r\n                users: usersArr\r\n            }).catch((e) => {\r\n                // this.props.setSnackbar(<Snackbar\r\n                //     layout=\"vertical\"\r\n                //     onClose={() => this.props.setSnackbar(null)}\r\n                //     before={<Avatar size={24}><Icon16Clear fill=\"red\" width={14} height={14}/></Avatar>}\r\n                // >\r\n                //     ÐÑÐ¸Ð±ÐºÐ° ÑÐ¾ÐµÐ´Ð¸Ð½ÐµÐ½Ð¸Ñ! ÐÑÐ¾Ð²ÐµÑÑÑÐµ Ð¸Ð½ÑÐµÑÐ½ÐµÑ!\r\n                // </Snackbar>);\r\n            })\r\n        })\r\n    }\r\n\r\n    openProfile = (id) =>{\r\n        if(this.state.openProfile){\r\n                const link = document.createElement('a')\r\n                link.href = \"http://vk.com/id\"+id\r\n                link.setAttribute('target', '_blank')\r\n                link.click()\r\n        }\r\n    }\r\n\r\n    AddPersonNotFromVK = () => {\r\n        if(ADDcounter % 2 === 0){\r\n            this.setState({\r\n                CSSAddNewUserInput: 'turnOff',\r\n                CSSAddNewUserButton: 'turnOff',\r\n            });\r\n        }else {\r\n            this.setState({\r\n                CSSAddNewUserInput: 'CSSAddNewUserInput',\r\n                CSSAddNewUserButton: 'CSSAddNewUserButton',\r\n                CSSMenuDropout: 'turnOff',\r\n                openMenuButton: 'ÐÑÐºÑÑÑÑ Ð¼ÐµÐ½Ñ Ð´ÐµÐ¹ÑÑÐ²Ð¸Ð¹',\r\n                cssButtonGiveAdmin: 'turnOff',\r\n                nameAdminButton: 'ÐÑÐ´Ð°ÑÑ Ð¿ÑÐ°Ð²Ð° Ð°Ð´Ð¼Ð¸Ð½Ð°',\r\n            });\r\n            menuCounter++;\r\n        }\r\n        ADDcounter++;\r\n        if (this.state.cssButtonGiveAdmin !== 'turnOff') {\r\n            this.setState({\r\n                nameAdminButton: 'ÐÑÐ´Ð°ÑÑ Ð¿ÑÐ°Ð²Ð° Ð°Ð´Ð¼Ð¸Ð½Ð°',\r\n                selectables: false,\r\n                cssButtonGiveAdmin: 'turnOff',\r\n            })\r\n            counter++;\r\n        }\r\n        if (this.state.buttonText === 'ÐÑÐºÐ». Ð¿ÐµÑÐµÐ¼ÐµÑÐµÐ½Ð¸Ðµ/ÑÐ´Ð°Ð»ÐµÐ½Ð¸Ðµ') {\r\n            counter2++;\r\n            this.setState({\r\n                draggable: false,\r\n                buttonText: 'ÐÐºÐ». Ð¿ÐµÑÐµÐ¼ÐµÑÐµÐ½Ð¸Ðµ/ÑÐ´Ð°Ð»ÐµÐ½Ð¸Ðµ',\r\n            });\r\n        }\r\n    }\r\n\r\n    fetchNotFromVKUser = (newUser) => {\r\n        console.log('ÐÑÐ¿ÑÐ°Ð²Ð»ÐµÐ½ Ð·Ð°Ð¿ÑÐ¾Ñ Ð½Ð° Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ ÑÐµÐ»Ð¾Ð²ÐµÐºÐ° Ð½Ðµ Ð¸Ð· ÐÐ...')\r\n        fetch('/addNotFromVK', {\r\n            method: 'POST',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json',\r\n            },\r\n            body: JSON.stringify({\r\n                \"newUser\": newUser,\r\n                \"queueCODE\": this.props.queueCode,\r\n                \"url\": window.location.search.replace('?', '')\r\n            })\r\n        }).then(function (response) {\r\n            return response.json();\r\n        })\r\n            .then(async function (data) {\r\n                let tmpUsersArr = data;\r\n                let user = undefined;\r\n\r\n                //todo Ð·Ð°Ð¿ÑÐ¾Ñ Ð½Ð° Ð¿Ð¾Ð»ÑÑÐµÐ½Ð¸Ðµ Ð¸Ð½ÑÑ Ð¾ Ð»ÑÐ´ÑÑ\r\n                await fetch('/getUsersInfo', {\r\n                    method: 'POST',\r\n                    headers: {\r\n                        'Accept': 'application/json',\r\n                        'Content-Type': 'application/json',\r\n                    },\r\n                    body: JSON.stringify({\r\n                        \"url\": window.location.search.replace('?', ''),\r\n                        \"usersArr\": data,\r\n                    })\r\n                }).then(function (response) {\r\n                    return response.json();\r\n                }).then(function (result){\r\n                    user = result.response;\r\n                })\r\n                for(let i = 0; i < tmpUsersArr.length; i++){\r\n                    if(tmpUsersArr[i].notvkname === null) {\r\n\r\n                        if (global.queue.userID === user[i].id && tmpUsersArr[i].userplace === 1 && tmpUsersArr.length > 1) {\r\n                            global.queue.isFirstPlace = true;\r\n                        } else if (global.queue.userID === user[i].id && tmpUsersArr[i].userplace !== 1) {\r\n                            global.queue.isFirstPlace = false;\r\n                        }\r\n\r\n                        if(global.queue.userID === tmpUsersArr[i].userid && tmpUsersArr[i].isadmin){\r\n                            global.queue.isUserAdmin = true;\r\n\r\n                        }else if (global.queue.userID === tmpUsersArr[i].userid && !tmpUsersArr[i].isadmin){\r\n                            global.queue.isUserAdmin = false;\r\n                        }\r\n                        tmpUsersArr[i].name = user[i].last_name + \" \" + user[i].first_name;\r\n                        tmpUsersArr[i].avatar = user[i].photo_100;\r\n                    }else{\r\n                        tmpUsersArr[i].name = tmpUsersArr[i].notvkname;\r\n                    }\r\n                }\r\n                return tmpUsersArr;\r\n\r\n            }).then((usersArr) =>{\r\n            this.setState({\r\n                users: usersArr\r\n            })\r\n        }).catch((e) => {\r\n            // this.props.setSnackbar(<Snackbar\r\n            //     layout=\"vertical\"\r\n            //     onClose={() => this.props.setSnackbar(null)}\r\n            //     before={<Avatar size={24}><Icon16Clear fill=\"red\" width={14} height={14}/></Avatar>}\r\n            // >\r\n            //     ÐÑÐ¸Ð±ÐºÐ° ÑÐ¾ÐµÐ´Ð¸Ð½ÐµÐ½Ð¸Ñ! ÐÑÐ¾Ð²ÐµÑÑÑÐµ Ð¸Ð½ÑÐµÑÐ½ÐµÑ!\r\n            // </Snackbar>);\r\n        })\r\n    }\r\n\r\n    checkHowManyUsersForExit = () =>{\r\n        let pplCounter = 0;\r\n        for(let i = 0; i<this.state.users.length; i++){\r\n            if(this.state.users[i].notvkname === null){\r\n                pplCounter++;\r\n            }\r\n        }\r\n        if(pplCounter === 1){\r\n            console.log(1);\r\n            this.setState({\r\n                exitAlertText: 'ÐÑ ÑÐ²ÐµÑÐµÐ½Ñ, ÑÑÐ¾ ÑÐ¾ÑÐ¸ÑÐµ Ð¿Ð¾ÐºÐ¸Ð½ÑÑÑ Ð¾ÑÐµÑÐµÐ´Ñ? ÐÑ Ð¿Ð¾ÑÐ»ÐµÐ´Ð½Ð¸Ð¹ ÑÑÐ°ÑÑÐ½Ð¸Ðº. ÐÑÐ»Ð¸ Ð²Ñ Ð¿Ð¾ÐºÐ¸Ð½Ð¸ÑÐµ Ð¾ÑÐµÑÐµÐ´Ñ, ÑÐ¾ Ð¾Ð½Ð° Ð±ÑÐ´ÐµÑ ÑÐ´Ð°Ð»ÐµÐ½Ð°.'\r\n            });\r\n        }else{\r\n            this.setState({\r\n                exitAlertText: 'ÐÑ ÑÐ²ÐµÑÐµÐ½Ñ, ÑÑÐ¾ ÑÐ¾ÑÐ¸ÑÐµ Ð¿Ð¾ÐºÐ¸Ð½ÑÑÑ Ð¾ÑÐµÑÐµÐ´Ñ? ÐÑÐ»Ð¸ Ð²Ñ ÑÐ½Ð¾Ð²Ð° Ð·Ð°Ð¹Ð´ÑÑÐµ Ð² Ð¾ÑÐµÑÐµÐ´Ñ, ÑÐ¾ Ð¾ÐºÐ°Ð¶ÐµÑÐµÑÑ Ð² ÐºÐ¾Ð½ÑÐµ ÑÐ¿Ð¸ÑÐºÐ°.'\r\n            });\r\n        }\r\n    }\r\n\r\n    deleteUser = (deletedUserPlace) => {\r\n        fetch('/deleteUser', {\r\n            method: 'POST',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json',\r\n            },\r\n            body: JSON.stringify({\r\n                \"deletedPlace\": deletedUserPlace,\r\n                \"queueCODE\": this.props.queueCode,\r\n                \"url\": window.location.search.replace('?', '')\r\n            })\r\n        }).then(function (response) {\r\n            return response.json();\r\n        })\r\n            .then(async function (data) {\r\n                let tmpUsersArr = data;\r\n                let user = undefined;\r\n\r\n                //todo Ð·Ð°Ð¿ÑÐ¾Ñ Ð½Ð° Ð¿Ð¾Ð»ÑÑÐµÐ½Ð¸Ðµ Ð¸Ð½ÑÑ Ð¾ Ð»ÑÐ´ÑÑ\r\n                await fetch('/getUsersInfo', {\r\n                    method: 'POST',\r\n                    headers: {\r\n                        'Accept': 'application/json',\r\n                        'Content-Type': 'application/json',\r\n                    },\r\n                    body: JSON.stringify({\r\n                        \"url\": window.location.search.replace('?', ''),\r\n                        \"usersArr\": data,\r\n                    })\r\n                }).then(function (response) {\r\n                    return response.json();\r\n                }).then(function (result){\r\n                    user = result.response;\r\n                })\r\n                for(let i = 0; i < tmpUsersArr.length; i++){\r\n                    if(tmpUsersArr[i].notvkname === null) {\r\n\r\n                        if (global.queue.userID === user[i].id && tmpUsersArr[i].userplace === 1 && tmpUsersArr.length > 1) {\r\n                            global.queue.isFirstPlace = true;\r\n                        } else if (global.queue.userID === user[i].id && tmpUsersArr[i].userplace !== 1) {\r\n                            global.queue.isFirstPlace = false;\r\n                        }\r\n\r\n                        if(global.queue.userID === tmpUsersArr[i].userid && tmpUsersArr[i].isadmin){\r\n                            global.queue.isUserAdmin = true;\r\n\r\n                        }else if (global.queue.userID === tmpUsersArr[i].userid && !tmpUsersArr[i].isadmin){\r\n                            global.queue.isUserAdmin = false;\r\n                        }\r\n                        tmpUsersArr[i].name = user[i].last_name + \" \" + user[i].first_name;\r\n                        tmpUsersArr[i].avatar = user[i].photo_100;\r\n                    }else{\r\n                        tmpUsersArr[i].name = tmpUsersArr[i].notvkname;\r\n                    }\r\n                }\r\n                return tmpUsersArr;\r\n\r\n            }).then((usersArr) => {\r\n            this.setState({\r\n                users: usersArr\r\n            })}).catch((e) => {\r\n            // this.props.setSnackbar(<Snackbar\r\n            //     layout=\"vertical\"\r\n            //     onClose={() => this.props.setSnackbar(null)}\r\n            //     before={<Avatar size={24}><Icon16Clear fill=\"red\" width={14} height={14}/></Avatar>}\r\n            // >\r\n            //     ÐÑÐ¸Ð±ÐºÐ° ÑÐ¾ÐµÐ´Ð¸Ð½ÐµÐ½Ð¸Ñ! ÐÑÐ¾Ð²ÐµÑÑÑÐµ Ð¸Ð½ÑÐµÑÐ½ÐµÑ!\r\n            // </Snackbar>);\r\n        })\r\n    }\r\n\r\n    refresh = async () =>{\r\n        console.log('ÐÑÐ¿ÑÐ°Ð²Ð»ÐµÐ½ Ð·Ð°Ð¿ÑÐ¾Ñ Ð½Ð° Ð¿Ð¾Ð»ÑÑÐµÐ½Ð¸Ðµ ÑÐ¿Ð¸ÑÐºÐ° Ð»ÑÐ´ÐµÐ¹, Ð¿ÑÐ¸Ð½Ð°Ð´Ð»ÐµÐ¶Ð°ÑÐ¸Ñ Ðº Ð¾ÑÐµÑÐµÐ´Ð¸...')\r\n        this.setState({\r\n            openMenuButton: 'ÐÑÐºÑÑÑÑ Ð¼ÐµÐ½Ñ Ð´ÐµÐ¹ÑÑÐ²Ð¸Ð¹',\r\n            CSSMenuDropout: 'turnOff',\r\n            cssSpinner: 'defaultSpinner',\r\n        });\r\n        menuCounter++;\r\n        fetch('/getPeople', {\r\n            method: 'POST',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json',\r\n            },\r\n            body: JSON.stringify({\r\n                \"queueCODE\": this.props.queueCode,\r\n                \"url\": window.location.search.replace('?', '')\r\n            })\r\n        }).then(function (response) {\r\n            return response.json();\r\n        })\r\n            .then(async function (data) {\r\n                let usersArr = await getUsersData(data);\r\n                return usersArr;\r\n\r\n            }).then((usersArr) =>{\r\n            this.setState({\r\n                users: usersArr,\r\n                cssSpinner: 'turnOff'\r\n            })\r\n            if(global.queue.isUserAdmin) {\r\n                this.props.setCssEdit('editQueueButton');\r\n            }\r\n            this.setState({\r\n                CSSMenuButton: '',\r\n            })\r\n        })\r\n\r\n        async function getUsersData(data){\r\n            console.log('ÐÐ¾Ð»ÑÑÐµÐ½Ð¸Ðµ Ð´Ð°Ð½Ð½ÑÑ Ð¾ Ð¿Ð¾Ð»ÑÐ·Ð¾Ð²Ð°ÑÐµÐ»ÑÑ ÑÐµÑÐµÐ· VK Bridge')\r\n            let tmpUsersArr = data;\r\n            let user = undefined;\r\n\r\n            //todo Ð·Ð°Ð¿ÑÐ¾Ñ Ð½Ð° Ð¿Ð¾Ð»ÑÑÐµÐ½Ð¸Ðµ Ð¸Ð½ÑÑ Ð¾ Ð»ÑÐ´ÑÑ\r\n            await fetch('/getUsersInfo', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Accept': 'application/json',\r\n                    'Content-Type': 'application/json',\r\n                },\r\n                body: JSON.stringify({\r\n                    \"url\": window.location.search.replace('?', ''),\r\n                    \"usersArr\": data,\r\n                })\r\n            }).then(function (response) {\r\n                return response.json();\r\n            }).then(function (result){\r\n                user = result.response;\r\n            })\r\n            for(let i = 0; i < tmpUsersArr.length; i++){\r\n                if(tmpUsersArr[i].notvkname === null) {\r\n\r\n                    if (global.queue.userID === user[i].id && tmpUsersArr[i].userplace === 1 && tmpUsersArr.length > 1) {\r\n                        global.queue.isFirstPlace = true;\r\n                    } else if (global.queue.userID === user[i].id && tmpUsersArr[i].userplace !== 1) {\r\n                        global.queue.isFirstPlace = false;\r\n                    }\r\n\r\n                    if(global.queue.userID === tmpUsersArr[i].userid && tmpUsersArr[i].isadmin){\r\n                        global.queue.isUserAdmin = true;\r\n\r\n                    }else if (global.queue.userID === tmpUsersArr[i].userid && !tmpUsersArr[i].isadmin){\r\n                        global.queue.isUserAdmin = false;\r\n                    }\r\n                    tmpUsersArr[i].name = user[i].last_name + \" \" + user[i].first_name;\r\n                    tmpUsersArr[i].avatar = user[i].photo_100;\r\n                }else{\r\n                    tmpUsersArr[i].name = tmpUsersArr[i].notvkname;\r\n                }\r\n            }\r\n            return tmpUsersArr;\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n            <br/>\r\n                <Div className={this.state.CSSButtonDiv}>\r\n                <div className={'showActionsButton'}>\r\n\r\n                    <Button className={\"menuButton\"} id={\"menuButton\"} size={'xl'} onClick={this.openMenu}>{this.state.openMenuButton}</Button>\r\n\r\n                <div className={this.state.CSSMenuDropout}>\r\n                    {global.queue.isUserAdmin === true &&\r\n                        <div>\r\n                        <Tabs>\r\n                            <TabsItem onClick={() => {\r\n                                this.setState({\r\n                                    cssMessageButton: 'turnOff',\r\n                                    refreshButton: 'refreshButton',\r\n                                    activeTab: 'user',\r\n                                    cssSkipButton: 'OnlySkipButton',\r\n                                    cssAdminButton: 'turnOff',\r\n                                    cssAddAdminButton: 'turnOff',\r\n                                    cssShuffleButton: 'turnOff',\r\n                                    CSSEditQueueButton: 'turnOff',\r\n                                    CSSExitQueueButton: 'CSSExitQueueButton',\r\n                                    CSSAddNewUserInput: 'turnOff',\r\n                                    CSSAddNewUserButton: 'turnOff',\r\n                                    CSSAddPersonButton: 'turnOff'\r\n                                });\r\n                                let usersArr = this.state.users;\r\n                                for (let i = 0; i < usersArr.length; i++) {\r\n                                    if (usersArr[i].userid === this.props.fetchedUser.id) {\r\n                                        if (i >= usersArr.length - 1) {\r\n                                            this.setState({cssSkipButton: 'turnOff'})\r\n                                        } else {\r\n                                            this.setState({cssSkipButton: 'OnlySkipButton'})\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }} selected={this.state.activeTab === 'user'}>ÐÑÐ½Ð¾Ð²Ð½ÑÐµ</TabsItem>\r\n\r\n\r\n                            <TabsItem onClick={() => {\r\n                                this.setState({\r\n                                    cssMessageButton: 'cssMessageButton ',\r\n                                    refreshButton: 'turnOff',\r\n                                    activeTab: 'admin',\r\n                                    cssSkipButton: 'turnOff',\r\n                                    cssAdminButton: 'OnlySkipButton',\r\n                                    cssAddAdminButton: 'OnlySkipButton',\r\n                                    cssShuffleButton: 'OnlySkipButton',\r\n                                    CSSEditQueueButton: '123',\r\n                                    CSSExitQueueButton: 'turnOff',\r\n                                    CSSAddPersonButton: 'AddPersonButton'\r\n                                })\r\n                            }} selected={this.state.activeTab === 'admin'}>ÐÐ´Ð¼Ð¸Ð½-Ð¿Ð°Ð½ÐµÐ»Ñ</TabsItem>\r\n                        </Tabs>\r\n                        <Separator/>\r\n                        </div>\r\n                    }\r\n\r\n                    <Div>\r\n                    <Button className={this.state.refreshButton} size={'xl'} onClick={this.refresh} mode={'secondary'} stretched={true}>ÐÐ±Ð½Ð¾Ð²Ð¸ÑÑ ÑÐ¿Ð¸ÑÐ¾Ðº</Button>\r\n                    <Button className={this.state.cssSkipButton} size={'xl'} onClick={() => this.skipAlert()} mode={'secondary'} stretched={true}>ÐÐ¿ÑÑÑÐ¸ÑÑÑÑ Ð½Ð° Ð¿Ð¾Ð·Ð¸ÑÐ¸Ñ Ð½Ð¸Ð¶Ðµ</Button>\r\n                    <Button className={this.state.cssAdminButton} size={'xl'} onClick={this.adminButton} mode={'secondary'} stretched={true}>{this.state.buttonText}</Button>\r\n                    <Button className={this.state.cssAddAdminButton} size={'xl'} onClick={this.addAdminButton} mode={'secondary'} stretched={true}>{this.state.nameAdminButton}</Button>\r\n                    <Button className={this.state.cssShuffleButton} size={'xl'} onClick={() => {this.shuffleAlert()}} mode={'secondary'} stretched={true}>ÐÐµÑÐµÐ¼ÐµÑÐ°ÑÑ Ð¾ÑÐµÑÐµÐ´Ñ</Button>\r\n                    <Button className={this.state.CSSExitQueueButton} size={'xl'} onClick={async () =>{\r\n                        await this.checkHowManyUsersForExit();\r\n                        this.exitAlert();\r\n                    }} mode={'secondary'} stretched={true}>ÐÐ¾ÐºÐ¸Ð½ÑÑÑ Ð¾ÑÐµÑÐµÐ´Ñ</Button>\r\n                    <Button className={this.state.CSSAddPersonButton} size={'xl'} onClick={() => this.AddPersonNotFromVK()} mode=\"secondary\" stretched={true}>ÐÐ¾Ð±Ð°Ð²Ð¸ÑÑ ÑÐµÐ»Ð¾Ð²ÐµÐºÐ° Ð½Ðµ Ð¸Ð· VK</Button>\r\n                    <Button className={this.state.cssMessageButton} size={'xl'} onClick={() => this.messageToAll()} mode={\"secondary\"} stretched={true}>ÐÐ°Ð¿Ð¸ÑÐ°ÑÑ Ð²ÑÐµÐ¼ ÑÐ¾Ð¾Ð±ÑÐµÐ½Ð¸Ðµ</Button>\r\n                    </Div>\r\n\r\n                </div>\r\n\r\n                </div>\r\n\r\n                </Div>\r\n\r\n                <Group header={\r\n                    <Header className={'headerUsers'}>Ð£ÑÐ°ÑÑÐ½Ð¸ÐºÐ¸</Header> }>\r\n                    {/*<Button className={'refreshButtonCSS'} mode={'secondary'}><Icon28SyncOutline/></Button>*/}\r\n                    {global.queue.isFirstPlace && this.state.users.length > 1 &&\r\n                    <Div>\r\n                        <Button className={'buttonForFirst'} onClick={() => this.firstToLast()} mode={'secondary'}>Ð¡Ð¿ÑÑÑÐ¸ÑÑÑÑ\r\n                                Ð½Ð° Ð¿Ð¾ÑÐ»ÐµÐ´Ð½ÐµÐµ Ð¼ÐµÑÑÐ¾</Button>\r\n                    </Div>\r\n                    }\r\n\r\n                <Div>\r\n                    <div className={'AddNewUserDiv'}>\r\n                    <Input id={'inputNotVKPerson'} maxlength = \"25\" type=\"text\" top={'ÐÐ²ÐµÐ´Ð¸ÑÐµ Ð¸Ð¼Ñ ÑÐµÐ»Ð¾Ð²ÐµÐºÐ°:'} className={this.state.CSSAddNewUserInput} onChange={e => global.queue.newUser = e.target.value}/>\r\n                    <Button mode={'outline'} className={this.state.CSSAddNewUserButton} onClick={() => {\r\n                        if(global.queue.newUser !== undefined && global.queue.newUser.trim() !== '') {\r\n                            const newUser = {name: global.queue.newUser};\r\n                            const newUsers = [...this.state.users, newUser];\r\n                            this.setState({\r\n                                users: newUsers,\r\n                                CSSAddNewUserInput: 'turnOff',\r\n                                CSSAddNewUserButton: 'turnOff',\r\n                            });\r\n                            ADDcounter++;\r\n\r\n                            this.fetchNotFromVKUser(global.queue.newUser);\r\n                            document.getElementById('inputNotVKPerson').value = '';\r\n                            global.queue.newUser = '';\r\n                        }\r\n                    }}>ÐÐ¾Ð±Ð°Ð²Ð¸ÑÑ</Button>\r\n                    </div>\r\n\r\n                    <Button className={this.state.cssButtonGiveAdmin} onClick={this.reqAdminUsers} size={'xl'}>ÐÑÐ´Ð°ÑÑ Ð²ÑÐ±ÑÐ°Ð½Ð½ÑÐ¼ Ð¿Ð¾Ð»ÑÐ·Ð¾Ð²Ð°ÑÐµÐ»ÑÐ¼ Ð¿ÑÐ°Ð²Ð° Ð°Ð´Ð¼Ð¸Ð½Ð°</Button>\r\n                        <Spinner className={this.state.cssSpinner} size=\"large\" style={{marginTop: 20}}/>\r\n\r\n                    <List>\r\n                    {this.state.users.map(info => {\r\n                            return <Cell id={info.name} key={info.userid} description={info.isadmin ? 'Admin' : ''}\r\n                                         selectable={info.avatar && !(info.isadmin) ? this.state.selectables : false}\r\n                                onClick={() => this.openProfile(info.userid)}\r\n                                         className={info.userid === this.props.fetchedUser.id ? 'SELFcell' : 'cell'}\r\n                                         draggable={this.state.draggable}\r\n                                         removable={!(info.userid === this.props.fetchedUser.id) ? this.state.draggable : false}\r\n                                         before={info.avatar ? <Avatar className={'avatar'} size={45} src={info.avatar}>\r\n                                                 <Group className={'idAvatar'}>{this.state.users.indexOf(info) + 1}</Group></Avatar>\r\n                                             : <Avatar className={'avatar'} size={45}>\r\n                                                 <Group\r\n                                                     className={'idAvatar'}>{this.state.users.indexOf(info) + 1}</Group></Avatar>}\r\n                                         onDragFinish={({from, to}) => {\r\n                                             const draggingList = [...this.state.users];\r\n                                             draggingList.splice(from, 1);\r\n                                             draggingList.splice(to, 0, this.state.users[from]);\r\n                                             this.setState({users: draggingList});\r\n                                             if (this.state.openMenuButton === 'ÐÐ°ÐºÑÑÑÑ Ð¼ÐµÐ½Ñ Ð´ÐµÐ¹ÑÑÐ²Ð¸Ð¹') {\r\n                                                 this.setState({\r\n                                                     CSSMenuDropout: 'turnOff',\r\n                                                     openMenuButton: 'ÐÑÐºÑÑÑÑ Ð¼ÐµÐ½Ñ Ð´ÐµÐ¹ÑÑÐ²Ð¸Ð¹',\r\n                                                 })\r\n                                                 menuCounter++;\r\n                                             }\r\n\r\n                                             console.log('ÐÑÐ¿ÑÐ°Ð²Ð»ÐµÐ½ Ð·Ð°Ð¿ÑÐ¾Ñ Ð½Ð° Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ ÑÐ¿Ð¸ÑÐºÐ° Ð¸Ð·-Ð·Ð° Ð¿ÐµÑÐµÐ¼ÐµÑÐµÐ½Ð¸Ñ...')\r\n                                             this.changeUsersPositionOnServer(this.state.users);\r\n\r\n                                         }} onRemove={() => {\r\n                                this.deleteUser(this.state.users.indexOf(info))\r\n                                this.setState({\r\n                                    users: [...this.state.users.slice(0, this.state.users.indexOf(info)), ...this.state.users.slice(this.state.users.indexOf(info) + 1)]\r\n                                });\r\n                                if (this.state.openMenuButton === 'ÐÐ°ÐºÑÑÑÑ Ð¼ÐµÐ½Ñ Ð´ÐµÐ¹ÑÑÐ²Ð¸Ð¹') {\r\n                                    this.setState({\r\n                                        CSSMenuDropout: 'turnOff',\r\n                                        openMenuButton: 'ÐÑÐºÑÑÑÑ Ð¼ÐµÐ½Ñ Ð´ÐµÐ¹ÑÑÐ²Ð¸Ð¹',\r\n                                    })\r\n                                    menuCounter++;\r\n                                }\r\n                                console.log('ÐÑÐ¿ÑÐ°Ð²Ð»ÐµÐ½ Ð·Ð°Ð¿ÑÐ¾Ñ Ð½Ð° Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ ÑÐ¿Ð¸ÑÐºÐ° Ð¸Ð·-Ð·Ð° ÑÐ´Ð°Ð»ÐµÐ½Ð¸Ñ...')\r\n                                // this.changeUsersPositionOnServer(this.state.users);\r\n                            }}>\r\n                                <text className={'nameUser'}>{info.name}</text>\r\n                            </Cell>\r\n                    })}\r\n                </List>\r\n                </Div>\r\n            </Group>\r\n                <Placeholder\r\n                    icon={<Icon56UserAddOutline/>}\r\n                >\r\n                    ÐÑÐ¸Ð³Ð»Ð°ÑÐ¸ÑÐµ Ð»ÑÐ´ÐµÐ¹ Ð² Ð¾ÑÐµÑÐµÐ´Ñ:<br/>\r\n                    <Button size=\"l\" mode=\"tertiary\"\r\n                            onClick={() => bridge.send(\"VKWebAppShare\", {\"link\": `https://vk.com/app7551421_199833891#${this.props.queueCode}`})}>\r\n                        ÐÐ¾Ð´ÐµÐ»Ð¸ÑÑÑÑ ÑÑÑÐ»ÐºÐ¾Ð¹-Ð¿ÑÐ¸Ð³Ð»Ð°ÑÐµÐ½Ð¸ÐµÐ¼</Button>\r\n                    <br/>Ð¸Ð»Ð¸\r\n                    <br/><Button className={'noScrollButton'} size=\"l\" mode=\"tertiary\"\r\n                                 onClick={async () =>{\r\n                                await bridge.send(\"VKWebAppCopyText\", {\"text\": this.props.queueCode});\r\n                            this.props.setSnackbar(<Snackbar\r\n                                layout=\"vertical\"\r\n                                onClose={() => this.props.setSnackbar(null)}\r\n                                before={<Avatar size={24} style={blueBackground}><Icon16CheckCircle fill=\"#fff\" width={14} height={14}/></Avatar>}\r\n                            >\r\n                                Ð¡ÐºÐ¾Ð¿Ð¸ÑÐ¾Ð²Ð°Ð½Ð¾!\r\n                            </Snackbar>);\r\n                }}>Ð¡ÐºÐ¾Ð¿Ð¸ÑÐ¾Ð²Ð°ÑÑ ÐºÐ¾Ð´: {this.props.queueCode}</Button>\r\n\r\n                </Placeholder>\r\n                {this.props.snackbar}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default UsersList","import React, {useState, useEffect} from 'react';\r\nimport {\r\n    Button,\r\n    PanelHeader,\r\n    Panel,\r\n    FormLayout,\r\n    Input,\r\n    File,\r\n    Text,\r\n    PanelHeaderButton,\r\n    Snackbar,\r\n    Avatar, FormStatus, ScreenSpinner, FormLayoutGroup\r\n} from \"@vkontakte/vkui\";\r\nimport Icon28Attachments from '@vkontakte/icons/dist/28/attachments';\r\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\r\nimport Icon16CheckCircle from '@vkontakte/icons/dist/16/check_circle';\r\nimport Icon16Clear from '@vkontakte/icons/dist/16/clear';\r\nimport Icon28CalendarOutline from \"@vkontakte/icons/dist/28/calendar_outline\";\r\nimport Icon28RecentOutline from \"@vkontakte/icons/dist/28/recent_outline\";\r\nimport Icon12Cancel from \"@vkontakte/icons/dist/12/cancel\";\r\n\r\n\r\nlet now = new Date().toLocaleDateString('en-GB');\r\nlet nowTime = now.split('.').reverse().join('-');\r\n\r\nlet nowIOSTime = now.split('/').reverse().join('-');\r\nlet IOSdateError;\r\nlet today;\r\nlet pickedDate;\r\n\r\nconst Ð¡hangeQueue = ({ id, go, fetchedUser, history, setActivePanel, setPopout, setQueueCODE, snackbar, setSnackbar}) => {\r\n    const [newNameQueue, setNewNameQueue] = useState(global.queue.name);\r\n    const [newDate, setNewDate] = useState(global.queue.dateQueue.slice(0,10));\r\n    const [newTime, setNewTime] = useState(global.queue.timeQueue);\r\n    const [newDescription, setNewDescription] = useState(global.queue.descriptionQueue);\r\n    const [newAvatarName, setNewAvatarName] = useState('');\r\n    const [newPlace, setNewPlace] = useState(global.queue.placeQueue);\r\n    const [newDateStatus, setNewDateStatus] = useState('');\r\n    const [newNameStatus, setNewNameStatus] = useState('');\r\n    const [formStatusHeader, setFormStatusHeader] = useState('');\r\n    const [formStatusDescription, setFormStatusDescription] = useState('');\r\n    const [formStatusVisibility, setFormStatusVisibility] = useState(false);\r\n    const [timeInput, setTimeInput] = useState('turnOff');\r\n    const [dateInput, setDateInput] = useState('turnOff');\r\n    const [dateInputButton, setDateInputButton] = useState('dateAndTimeInputButton');\r\n    const [timeInputButton, setTimeInputButton] = useState('timeInputButton');\r\n    const [deleteImgButtonCSS, setDeleteImgButtonCSS] = useState('turnOff');\r\n    const [delDivCSS, setDelDivCSS] = useState('turnOff');\r\n\r\n    // let pic; //ÐÐ°ÑÑÐ¸Ð½ÐºÐ° Ð¾ÑÐµÑÐµÐ´Ð¸\r\n    // let picName;\r\n    // let picURL = '';\r\n\r\n    useEffect(() => {\r\n        if(global.queue.changedName !== undefined){\r\n            setNewNameQueue(global.queue.changedName);\r\n        }\r\n        if(global.queue.changedDesc !== undefined){\r\n            setNewDescription(global.queue.changedDesc);\r\n        }\r\n        if(global.queue.changedDate !== undefined){\r\n            setNewDate(global.queue.changedDate);\r\n        }\r\n        if(global.queue.changedTime !== undefined){\r\n            setNewTime(global.queue.changedTime);\r\n        }\r\n        if(global.queue.changedPlace !== undefined){\r\n            setNewPlace(global.queue.changedPlace);\r\n        }\r\n        if(global.queue.changedAvatarName !== undefined){\r\n            setDeleteImgButtonCSS('deleteImgButton');\r\n            setDelDivCSS('divForDel');\r\n            setNewAvatarName(global.queue.changedAvatarName);\r\n        }\r\n\r\n        global.queue.counterForCalendar++;\r\n        today = new Date(nowIOSTime);\r\n\r\n        let dataCheck = document.getElementById('dateID');\r\n        pickedDate = new Date(dataCheck.value);\r\n\r\n        if(dataCheck.validity.rangeUnderflow){\r\n            global.queue.dataCheck = false;\r\n            setNewDateStatus('error');\r\n            if(global.queue.counterForCalendar ===1) {\r\n                setDateInputButton('turnOff');\r\n                setDateInput('dateAndTimeInput');\r\n            }\r\n        }else{\r\n            setFormStatusVisibility(false);\r\n            global.queue.dataCheck = true;\r\n        }\r\n\r\n\r\n        if(today.getTime() > pickedDate.getTime()){\r\n            IOSdateError = false;\r\n            global.queue.dataCheck = false;\r\n            setNewDateStatus('error');\r\n            if(global.queue.counterForCalendar ===1) {\r\n                setDateInputButton('turnOff');\r\n                setDateInput('dateAndTimeInput');\r\n            }\r\n        }else {\r\n            IOSdateError = true;\r\n            setFormStatusVisibility(false);\r\n            global.queue.dataCheck = true\r\n        }\r\n    });\r\n\r\n    const changedQueue = () => {\r\n        global.queue.name = newNameQueue\r\n        global.queue.dateQueue = newDate\r\n        global.queue.timeQueue = newTime\r\n        global.queue.descriptionQueue = newDescription\r\n        global.queue.placeQueue = newPlace\r\n        if(global.queue.changedPicURLNew !== undefined){\r\n            global.queue.avatarQueue = global.queue.changedPicURLNew\r\n        }\r\n    }\r\n\r\n\r\n    const changeQueueOnServer = () => {\r\n        setPopout(<ScreenSpinner/>);\r\n        console.log(global.queue.changedPicURLNew);\r\n        try {\r\n            fetch('/changeQueue', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Accept': 'application/json',\r\n                    'Content-Type': 'application/json',\r\n                },\r\n                body: JSON.stringify({\r\n                    \"queueName\": newNameQueue,\r\n                    \"queuePlace\": newPlace,\r\n                    \"queueTime\": newTime,\r\n                    \"queueDate\": newDate,\r\n                    \"queueAvatarURL\": global.queue.changedPicURLNew,\r\n                    \"queueDescription\": newDescription,\r\n                    \"queueCode\": global.queue.codeQueue,\r\n                    \"url\": window.location.search.replace('?', '')\r\n                })\r\n            }).then(function (response) {\r\n                return response.json();\r\n            })\r\n                .then(async function (data) {\r\n                    if(data !== 'Deleted queue'){\r\n\r\n                    let timeOutTime = 0;\r\n                    if(global.queue.changedPicURLNew !== undefined || global.queue.changedPicURLNew !== ''){\r\n                        timeOutTime = 5000;\r\n                    }\r\n                    await setTimeout(() => setPopout(null), timeOutTime);\r\n                    setTimeout(() => setSnackbar(<Snackbar\r\n                        layout=\"vertical\"\r\n                        onClose={() => setSnackbar(null)}\r\n                        before={<Avatar size={24} style={blueBackground}><Icon16CheckCircle fill=\"#fff\" width={14}\r\n                                                                                            height={14}/></Avatar>}\r\n                    >\r\n                        ÐÐ·Ð¼ÐµÐ½ÐµÐ½Ð¸Ñ ÑÐ¾ÑÑÐ°Ð½ÐµÐ½Ñ!\r\n                    </Snackbar>), timeOutTime);\r\n                    }else{\r\n                        setPopout(null);\r\n                        setActivePanel('home');\r\n                        history.pop();\r\n                        history.pop();\r\n                        setSnackbar(<Snackbar\r\n                            layout=\"vertical\"\r\n                            onClose={() => setSnackbar(null)}\r\n                            before={<Avatar size={24}><Icon16Clear fill=\"red\" width={14} height={14}/></Avatar>}\r\n                        >\r\n                            ÐÑÐµÑÐµÐ´Ñ Ð±ÑÐ»Ð° ÑÐ´Ð°Ð»ÐµÐ½Ð°!\r\n                        </Snackbar>)\r\n                    }\r\n                })\r\n                .catch((e) => {\r\n                    setPopout(null);\r\n                    setSnackbar(<Snackbar\r\n                        layout=\"vertical\"\r\n                        onClose={() => setSnackbar(null)}\r\n                        before={<Avatar size={24}><Icon16Clear fill=\"red\" width={14} height={14}/></Avatar>}\r\n                    >\r\n                        ÐÑÐ¸Ð±ÐºÐ° ÑÐ¾ÐµÐ´Ð¸Ð½ÐµÐ½Ð¸Ñ! ÐÑÐ¾Ð²ÐµÑÑÑÐµ Ð¸Ð½ÑÐµÑÐ½ÐµÑ!\r\n                    </Snackbar>);\r\n\r\n                })\r\n        }\r\n        catch (e){\r\n            console.log('ÐÑÐ¸Ð±ÐºÐ° Ð¿ÑÐ¸ Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ð¸ Ð¾ÑÐµÑÐµÐ´Ð¸...');\r\n        }\r\n    };\r\n\r\n    const onPhotoUpload = (e) => {\r\n        let type = e.target.files[0].type;\r\n        let tmp = type.split('/');\r\n        type = tmp[tmp.length-1];\r\n        let tst = e.target.files[0].name.split('.' + type);\r\n        if(tst.length !== 2 && type === 'jpeg'){\r\n            type = 'jpg';\r\n            tst = e.target.files[0].name.split('.' + type);\r\n        }\r\n\r\n        let tmpArr = e.target.files[0].name.split('.');\r\n        global.queue.changedPic = e.target.files[0];\r\n        global.queue.changedPicName = newNameQueue.replace(/\\s+/g,'-') + '_' + (e.target.files[0].name).replace(/\\s+/g,'') + getRandomInt(1000);\r\n        global.queue.changedPicURL = 'https://firebasestorage.googleapis.com/v0/b/queuesvkminiapp.appspot.com/o/' + global.queue.changedPicName + '?alt=media&token=bc19b8ba-dc95-4bcf-8914-c7b6163d1b3b';\r\n        global.queue.changedPicURLNew = 'https://firebasestorage.googleapis.com/v0/b/queuesvkminiapp.appspot.com/o/' + global.queue.changedPicName.replace(tmpArr[0], tmpArr[0] + '_200x200') + '?alt=media&token=bc19b8ba-dc95-4bcf-8914-c7b6163d1b3b';\r\n\r\n        global.queue.changedAvatarName = e.target.files[0].name;\r\n        setNewAvatarName(e.target.files[0].name);\r\n    }\r\n\r\n    const getRandomInt = (max) => {\r\n        return Math.floor(Math.random() * Math.floor(max));\r\n    }\r\n    const blueBackground = {\r\n        backgroundColor: 'var(--accent)'\r\n    };\r\n\r\n    return(\r\n        <Panel id={id} >\r\n            <PanelHeader left={<PanelHeaderButton onClick={() =>\r\n            {\r\n                history.pop()\r\n                setSnackbar(null);\r\n                setActivePanel(history[history.length - 1])\r\n            }} data-to=\"aboutQueue\">\r\n                {<Icon28ChevronBack/>}\r\n            </PanelHeaderButton>}\r\n            > Ð ÐµÐ´Ð°ÐºÑÐ¸ÑÐ¾Ð²Ð°Ð½Ð¸Ðµ </PanelHeader>\r\n            <FormLayout noValidate={true}>\r\n                {formStatusVisibility &&\r\n                <FormStatus header={formStatusHeader} mode=\"error\">\r\n                    {formStatusDescription}\r\n                </FormStatus>\r\n                }\r\n                <Input id={'qName'} top={'ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ Ð¾ÑÐµÑÐµÐ´Ð¸*'}\r\n                       value={newNameQueue}\r\n                       maxlength = \"32\"\r\n                       status={newNameStatus}\r\n                       onClick={()=>{\r\n                           setDateInput('turnOff');\r\n                           setTimeInput('turnOff');\r\n                           setTimeInputButton('dateAndTimeInputButton');\r\n                           setDateInputButton('dateAndTimeInputButton')\r\n                       }}\r\n                       onChange={e => {\r\n                           global.queue.changedName = e.target.value;\r\n                           if(e.target.value.trim() === ''){\r\n                               setFormStatusVisibility(true);\r\n                               setFormStatusHeader('ÐÐ²ÐµÐ´Ð¸ÑÐµ Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ Ð¾ÑÐµÑÐµÐ´Ð¸!');\r\n                           }else{\r\n                               setFormStatusVisibility(false);\r\n                           }\r\n                           e.target.value.trim() ? setNewNameStatus('valid') : setNewNameStatus('error');\r\n                           setNewNameQueue(e.target.value.substring(0, 32));\r\n                       }}/>\r\n                <Input id={'qPlace'} top={'ÐÐµÑÑÐ¾ Ð¿ÑÐ¾Ð²ÐµÐ´ÐµÐ½Ð¸Ñ'} onClick={()=>{\r\n                    setDateInput('turnOff');\r\n                    setTimeInput('turnOff');\r\n                    setTimeInputButton('dateAndTimeInputButton');\r\n                    setDateInputButton('dateAndTimeInputButton')\r\n                }} maxlength = \"40\" value={newPlace} onChange={e =>{\r\n                    setNewPlace(e.target.value.substring(0, 40));\r\n                    global.queue.changedPlace = e.target.value.trim();\r\n                }}/>\r\n\r\n                <FormLayoutGroup top=\"ÐÐ°ÑÐ° Ð¿ÑÐ¾Ð²ÐµÐ´ÐµÐ½Ð¸Ñ*\">\r\n                    <Button className={dateInputButton} before={<Icon28CalendarOutline/>} stretched={true} size={'xl'} mode={'secondary'} onClick={(qualifiedName, value)=>{\r\n                        document.getElementById('qName').blur();\r\n                        document.getElementById('qDesc').blur();\r\n                        document.getElementById('qPlace').blur();\r\n                        setDateInput('dateInput');\r\n                        setDateInputButton('turnOff');\r\n\r\n                    }}>ÐÑÐ±ÑÐ°ÑÑ Ð´Ð°ÑÑ</Button>\r\n                    <div className={dateInput}>\r\n                <Input top={'ÐÐ°ÑÐ° Ð¿ÑÐ¾Ð²ÐµÐ´ÐµÐ½Ð¸Ñ*'}\r\n                       className={dateInput}\r\n                       name={'date'}\r\n                       type={'date'}\r\n                       id = {'dateID'}\r\n                       value={newDate}\r\n                       status={newDateStatus}\r\n                       min = {nowTime}\r\n                       onChange={e =>{\r\n                           today = new Date(nowIOSTime);\r\n                           pickedDate = new Date(e.target.value);\r\n                           let dataCheck = document.getElementById('dateID');\r\n\r\n                           if(dataCheck.validity.rangeUnderflow){\r\n                               global.queue.dataCheck = false;\r\n                               setNewDateStatus('error');\r\n                               setFormStatusVisibility(true);\r\n                               if(formStatusHeader === 'ÐÐ²ÐµÐ´Ð¸ÑÐµ Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ Ð¾ÑÐµÑÐµÐ´Ð¸!') {\r\n                                   setFormStatusHeader('ÐÐµÐ²ÐµÑÐ½Ð°Ñ Ð´Ð°ÑÐ° Ð¸ Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ!');\r\n                                   setFormStatusDescription('ÐÐ¾Ð¶Ð°Ð»ÑÐ¹ÑÑÐ°, Ð¿ÑÐ¾Ð²ÐµÑÑÑÐµ, ÑÑÐ¾ Ð´Ð°ÑÐ° Ð°ÐºÑÑÐ°Ð»ÑÐ½Ð°.');\r\n                               }else{\r\n                                   setFormStatusHeader('ÐÐµÐ²ÐµÑÐ½Ð°Ñ Ð´Ð°ÑÐ°!');\r\n                                   setFormStatusDescription('ÐÐ¾Ð¶Ð°Ð»ÑÐ¹ÑÑÐ°, Ð¿ÑÐ¾Ð²ÐµÑÑÑÐµ, ÑÑÐ¾ Ð´Ð°ÑÐ° Ð°ÐºÑÑÐ°Ð»ÑÐ½Ð°.');\r\n                               }\r\n                           }else{\r\n                               setFormStatusVisibility(false);\r\n                               setNewDateStatus('valid')\r\n                               global.queue.dataCheck = true;\r\n                           }\r\n\r\n                           if(today.getTime() > pickedDate.getTime()){\r\n                               setNewDateStatus('error');\r\n                               IOSdateError = false;\r\n                               setFormStatusVisibility(true);\r\n                               global.queue.dataCheck = false;\r\n                               if(formStatusHeader === 'ÐÐ²ÐµÐ´Ð¸ÑÐµ Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ Ð¾ÑÐµÑÐµÐ´Ð¸!') {\r\n                                   setFormStatusHeader('ÐÐµÐ²ÐµÑÐ½Ð°Ñ Ð´Ð°ÑÐ° Ð¸ Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ!');\r\n                                   setFormStatusDescription('ÐÐ¾Ð¶Ð°Ð»ÑÐ¹ÑÑÐ°, Ð¿ÑÐ¾Ð²ÐµÑÑÑÐµ, ÑÑÐ¾ Ð´Ð°ÑÐ° Ð°ÐºÑÑÐ°Ð»ÑÐ½Ð°.');\r\n                               }else{\r\n                                   setFormStatusHeader('ÐÐµÐ²ÐµÑÐ½Ð°Ñ Ð´Ð°ÑÐ°!');\r\n                                   setFormStatusDescription('ÐÐ¾Ð¶Ð°Ð»ÑÐ¹ÑÑÐ°, Ð¿ÑÐ¾Ð²ÐµÑÑÑÐµ, ÑÑÐ¾ Ð´Ð°ÑÐ° Ð°ÐºÑÑÐ°Ð»ÑÐ½Ð°.');\r\n                               }\r\n                           }else {\r\n                               IOSdateError = true;\r\n                               setNewDateStatus('valid');\r\n                               setFormStatusVisibility(false);\r\n                               global.queue.dataCheck = true\r\n                           }\r\n\r\n                           if (e.target.value === '' || pickedDate.toString() === 'Invalid Date') {\r\n                               setNewDateStatus('error');\r\n                               setFormStatusVisibility(true);\r\n                               setFormStatusHeader('ÐÐ²ÐµÐ´Ð¸ÑÐµ Ð´Ð°ÑÑ!')\r\n                               global.queue.dataCheck = true;\r\n                           }\r\n                           global.queue.changedDate = e.target.value;\r\n                           setNewDate(e.target.value)\r\n                       }}/>\r\n                    </div>\r\n                </FormLayoutGroup>\r\n\r\n                <FormLayoutGroup top=\"ÐÑÐµÐ¼Ñ Ð¿ÑÐ¾Ð²ÐµÐ´ÐµÐ½Ð¸Ñ\">\r\n                    <Button className={timeInputButton} before={<Icon28RecentOutline/>} stretched={true} size={'xl'} mode={'secondary'} onClick={(qualifiedName, value)=>{\r\n                        document.getElementById('qName').blur();\r\n                        document.getElementById('qDesc').blur();\r\n                        document.getElementById('qPlace').blur();\r\n                        setTimeInput('timeInput');\r\n                        setTimeInputButton('turnOff');\r\n\r\n                    }}>ÐÑÐ±ÑÐ°ÑÑ Ð²ÑÐµÐ¼Ñ</Button>\r\n                    <div className={timeInput}>\r\n                <Input top={'ÐÑÐµÐ¼Ñ Ð½Ð°ÑÐ°Ð»Ð°'} className={timeInput} name={'time'} type={'time'} value={newTime} onChange={e => {\r\n                    setNewTime(e.target.value);\r\n                    global.queue.changedTime = e.target.value;\r\n                }}/>\r\n                    </div>\r\n                </FormLayoutGroup>\r\n                <File id={'fileInputID'} top=\"ÐÐ²Ð°ÑÐ°ÑÐºÐ° Ð¾ÑÐµÑÐµÐ´Ð¸\" accept=\"image/*\" before={<Icon28Attachments />} controlSize=\"xl\" mode=\"secondary\"\r\n                      onChange={(e) => {\r\n                          setDeleteImgButtonCSS('deleteImgButton');\r\n                          setDelDivCSS('divForDel');\r\n                          onPhotoUpload(e);\r\n                      }}/>\r\n                <div className={delDivCSS}>\r\n                <Text className={'uploadedImgName'}>{newAvatarName}<Button className={deleteImgButtonCSS}\r\n                                                                           mode={'tertiary'}\r\n                                                                           before={<Icon12Cancel/>}\r\n                                                                           onClick={()=>{\r\n                                                                               setNewAvatarName('');\r\n                                                                               global.queue.changedPicURLNew = undefined;\r\n                                                                               global.queue.changedPicURL = undefined;\r\n                                                                               global.queue.changedAvatarName = undefined;\r\n                                                                               setDeleteImgButtonCSS('turnOff');\r\n                                                                               setDelDivCSS('turnOff');\r\n                                                                               global.queue.changedPicName = undefined;\r\n                                                                               document.getElementById('fileInputID').value = \"\";\r\n                                                                           }}/></Text>\r\n\r\n                </div>\r\n                <Input id={'qDesc'} top={'ÐÑÐ°ÑÐºÐ¾Ðµ Ð¾Ð¿Ð¸ÑÐ°Ð½Ð¸Ðµ Ð¾ÑÐµÑÐµÐ´Ð¸'} maxlength = \"100\" value={newDescription}\r\n                       bottom={'Ð Ð¾Ð¿Ð¸ÑÐ°Ð½Ð¸Ð¸ Ð²Ñ Ð¼Ð¾Ð¶ÐµÑÐµ ÑÐºÐ°Ð·Ð°ÑÑ ÑÑÑÐ»ÐºÑ Ð½Ð° ÐºÐ¾Ð½ÑÐµÑÐµÐ½ÑÐ¸Ñ Ð¸Ð»Ð¸ Ð¶Ðµ Ð¿ÑÐ¾ÑÑÐ¾ Ð´Ð¾Ð±Ð°Ð²Ð¸ÑÑ Ð´Ð¾Ð¿Ð¾Ð»Ð½Ð¸ÑÐµÐ»ÑÐ½ÑÑ Ð¸Ð½ÑÐ¾ÑÐ¼Ð°ÑÐ¸Ñ Ð¾Ð± Ð¾ÑÐµÑÐµÐ´Ð¸.'}\r\n                       onClick={()=>{\r\n                    setDateInput('turnOff');\r\n                    setTimeInput('turnOff');\r\n                    setTimeInputButton('dateAndTimeInputButton');\r\n                    setDateInputButton('dateAndTimeInputButton');\r\n                }} onChange={e => {\r\n                    setNewDescription(e.target.value.substring(0, 100));\r\n                    global.queue.changedDesc = e.target.value.substring(0, 100);\r\n                }}/>\r\n                <Button size=\"xl\" onClick={() => {\r\n\r\n                    if(!global.queue.dataCheck || !IOSdateError){\r\n                        setNewDateStatus('error');\r\n                        setFormStatusVisibility(true);\r\n                        if(formStatusHeader === 'ÐÐ²ÐµÐ´Ð¸ÑÐµ Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ Ð¾ÑÐµÑÐµÐ´Ð¸!') {\r\n                            setFormStatusHeader('ÐÐµÐ²ÐµÑÐ½Ð°Ñ Ð´Ð°ÑÐ° Ð¸ Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ!');\r\n                            setFormStatusDescription('ÐÐ¾Ð¶Ð°Ð»ÑÐ¹ÑÑÐ°, Ð¿ÑÐ¾Ð²ÐµÑÑÑÐµ, ÑÑÐ¾ Ð´Ð°ÑÐ° Ð°ÐºÑÑÐ°Ð»ÑÐ½Ð°.');\r\n                            setDateInput('dateAndTimeInput');\r\n                            setDateInputButton('turnOff');\r\n                            window.scrollTo(0,0);\r\n                        }else{\r\n                            setFormStatusHeader('ÐÐµÐ²ÐµÑÐ½Ð°Ñ Ð´Ð°ÑÐ°!');\r\n                            setFormStatusDescription('ÐÐ¾Ð¶Ð°Ð»ÑÐ¹ÑÑÐ°, Ð¿ÑÐ¾Ð²ÐµÑÑÑÐµ, ÑÑÐ¾ Ð´Ð°ÑÐ° Ð°ÐºÑÑÐ°Ð»ÑÐ½Ð°.');\r\n                            setDateInput('dateAndTimeInput');\r\n                            setDateInputButton('turnOff');\r\n                            window.scrollTo(0,0);\r\n                        }\r\n                    }\r\n\r\n                    let dataCheck = document.getElementById('dateID');\r\n                    if(newNameQueue.trim() !== '' && newDate.trim() !== '' && IOSdateError && global.queue.dataCheck && !dataCheck.validity.rangeUnderflow) {\r\n                        changeQueueOnServer();\r\n                        changedQueue();\r\n                        if(global.queue.changedPicURL !== undefined) {\r\n                            try {\r\n                            fetch('https://firebasestorage.googleapis.com/v0/b/queuesvkminiapp.appspot.com/o?uploadType=media&name=' + global.queue.changedPicName, {\r\n                                method: 'POST',\r\n                                headers: {\r\n                                    'Accept': 'application/json',\r\n                                    'Content-Type': 'image/png',\r\n                                },\r\n                                body: global.queue.changedPic\r\n                            }).then(function (response) {\r\n                                return response.json();\r\n                            })\r\n                                .then(function (data) {\r\n                                    console.log('ÐÐ°ÑÑÐ¸Ð½ÐºÐ° ÑÑÐ¿ÐµÑÐ½Ð¾ Ð·Ð°Ð³ÑÑÐ¶ÐµÐ½Ð°!!!');\r\n                                }).catch((e) => {\r\n                                setPopout(null);\r\n                                setSnackbar(<Snackbar\r\n                                    layout=\"vertical\"\r\n                                    onClose={() => setSnackbar(null)}\r\n                                    before={<Avatar size={24}><Icon16Clear fill=\"red\" width={14} height={14}/></Avatar>}\r\n                                >\r\n                                    ÐÑÐ¸Ð±ÐºÐ° ÑÐ¾ÐµÐ´Ð¸Ð½ÐµÐ½Ð¸Ñ! ÐÑÐ¾Ð²ÐµÑÑÑÐµ Ð¸Ð½ÑÐµÑÐ½ÐµÑ!\r\n                                </Snackbar>);\r\n                                console.log(e)\r\n                            })\r\n                        }\r\n                    catch (e){\r\n                            console.log('ÐÑÐ¸Ð±ÐºÐ° Ð¿ÑÐ¸ Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ð¸ Ð¾ÑÐµÑÐµÐ´Ð¸...');\r\n                        }\r\n                    }\r\n\r\n                    // setSnackbar(<Snackbar\r\n                        //     layout=\"vertical\"\r\n                        //     onClose={() => setSnackbar(null)}\r\n                        //     before={<Avatar size={24} style={blueBackground}><Icon16CheckCircle fill=\"#fff\" width={14} height={14} /></Avatar>}\r\n                        // >\r\n                        //     ÐÐ·Ð¼ÐµÐ½ÐµÐ½Ð¸Ñ ÑÐ¾ÑÑÐ°Ð½ÐµÐ½Ñ!\r\n                        // </Snackbar>)\r\n                        global.queue.changedPicURLNew = undefined;\r\n                        global.queue.changedPicURL = undefined;\r\n                        global.queue.changedPic = undefined;\r\n\r\n                        global.queue.changedName = undefined;\r\n                        global.queue.changedDesc = undefined;\r\n                        global.queue.changedDate = undefined;\r\n                        global.queue.changedTime = undefined;\r\n                        global.queue.changedPlace = undefined;\r\n                        global.queue.changedAvatarName = undefined;\r\n                        setDeleteImgButtonCSS('turnOff');\r\n                        setDelDivCSS('turnOff');\r\n                    }else{\r\n                        if(newDate.trim() === '' && newNameQueue.trim() === ''){\r\n                            setNewNameStatus('error');\r\n                            setNewDateStatus('error');\r\n                            setFormStatusVisibility(true);\r\n                            setFormStatusHeader('ÐÐ²ÐµÐ´Ð¸ÑÐµ Ð¸Ð¼Ñ Ð¸ Ð´Ð°ÑÑ!')\r\n                            setDateInputButton('turnOff');\r\n                            setDateInput('dateAndTimeInput');\r\n                            window.scrollTo(0,0);\r\n\r\n                        }else if(newNameQueue.trim() === '') {\r\n                            setNewNameStatus('error');\r\n                            setFormStatusVisibility(true);\r\n                            setFormStatusHeader('ÐÐ²ÐµÐ´Ð¸ÑÐµ Ð¸Ð¼Ñ!')\r\n                            window.scrollTo(0,0);\r\n\r\n                        }else if(newDate.trim() === '') {\r\n                            setNewDateStatus('error');\r\n                            setFormStatusVisibility(true);\r\n                            setFormStatusHeader('ÐÐ²ÐµÐ´Ð¸ÑÐµ Ð´Ð°ÑÑ!')\r\n                            setDateInputButton('turnOff');\r\n                            setDateInput('dateAndTimeInput');\r\n                            window.scrollTo(0,0);\r\n                        }\r\n                    }\r\n                }}>Ð¡Ð¾ÑÑÐ°Ð½Ð¸ÑÑ</Button>\r\n            </FormLayout>\r\n            {snackbar}\r\n        </Panel>\r\n    );\r\n}\r\n\r\nexport default Ð¡hangeQueue;","import React, {useEffect, useState} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {PanelHeader, Panel, Div, Group, Header, Cell, Switch, Avatar, Text, Separator, Snackbar} from \"@vkontakte/vkui\";\r\nimport Icon28Notifications from '@vkontakte/icons/dist/28/notifications';\r\nimport bridge from \"@vkontakte/vk-bridge\";\r\nimport Icon16Clear from \"@vkontakte/icons/dist/16/clear\";\r\nimport Icon16CheckCircle from \"@vkontakte/icons/dist/16/check_circle\";\r\nimport queuesLogo from '../img/QueuesLogoNEW150x150.jpg';\r\nconst Settings = ({ id, go, fetchedUser, setSnackbar, snackbar}) => {\r\n    const [VKgroup, setVKGroup] = useState(undefined);\r\n    const [switchCheck, setSwitchCheck] = useState(false);\r\n    const [switchDisabled, setSwitchDisabled] = useState(true)\r\n\r\n    const blueBackground = {\r\n        backgroundColor: 'var(--accent)'\r\n    };\r\n\r\n    useEffect(  () => {\r\n        getAuthorsInfo();\r\n\r\n        fetch('/notificationsCheck', {\r\n            method: 'POST',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json',\r\n            },\r\n            body: JSON.stringify({\r\n                \"url\": window.location.search.replace('?', ''),\r\n            })\r\n        })\r\n\r\n            .then(function (data) {\r\n                return data.json();\r\n            }).then(function (result){\r\n                if(result.response.is_allowed === 1){\r\n\r\n                    fetch('/checkNotificationsInDatabase', {\r\n                        method: 'POST',\r\n                        headers: {\r\n                            'Accept': 'application/json',\r\n                            'Content-Type': 'application/json',\r\n                        },\r\n                        body: JSON.stringify({\r\n                            \"url\": window.location.search.replace('?', ''),\r\n                        })\r\n                    })\r\n                        .then(function (data) {\r\n                            return data.json();\r\n                        }).then(function (finalResult) {\r\n                            console.log(finalResult);\r\n                            if(finalResult === 'On' || finalResult === 'Null' || finalResult === 'no data'){\r\n                                setSwitchCheck(true);\r\n                                setSwitchDisabled(false);\r\n                            }else{\r\n                                setSwitchCheck(false);\r\n                                setSwitchDisabled(false);\r\n                            }\r\n                    });\r\n                }else{\r\n                    setSwitchCheck(false);\r\n                    setSwitchDisabled(false);\r\n                }\r\n            }).catch((e) => {\r\n                console.log(e);\r\n            console.log('ÐÑÐ¸Ð±ÐºÐ° Ð¿ÑÐ¸ Ð¿ÑÐ¾Ð²ÐµÑÐºÐ¸ Ð¿Ð¾Ð´Ð¿Ð¸ÑÐºÐ¸ Ð½Ð° ÑÐ¾Ð¾Ð±ÑÐµÐ½Ð¸Ñ ÑÐ¾Ð¾Ð±ÑÐµÑÑÐ²Ð°!');\r\n            setSnackbar(<Snackbar\r\n                layout=\"vertical\"\r\n                onClose={() => setSnackbar(null)}\r\n                before={<Avatar size={24}><Icon16Clear fill=\"red\" width={14} height={14}/></Avatar>}\r\n            >\r\n                ÐÑÐ¸Ð±ÐºÐ° ÑÐ¾ÐµÐ´Ð¸Ð½ÐµÐ½Ð¸Ñ! ÐÑÐ¾Ð²ÐµÑÑÑÐµ Ð¸Ð½ÑÐµÑÐ½ÐµÑ!\r\n            </Snackbar>);\r\n        });\r\n\r\n        async function getAuthorsInfo(){\r\n            const VKgroupP = await bridge.send('VKWebAppGetGroupInfo', {\"group_id\": 198211683});\r\n\r\n            await setVKGroup(VKgroupP);\r\n            console.log(VKgroup)\r\n        }\r\n    }, []);\r\n\r\n\r\n    return (\r\n        <Panel id={id}>\r\n            <PanelHeader> ÐÐ°ÑÑÑÐ¾Ð¹ÐºÐ¸ </PanelHeader>\r\n            <Group description=\"ÐÐ°Ñ Ð±Ð¾Ñ Ð±ÑÐ´ÐµÑ Ð¿ÑÐ¸ÑÑÐ»Ð°ÑÑ Ð²Ð°Ð¼ ÑÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ñ ÑÐ¾Ð»ÑÐºÐ¾ ÑÐ¾Ð³Ð´Ð°, ÐºÐ¾Ð³Ð´Ð° Ð²Ñ Ð±ÑÐ´ÐµÑÐµ Ð½Ð° Ð¿ÐµÑÐ²Ð¾Ð¼ Ð¸ Ð²ÑÐ¾ÑÐ¾Ð¼ Ð¼ÐµÑÑÐ°Ñ Ð² Ð¾ÑÐµÑÐµÐ´Ð¸. ÐÐ¾Ð¿ÑÐ¾Ð±ÑÐ¹ÑÐµ, ÑÑÐ¾ ÑÐ´Ð¾Ð±Ð½Ð¾!\" header={<Header mode=\"secondary\">ÐÐ¾Ð´ÐºÐ»ÑÑÐ¸ÑÐµ ÑÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ñ:</Header>}>\r\n                <Div className={'EnterDivv'}>\r\n                    <Cell className={'cell'} before={<Icon28Notifications/>} asideContent={ <Switch disabled={switchDisabled} checked={switchCheck} onChange={async ()=>{\r\n                        if(!switchCheck){\r\n                            await bridge.send(\"VKWebAppAllowMessagesFromGroup\", {\"group_id\": 198211683});\r\n                            await fetch('/turnNotificationsOn', {\r\n                                method: 'POST',\r\n                                headers: {\r\n                                    'Accept': 'application/json',\r\n                                    'Content-Type': 'application/json',\r\n                                },\r\n                                body: JSON.stringify({\r\n                                    \"url\": window.location.search.replace('?', ''),\r\n                                })\r\n                            }).then(function (data) {\r\n                                return data.json();\r\n                            }).then(function (finalResult) {\r\n\r\n                            });\r\n                            setSwitchCheck(true);\r\n                            setSnackbar(<Snackbar\r\n                                layout=\"vertical\"\r\n                                onClose={() => setSnackbar(null)}\r\n                                before={<Avatar size={24} style={blueBackground}><Icon16CheckCircle fill=\"#fff\" width={14} height={14}/></Avatar>}\r\n                            >\r\n                                ÐÑ ÑÑÐ¿ÐµÑÐ½Ð¾ Ð¿Ð¾Ð´ÐºÐ»ÑÑÐ¸Ð»Ð¸ ÑÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ñ Ð¾Ñ Ð±Ð¾ÑÐ°!\r\n                            </Snackbar>);\r\n                        }else{\r\n                            await fetch('/turnNotificationsOff', {\r\n                                method: 'POST',\r\n                                headers: {\r\n                                    'Accept': 'application/json',\r\n                                    'Content-Type': 'application/json',\r\n                                },\r\n                                body: JSON.stringify({\r\n                                    \"url\": window.location.search.replace('?', ''),\r\n                                })\r\n                            }).then(function (data) {\r\n                                return data.json();\r\n                            }).then(function (finalResult) {\r\n                                setSwitchCheck(false);\r\n                                setSnackbar(<Snackbar\r\n                                    layout=\"vertical\"\r\n                                    onClose={() => setSnackbar(null)}\r\n                                    before={<Avatar size={24} style={blueBackground}><Icon16CheckCircle fill=\"#fff\" width={14} height={14}/></Avatar>}\r\n                                >\r\n                                    Ð£Ð²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ñ Ð¾Ñ Ð±Ð¾ÑÐ° Ð¾ÑÐºÐ»ÑÑÐµÐ½Ñ!\r\n                                </Snackbar>);\r\n                            });\r\n\r\n                        }\r\n                    }} />}>\r\n                        Ð£Ð²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ñ Ð¾Ñ Ð±Ð¾ÑÐ°\r\n                    </Cell>\r\n                </Div>\r\n            </Group>\r\n\r\n            {/*<Group description={'ÐÐ¾ÑÐ»Ðµ Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð¸Ñ Ð¿ÑÐ¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ Ð² Ð¸Ð·Ð±ÑÐ°Ð½Ð½Ð¾Ðµ, ÐµÐ³Ð¾ Ð¼Ð¾Ð¶Ð½Ð¾ Ð±ÑÐ´ÐµÑ Ð»ÐµÐ³ÑÐµ Ð½Ð°Ð¹ÑÐ¸ ÑÑÐµÐ´Ð¸ Ð´ÑÑÐ³Ð¸Ñ Ð¿ÑÐ¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ð¹'}*/}\r\n            {/*       header={<Header mode=\"secondary\">ÐÐ¾Ð±Ð°Ð²Ñ Ð¿ÑÐ¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ Ð² Ð¸Ð·Ð±ÑÐ°Ð½Ð½Ð¾Ðµ:</Header>}>*/}\r\n            {/*    <Div>*/}\r\n            {/*    <Cell className={'cell'} before={<Icon24Favorite/>} onClick={async ()=>{*/}\r\n            {/*        await bridge.send(\"VKWebAppAddToFavorites\").then(function (data){*/}\r\n            {/*            console.log(data);*/}\r\n            {/*        })*/}\r\n\r\n            {/*    }}>ÐÐ¾Ð±Ð°Ð²Ð¸ÑÑ Ð² Ð¸Ð·Ð±ÑÐ°Ð½Ð½Ð¾Ðµ</Cell>*/}\r\n            {/*    </Div>*/}\r\n            {/*</Group>*/}\r\n\r\n\r\n            <Group header={<Header mode=\"secondary\">ÐÐ°ÑÐ° Ð³ÑÑÐ¿Ð¿Ð° Ð² VK:</Header>}>\r\n                <Div>\r\n                    <Cell\r\n                        id={'groupCell'}\r\n                        className={'cell'}\r\n                        before={<Avatar className={'avatar'} size={45} src={queuesLogo}/>}\r\n                        description=\"ÐÐ¾ Ð²ÑÐµÐ¼ Ð²Ð¾Ð¿ÑÐ¾ÑÐ°Ð¼\"\r\n                        onClick={()=>{\r\n                            const link = document.createElement('a')\r\n                            link.href = 'https://vk.com/queuesminiapp'\r\n                            link.setAttribute('target', '_blank')\r\n                            link.click()\r\n                        }}\r\n                    >\r\n                        <text\r\n                            className={'nameUser'}>{'ÐÑÐµÑÐµÐ´Ð¸!'}</text>\r\n                    </Cell>\r\n\r\n                </Div>\r\n            </Group>\r\n            <Text className={'version'}>Version: 1.4.1</Text>\r\n\r\n            {snackbar}\r\n        </Panel>\r\n    );\r\n}\r\n\r\nSettings.propTypes = {\r\n    id: PropTypes.string.isRequired,\r\n    go: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Settings;","module.exports = __webpack_public_path__ + \"static/media/QueuesLogoNEW150x150.86ae2a90.jpg\";","import React from 'react';\r\nimport {Button, Div, Panel, PanelHeader, PanelHeaderButton, Text, Title} from \"@vkontakte/vkui\";\r\nimport phone from \"../img/phone.png\"\r\n\r\n\r\nconst Instruction = ({id, setActivePanel, skip}) => {\r\n\r\n    const continuee = () => {\r\n        setActivePanel('instruction2');\r\n    }\r\n\r\n    return(\r\n        <Panel id={id}>\r\n            <PanelHeader\r\n                separator={false}\r\n                left={<PanelHeaderButton onClick={skip}>\r\n                    ÐÑÐ¾Ð¿ÑÑÑÐ¸ÑÑ\r\n                </PanelHeaderButton>}/>\r\n                <Div>\r\n                    <img className={'imgForTutor'} src={phone}/>\r\n                </Div>\r\n\r\n                <Div>\r\n                    <Title className={'textInstruction'} level=\"1\" weight=\"heavy\" style={{ marginBottom: 8 }}>ÐÑÐµÑÐµÐ´Ð¸!</Title>\r\n                    <Text className={'textInstruction2'} weight=\"regular\" style={{ marginBottom: 12 }}>Ð ÑÑÐ¾Ð¼ Ð¿ÑÐ¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ð¸ ÑÑ ÑÐ¼Ð¾Ð¶ÐµÑÑ ÑÐ¾Ð·Ð´Ð°ÑÑ ÑÐ²Ð¾Ñ ÑÐ»ÐµÐºÑÑÐ¾Ð½Ð½ÑÑ Ð¾ÑÐµÑÐµÐ´Ñ Ð¸ Ð¿ÑÐ¸Ð³Ð»Ð°ÑÐ¸ÑÑ Ð² Ð½ÐµÑ Ð»ÑÐ´ÐµÐ¹!</Text>\r\n                </Div>\r\n            <Div>\r\n                <Button stretched={true} size={'l'} className={'buttonContinue'} onClick={continuee}>ÐÑÐ¾Ð´Ð¾Ð»Ð¶Ð¸ÑÑ</Button>\r\n            </Div>\r\n        </Panel>\r\n    )\r\n}\r\n\r\n\r\nexport default Instruction;","module.exports = __webpack_public_path__ + \"static/media/phone.0b6c6875.png\";","import React from 'react';\r\nimport {Button, Div, Panel, PanelHeader, PanelHeaderButton, Text, Title} from \"@vkontakte/vkui\";\r\nimport phone from \"../img/phone2.png\";\r\n\r\n\r\nconst Instruction2 = ({id, setActivePanel, skip}) => {\r\n\r\n    const continuee = () => {\r\n        setActivePanel('instruction3')\r\n    }\r\n\r\n    return(\r\n        <Panel id={id}>\r\n            <PanelHeader\r\n                separator={false}\r\n                left={<PanelHeaderButton onClick={skip}>\r\n                    ÐÑÐ¾Ð¿ÑÑÑÐ¸ÑÑ\r\n                </PanelHeaderButton>}/>\r\n            <Div>\r\n                <img className={'imgForTutor'} src={phone}/>\r\n            </Div>\r\n\r\n            <Div>\r\n                <Title className={'textInstruction'} level=\"1\" weight=\"heavy\" style={{ marginBottom: 8 }}>Ð¡Ð¾Ð·Ð´Ð°Ð²Ð°Ð¹ Ð¾ÑÐµÑÐµÐ´Ñ</Title>\r\n                <Text className={'textInstruction2'} weight=\"regular\" style={{ marginBottom: 12 }}>ÐÐ»Ñ ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ñ Ð¾ÑÐµÑÐµÐ´Ð¸ Ð¿ÑÐ¾ÑÑÐ¾ Ð·Ð°Ð¹Ð´Ð¸ÑÐµ Ð² Ð¼ÐµÐ½Ñ ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ñ Ð¸ Ð·Ð°Ð¿Ð¾Ð»Ð½Ð¸ÑÐµ Ð¿Ð¾Ð»Ñ.</Text>\r\n            </Div>\r\n            <Div>\r\n                <Button stretched={true} size={'l'} className={'buttonContinue'} onClick={continuee}>ÐÐºÐµÐ¹</Button>\r\n            </Div>\r\n        </Panel>\r\n    )\r\n}\r\n\r\n\r\nexport default Instruction2;","module.exports = __webpack_public_path__ + \"static/media/phone2.da8ac241.png\";","import React from 'react';\r\nimport {Button, Div, Panel, PanelHeader, PanelHeaderButton, Text, Title} from \"@vkontakte/vkui\";\r\nimport phone from \"../img/phone3.png\";\r\n\r\n\r\nconst Instruction3 = ({id, setActivePanel, skip}) => {\r\n\r\n    const continuee = () => {\r\n        setActivePanel('instruction4')\r\n    }\r\n\r\n    return(\r\n        <Panel id={id}>\r\n            <PanelHeader\r\n                separator={false}\r\n                left={<PanelHeaderButton onClick={skip}>\r\n                    ÐÑÐ¾Ð¿ÑÑÑÐ¸ÑÑ\r\n                </PanelHeaderButton>}/>\r\n            <Div>\r\n                <img className={'imgForTutor'} src={phone}/>\r\n            </Div>\r\n\r\n            <Div>\r\n                <Title className={'textInstruction'} level=\"1\" weight=\"heavy\" style={{ marginBottom: 8 }}>ÐÐµÐ½Ñ Ð´ÐµÐ¹ÑÑÐ²Ð¸Ð¹</Title>\r\n                <Text className={'textInstruction2'} weight=\"regular\" style={{ marginBottom: 12 }}>ÐÐ´ÐµÑÑ Ð½Ð°ÑÐ¾Ð´ÑÑÑÑ Ð²ÑÐµ Ð²Ð°ÑÐ¸ Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½ÑÐµ Ð´ÐµÐ¹ÑÑÐ²Ð¸Ñ.</Text>\r\n            </Div>\r\n            <Div>\r\n                <Button stretched={true} size={'l'} className={'buttonContinue'} onClick={continuee}>Ð£Ð´Ð¾Ð±Ð½Ð¾!</Button>\r\n            </Div>\r\n        </Panel>\r\n    )\r\n}\r\n\r\n\r\nexport default Instruction3;","module.exports = __webpack_public_path__ + \"static/media/phone3.1ce594cc.png\";","import React from 'react';\r\nimport {Button, Div, Panel, PanelHeader, PanelHeaderButton, Text, Title} from \"@vkontakte/vkui\";\r\nimport phone from \"../img/phone4.png\";\r\n\r\n\r\nconst Instruction4 = ({id, setActivePanel, skip}) => {\r\n\r\n    const continuee = () => {\r\n        setActivePanel('instruction5')\r\n    }\r\n\r\n    return(\r\n        <Panel id={id}>\r\n            <PanelHeader\r\n                separator={false}\r\n                left={<PanelHeaderButton onClick={skip}>\r\n                    ÐÑÐ¾Ð¿ÑÑÑÐ¸ÑÑ\r\n                </PanelHeaderButton>}/>\r\n            <Div>\r\n                <img className={'imgForTutor'} src={phone}/>\r\n            </Div>\r\n\r\n            <Div>\r\n                <Title className={'textInstruction'} level=\"1\" weight=\"heavy\" style={{ marginBottom: 8 }}>Ð ÐµÐ¶Ð¸Ð¼ Ð°Ð´Ð¼Ð¸Ð½Ð°</Title>\r\n                <Text className={'textInstruction2'} weight=\"regular\" style={{ marginBottom: 12 }}>ÐÐ»Ñ Ð°Ð´Ð¼Ð¸Ð½Ð¸ÑÑÑÐ°ÑÐ¾ÑÐ¾Ð² Ð¾ÑÐµÑÐµÐ´Ð¸ Ð¿ÑÐµÐ´ÑÑÐ¼Ð¾ÑÑÐµÐ½ Ð´Ð¾Ð¿Ð¾Ð»Ð½Ð¸ÑÐµÐ»ÑÐ½ÑÐ¹ ÑÑÐ½ÐºÑÐ¸Ð¾Ð½Ð°Ð».</Text>\r\n            </Div>\r\n            <Div>\r\n                <Button stretched={true} size={'l'} className={'buttonContinue'} onClick={continuee}>ÐÐ°Ñ</Button>\r\n            </Div>\r\n        </Panel>\r\n    )\r\n}\r\n\r\n\r\nexport default Instruction4;","module.exports = __webpack_public_path__ + \"static/media/phone4.78a2df6d.png\";","import React from 'react';\r\nimport {Button, Div, Panel, PanelHeader, PanelHeaderButton, Text, Title} from \"@vkontakte/vkui\";\r\nimport phone from \"../img/phone5.png\";\r\n\r\n\r\nconst Instruction5 = ({id, setActivePanel, skip}) => {\r\n\r\n    const continuee = () => {\r\n        setActivePanel('instruction6')\r\n    }\r\n\r\n    return(\r\n        <Panel id={id}>\r\n            <PanelHeader\r\n                separator={false}\r\n                left={<PanelHeaderButton onClick={skip}>\r\n                    ÐÑÐ¾Ð¿ÑÑÑÐ¸ÑÑ\r\n                </PanelHeaderButton>}/>\r\n            <Div>\r\n                <img className={'imgForTutor'} src={phone}/>\r\n            </Div>\r\n\r\n            <Div>\r\n                <Title className={'textInstruction'} level=\"1\" weight=\"heavy\" style={{ marginBottom: 8 }}>ÐÑÐ¸Ð³Ð»Ð°ÑÐµÐ½Ð¸Ñ</Title>\r\n                <Text className={'textInstruction2'} weight=\"regular\" style={{ marginBottom: 12 }}>ÐÑÐ¸Ð³Ð»Ð°ÑÐ°Ð¹ÑÐµ Ð»ÑÐ´ÐµÐ¹ Ð¿Ð¾Ð¼Ð¾ÑÑÑ ÑÑÑÐ»ÐºÐ¸ Ð¸Ð»Ð¸ ÐºÐ¾Ð´Ð°.</Text>\r\n            </Div>\r\n            <Div>\r\n                <Button stretched={true} size={'l'} className={'buttonContinue'} onClick={continuee}>ÐÑÐ¾Ð´Ð¾Ð»Ð¶Ð¸ÑÑ</Button>\r\n            </Div>\r\n        </Panel>\r\n    )\r\n}\r\n\r\n\r\nexport default Instruction5;","module.exports = __webpack_public_path__ + \"static/media/phone5.b03db641.png\";","import React from 'react';\r\nimport {Button, Div, Panel, PanelHeader, PanelHeaderButton, Text, Title} from \"@vkontakte/vkui\";\r\nimport phone from \"../img/phone6.png\";\r\n\r\n\r\nconst Instruction6 = ({id, setActivePanel, setActiveStory, skip, setTabbarCSS, allowNotifications}) => {\r\n\r\n\r\n    return(\r\n        <Panel id={id}>\r\n            <PanelHeader\r\n                separator={false}\r\n                left={<PanelHeaderButton onClick={skip}>\r\n                    ÐÑÐ¾Ð¿ÑÑÑÐ¸ÑÑ\r\n                </PanelHeaderButton>}/>\r\n            <Div>\r\n                <img className={'imgForTutor'} src={phone}/>\r\n            </Div>\r\n\r\n            <Div>\r\n                <Title className={'textInstruction'} level=\"1\" weight=\"heavy\" style={{ marginBottom: 8 }}>Ð£Ð²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ñ Ð¾Ñ Ð±Ð¾ÑÐ°</Title>\r\n                <Text className={'textInstruction2'} weight=\"regular\" style={{ marginBottom: 12 }}>ÐÐ¾Ñ Ð±ÑÐ´ÐµÑ Ð¿ÑÐ¸ÑÑÐ»Ð°ÑÑ Ð²Ð°Ð¼ ÑÐ¾Ð¾Ð±ÑÐµÐ½Ð¸Ñ, ÐºÐ¾Ð³Ð´Ð° Ð²Ñ Ð½Ð° Ð¿ÐµÑÐ²Ð¾Ð¼ Ð¸ Ð²ÑÐ¾ÑÐ¾Ð¼ Ð¼ÐµÑÑÐµ Ð² Ð¾ÑÐµÑÐµÐ´Ð¸ :)</Text>\r\n            </Div>\r\n            <Div>\r\n                <Button mode={'secondary'} stretched={true} size={'l'} className={'buttonContinue'} onClick={allowNotifications}>ÐÐºÐ»ÑÑÐ¸ÑÑ ÑÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ñ</Button>\r\n            </Div>\r\n            <Div>\r\n                <Button stretched={true} size={'l'} className={'buttonContinue'} onClick={skip}>ÐÐ¾Ð³Ð½Ð°Ð»Ð¸!</Button>\r\n            </Div>\r\n        </Panel>\r\n    )\r\n}\r\n\r\nexport default Instruction6;","module.exports = __webpack_public_path__ + \"static/media/phone6.9a89a686.png\";","import \"core-js/features/map\";\r\nimport \"core-js/features/set\";\r\nimport React from 'react';\r\nimport ReactDOM from \"react-dom\";\r\nimport bridge from \"@vkontakte/vk-bridge\";\r\nimport App from \"./App\";\r\n\r\nglobal.scheme = {\r\n    scheme: undefined,\r\n    beginning: undefined,\r\n    goBack: undefined,\r\n}\r\n\r\n\r\n// Init VK  Mini App\r\nbridge.send(\"VKWebAppInit\");\r\nfirstInstr();\r\nbridge.subscribe(({ detail: { type, data }}) => {\r\n    if (type === 'VKWebAppUpdateConfig') {\r\n        const schemeAttribute = document.createAttribute('scheme');\r\n        schemeAttribute.value = data.scheme ? data.scheme : 'client_light';\r\n        console.log(schemeAttribute.value);\r\n        if(schemeAttribute.value === 'bright_light'){\r\n            bridge.send(\"VKWebAppSetViewSettings\", {\"status_bar_style\": \"dark\"});\r\n        }else{\r\n            bridge.send(\"VKWebAppSetViewSettings\", {\"status_bar_style\": \"light\"});\r\n        }\r\n        document.body.attributes.setNamedItem(schemeAttribute);\r\n        global.scheme.scheme = schemeAttribute.value;\r\n    }\r\n});\r\n\r\nasync function firstInstr() {\r\n    //ÐÑÐ¾Ð²ÐµÑÐºÐ°, ÑÐ¾ÑÑÐ¾Ð¸Ñ Ð»Ð¸ ÑÐµÐ»Ð¾Ð²ÐµÐº Ð² Ð¾ÑÐµÑÐµÐ´ÑÑ\r\n    fetch('/getQueues', {\r\n        method: 'POST',\r\n        headers: {\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({\r\n            \"url\": window.location.search.replace('?', '')\r\n        })\r\n    }).then(function (response) {\r\n        return response.json();\r\n    })\r\n        .then(function (data) {\r\n            if (data.length !== 0) {\r\n                global.scheme.beginning = true;\r\n            }\r\n        })\r\n\r\n    //ÐÑÐ»Ð¸ ÑÐµÐ»Ð¾Ð²ÐµÐºÐ° Ð½ÐµÑ Ð² Ð¾ÑÐµÑÐµÐ´ÑÑ, Ð¿ÑÐ¾Ð²ÐµÑÑÐµÐ¼, Ð¿Ð¾ÐºÐ°Ð·ÑÐ²Ð°Ð»Ð¸ Ð»Ð¸ Ð¼Ñ ÐµÐ¼Ñ Ð¸Ð½ÑÑÑÑÐºÑÐ¸Ñ\r\n    if (global.scheme.beginning === undefined){\r\n        const instr = await bridge.send(\"VKWebAppStorageGetKeys\", {\"count\": 1, \"offset\": 0});\r\n        console.log(instr);\r\n        if (instr.keys[0] === 'firstInstruction') {\r\n            global.scheme.beginning = true;\r\n        } else {\r\n            global.scheme.beginning = false;\r\n        }\r\n    }\r\n}\r\n\r\n// import(\"./eruda\").then(({ default: eruda }) => {}); //runtime download\r\n\r\nReactDOM.render(<App tutorial={global.scheme.beginning}/>, document.getElementById(\"root\"));"],"sourceRoot":""}